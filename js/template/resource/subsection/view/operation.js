/*TMODJS:{"debug":true,"version":579,"md5":"0acc9b7a73285f744c07a0818886ac94"}*/
define(function(require) {
    return require("../../../template")("resource/subsection/view/operation", function($data, $filename) {
        try {
            var $utils = this, $helpers = $utils.$helpers, $line = 0, $escape = $utils.$escape, ptGroup = $data.ptGroup, $each = $utils.$each, mark = ($data.transferList, 
            $data.$index, $data.mark), subtGroupList = $data.subtGroupList, $out = ($data.subList, 
            "");
            return $out += '<div class="col-xs-12 operationMainForm globalAdd"> <div class="form-group clearfix" style="padding-bottom:15px;"> <input type="hidden" name="touristGroupId" value="', 
            $line = 3, $out += $escape(ptGroup.id), $out += '" /> <input type="hidden" name="touristGroupStartTime" value="', 
            $line = 4, $out += $escape($helpers.dateFormat(ptGroup.startTime, "yyyy-MM-dd")), 
            $out += '" /> <input type="hidden" name="touristGroupDays" value="', $line = 5, 
            $out += $escape(ptGroup.lineProduct.days), $out += '" /> <div class="row"> <label class="control-label col-xs-2">线路产品: ', 
            $line = 7, $out += $escape(ptGroup.lineProduct.name), $out += '</label> <label class="control-label col-xs-2">类别：', 
            $line = 8, $out += $escape(ptGroup.lineProduct.type), $out += '</label> <label class="control-label col-xs-2">应用范围：', 
            $line = 9, 0 == ptGroup.lineProduct.customerType ? ($out += "散客", $line = 9) : ($out += "团体", 
            $line = 9), $out += "</label> <label class=\"control-label col-xs-2\">天数：<span class='F-float F-count'>", 
            $line = 10, $out += $escape(ptGroup.lineProduct.days), $out += '</span>天</label> <label class="control-label col-xs-2 ">出游日期: <span class="T-startTime">', 
            $line = 11, $out += $escape($helpers.dateFormat(ptGroup.startTime, "yyyy-MM-dd")), 
            $out += '</span></label> </div> <div class="row"> <label class="control-label col-xs-2">来源: ', 
            $line = 14, $out += $escape(ptGroup.partnerAgency.travelAgencyName), $out += '</label> <label class="control-label col-xs-2">联系人: ', 
            $line = 15, $out += $escape(ptGroup.contactMember.name), $out += '</label> <label class="control-label col-xs-2">联系电话: ', 
            $line = 16, $out += $escape(ptGroup.contactMember.mobileNumber), $out += '</label> <label class="control-label col-xs-2">人数合计: ', 
            $line = 17, $out += $escape(ptGroup.adultCount), $out += "大", $line = 17, $out += $escape(ptGroup.childCount), 
            $out += "小</label> <label class=\"control-label col-xs-2\">应收: <span class='F-float F-money'>", 
            $line = 18, $out += $escape(ptGroup.needPayAllMoney), $out += '</span></label> </div> </div>  <div class="form-group"> <div class="col-sm-12"> <table class="table table-striped table-bordered table-hover addCostList"> <thead> <tr> <th class="th-border" width="20%">费用项</th> <th class="th-border">数量</th> <th class="th-border">单价</th> <th class="th-border">金额</th> <th class="th-border">说明</th> </tr> </thead> <tbody class="T-innerOutEditFeeTbody">  ', 
            $line = 38, $each(ptGroup.touristGroupFeeList, function(transferList) {
                $out += ' <tr data-entity-id="', $line = 39, $out += $escape(transferList.id), $out += '" data-type="', 
                $line = 39, $out += $escape(transferList.type), $out += '"> <td> ', $line = 41, 
                $out += $escape(transferList.name), $out += " </td> <td> ", $line = 44, $out += $escape(transferList.count), 
                $out += " </td> <td> ", $line = 47, $out += $escape(transferList.price), $out += " </td> <td>", 
                $line = 49, $out += $escape(transferList.price * transferList.count), $out += "</td> <td> ", 
                $line = 52, $out += $escape(transferList.remark), $out += " </td> </tr> ", $line = 55;
            }), $out += ' </tbody> </table> </div> </div>  <div class="form-group"> <button class="btn btn-sm btn-success T-btn-operation-add" data-mark="', 
            $line = 65, $out += $escape(mark), $out += '"> <i class="ace-icon fa fa-plus"></i>新增分段</button> </div> <div class="form-group"> <table class="table table-striped table-bordered table-hover"> <thead> <tr class="bg-blur"> <th>线路产品</th> <th>针对客源</th> <th>行程天数</th> <th>出游日期</th> <th>费用项</th> <th>数量</th> <th>单价</th> <th>金额</th> <th>本段现收团款</th> <th>本段核算中转</th> <th>状态</th> <th>操作</th> </tr> </thead> <tbody class="T-subsectionOperationTbody" data-neePayAllMoney="', 
            $line = 86, $out += $escape(ptGroup.needPayAllMoney), $out += '">', $line = 86, 
            $each(subtGroupList, function(subList) {
                $out += " ", $line = 86, null != subList.id && ($out += ' <tr data-entity-id="', 
                $line = 87, $out += $escape(subList.id), $out += '"> <td> <input type="hidden" name="lineProductId" value="', 
                $line = 89, $out += $escape(subList.lineProduct.id), $out += '" /> <input class="', 
                $line = 90, 1 == subList.status && ($out += "T-chooseLineProduct", $line = 90), 
                $out += ' col-sm-12" name="lineProduct" ', $line = 90, 1 != subList.status && ($out += 'readonly="readonly" ', 
                $line = 90), $out += ' type="text" value="', $line = 90, $out += $escape(subList.lineProduct.name), 
                $out += '" /> </td> <td> <input type="text" name="customerType" class="col-sm-12" readonly="readonly" value="', 
                $line = 93, 0 == subList.lineProduct.customerType ? ($out += "散客", $line = 93) : ($out += "团体", 
                $line = 93), $out += '" /> </td> <td> <input type="text" name="days" class="col-sm-10 F-float F-count" readonly="readonly" value="', 
                $line = 96, $out += $escape(subList.lineProduct.days), $out += '" /><span class="col-sm-2" style="line-height: 30px">天</span></td> <td> <input class="', 
                $line = 98, 1 == subList.status && ($out += "T-startTime", $line = 98), $out += ' datepicker col-sm-12" name="startTime" type="text" ', 
                $line = 98, 1 != subList.status && ($out += 'readonly="readonly" ', $line = 98), 
                $out += ' value="', $line = 98, $out += $escape($helpers.dateFormat(subList.startTime, "yyyy-MM-dd")), 
                $out += '" /> </td> <td> <div class="clearfix" style="margin-top:1px"> <input data-index="0" class="F-float F-money T-type" type="text" name="name" value=""> <label class="timeArea" style="float:right;padding-top:0px;"> <button class="btn btn-success btn-sm btn-white T-add"> <i class="ace-icon fa fa-plus bigger-110 icon-only"></i> </button> </label> </div> </td> <td> <div class="clearfix" style="margin-top:1px" data-id=\'0\'><input data-index="0" class=" F-float F-count T-count T-calc T-count-0 " type="text" name="count" value=""></div> </td> <td> <div class="clearfix" style="margin-top:1px" data-id=\'\'><input data-index="0" class="F-float F-count T-price T-calc T-price-0" type="text" name="price" value=""></div> </td> <td> <div class="clearfix" style="margin-top:1px" data-id=\'\'><input class="F-float F-money T-payedMoney T-calc" value="', 
                $line = 119, $out += $escape(subList.subsectionNeedPayAllMoney), $out += '" type="text" name="needPayAllMoney" value=""></div> </td> <td> <input type="radio" name="operateCurrentNeedPayMoney" ', 
                $line = 123, 1 == subList.operateCurrentNeedPayMoney && ($out += 'checked="checked" ', 
                $line = 123), $out += ' /> </td> <td><input type="radio" name="operateCalculteOut" ', 
                $line = 125, 1 == subList.operateCalculteOut && ($out += 'checked="checked" ', $line = 125), 
                $out += " /></td> <td> ", $line = 127, 0 == subList.status ? ($out += " 已发团 ", $line = 127) : 1 == subList.status ? ($out += " 未分团 ", 
                $line = 127) : 2 == subList.status ? ($out += " 已分团 ", $line = 127) : 3 == subList.status ? ($out += " 已转客 ", 
                $line = 127) : 4 == subList.status ? ($out += " 已取消 ", $line = 127) : 5 == subList.status ? ($out += " 已分段 ", 
                $line = 127) : 6 == subList.status && ($out += " 已内转 ", $line = 127), $out += ' </td> <td> <div class="hidden-sm hidden-xs btn-group"> <a data-entity-id="', 
                $line = 131, $out += $escape(subList.id), $out += '" class=" ', $line = 131, 1 == subList.status && ($out += "T-btn-operation-delete", 
                $line = 131), $out += ' cursor" ', $line = 131, 1 != subList.status && ($out += 'style="color: #bbb;" ', 
                $line = 131), $out += "> 删除 </a> </div> </td> </tr>", $line = 136), $line = 136;
            }), $out += ' </tbody> </table> </div> <div class="form-group" style="text-align: center;"> <button class="btn btn-sm btn-danger T-btn-operation-close otherButton"> <i class="ace-icon fa fa-times"></i> 取消 </button> <button class="btn btn-sm btn-success T-btn-operation-save otherButton" data-days=', 
            $line = 142, $out += $escape(ptGroup.lineProduct.days), $out += " data-currentNeedPayMoney=", 
            $line = 142, $out += $escape(ptGroup.currentNeedPayMoney), $out += " ", $line = 142, 
            1 == mark && ($out += 'data-entity-mark="1" ', $line = 142), $out += '> <i class="ace-icon fa fa-check"></i> 保存 </button> </div> </div> ', 
            new String($out);
        } catch (e) {
            throw {
                filename: $filename,
                name: "Render Error",
                message: e.message,
                line: $line,
                source: '<div class="col-xs-12 operationMainForm globalAdd">\r\n    <div class="form-group clearfix" style="padding-bottom:15px;">\r\n        <input type="hidden" name="touristGroupId" value="{{ptGroup.id}}" />\r\n        <input type="hidden" name="touristGroupStartTime" value="{{ptGroup.startTime | dateFormat: \'yyyy-MM-dd\'}}" />\r\n        <input type="hidden" name="touristGroupDays" value="{{ptGroup.lineProduct.days}}" />\r\n        <div class="row">\r\n            <label class="control-label col-xs-2">线路产品: {{ptGroup.lineProduct.name}}</label>\r\n            <label class="control-label col-xs-2">类别：{{ptGroup.lineProduct.type}}</label>\r\n            <label class="control-label col-xs-2">应用范围：{{if ptGroup.lineProduct.customerType == 0}}散客{{else}}团体{{/if}}</label>\r\n            <label class="control-label col-xs-2">天数：<span class=\'F-float F-count\'>{{ptGroup.lineProduct.days}}</span>天</label>\r\n            <label class="control-label col-xs-2 ">出游日期: <span class="T-startTime">{{ptGroup.startTime | dateFormat: \'yyyy-MM-dd\'}}</span></label>\r\n        </div>\r\n        <div class="row">\r\n            <label class="control-label col-xs-2">来源: {{ptGroup.partnerAgency.travelAgencyName}}</label>\r\n            <label class="control-label col-xs-2">联系人: {{ptGroup.contactMember.name}}</label>\r\n            <label class="control-label col-xs-2">联系电话: {{ptGroup.contactMember.mobileNumber}}</label>\r\n            <label class="control-label col-xs-2">人数合计: {{ptGroup.adultCount}}大{{ptGroup.childCount}}小</label>\r\n            <label class="control-label col-xs-2">应收: <span class=\'F-float F-money\'>{{ptGroup.needPayAllMoney}}</span></label>\r\n        </div>\r\n    </div>\r\n\r\n    \r\n    <!--游客小组费start-->\r\n    <div class="form-group">\r\n        <div class="col-sm-12">\r\n            <table class="table table-striped table-bordered table-hover addCostList"> \r\n                <thead>\r\n                    <tr>\r\n                        <th class="th-border" width="20%">费用项</th>\r\n                        <th class="th-border">数量</th>\r\n                        <th class="th-border">单价</th>\r\n                        <th class="th-border">金额</th>   \r\n                        <th class="th-border">说明</th>\r\n                    </tr>\r\n                </thead>\r\n                <tbody class="T-innerOutEditFeeTbody">\r\n                    <!--游客小组费用start-->\r\n                    {{each ptGroup.touristGroupFeeList as transferList}}\r\n                        <tr  data-entity-id="{{transferList.id}}" data-type="{{transferList.type}}">\r\n                            <td>\r\n                                {{transferList.name}}\r\n                            </td>   \r\n                            <td>\r\n                                {{transferList.count}}\r\n                            </td>\r\n                            <td>\r\n                                {{transferList.price}}\r\n                            </td>\r\n                            <td>{{transferList.price*transferList.count}}</td>\r\n\r\n                            <td>\r\n                                {{transferList.remark}}\r\n                            </td>\r\n                        </tr>\r\n                    {{/each}}\r\n                   \r\n                </tbody>\r\n            </table>\r\n        </div>\r\n    </div>\r\n    <!--游客小组费end-->\r\n\r\n\r\n    <div class="form-group">\r\n        <button class="btn btn-sm btn-success T-btn-operation-add" data-mark="{{mark}}"> <i class="ace-icon fa fa-plus"></i>新增分段</button>\r\n    </div>\r\n\r\n    <div class="form-group">\r\n        <table class="table table-striped table-bordered table-hover">\r\n            <thead>\r\n                <tr class="bg-blur">\r\n                    <th>线路产品</th>\r\n                    <th>针对客源</th>\r\n                    <th>行程天数</th>\r\n                    <th>出游日期</th>\r\n                    <th>费用项</th>\r\n                    <th>数量</th>\r\n                    <th>单价</th>\r\n                    <th>金额</th>\r\n                    <th>本段现收团款</th>\r\n                    <th>本段核算中转</th>\r\n                    <th>状态</th>\r\n                    <th>操作</th>\r\n                </tr>\r\n            </thead>\r\n            <tbody class="T-subsectionOperationTbody" data-neePayAllMoney="{{ptGroup.needPayAllMoney}}">{{each subtGroupList as subList}} {{if subList.id != null}}\r\n                <tr data-entity-id="{{subList.id}}">\r\n                    <td>\r\n                        <input type="hidden" name="lineProductId" value="{{subList.lineProduct.id}}" />\r\n                        <input class="{{if subList.status == 1}}T-chooseLineProduct{{/if}} col-sm-12" name="lineProduct" {{if subList.status !=1 }}readonly="readonly" {{/if}} type="text" value="{{subList.lineProduct.name}}" />\r\n                    </td>\r\n                    <td>\r\n                        <input type="text" name="customerType" class="col-sm-12" readonly="readonly" value="{{if subList.lineProduct.customerType == 0}}散客{{else}}团体{{/if}}" />\r\n                    </td>\r\n                    <td>\r\n                        <input type="text" name="days" class="col-sm-10 F-float F-count" readonly="readonly" value="{{subList.lineProduct.days}}" /><span class="col-sm-2" style="line-height: 30px">天</span></td>\r\n                    <td>\r\n                        <input class="{{if subList.status == 1}}T-startTime{{/if}} datepicker col-sm-12" name="startTime" type="text" {{if subList.status !=1 }}readonly="readonly" {{/if}} value="{{subList.startTime | dateFormat: \'yyyy-MM-dd\'}}" />\r\n                    </td>\r\n\r\n                    <td>\r\n                        <div class="clearfix" style="margin-top:1px">\r\n                            <input data-index="0" class="F-float F-money T-type" type="text" name="name" value="">\r\n                            <label class="timeArea" style="float:right;padding-top:0px;">\r\n                                <button class="btn btn-success btn-sm btn-white T-add">\r\n                                    <i class="ace-icon fa fa-plus bigger-110 icon-only"></i>\r\n                                </button>\r\n                            </label>\r\n                        </div>\r\n                    </td>\r\n                     <td>\r\n                        <div class="clearfix" style="margin-top:1px" data-id=\'0\'><input data-index="0" class=" F-float F-count T-count T-calc T-count-0 " type="text" name="count"  value=""></div>\r\n                    </td>\r\n                     <td>\r\n                        <div class="clearfix" style="margin-top:1px" data-id=\'\'><input  data-index="0" class="F-float F-count T-price T-calc T-price-0"  type="text" name="price" value=""></div>\r\n                    </td>\r\n\r\n                     <td>\r\n                        <div class="clearfix" style="margin-top:1px" data-id=\'\'><input class="F-float F-money  T-payedMoney T-calc" value="{{subList.subsectionNeedPayAllMoney}}" type="text" name="needPayAllMoney" value=""></div>\r\n                    </td>\r\n\r\n                    <td>\r\n                        <input type="radio" name="operateCurrentNeedPayMoney" {{if subList.operateCurrentNeedPayMoney==1 }}checked="checked" {{/if}} />\r\n                    </td>\r\n                    <td><input type="radio" name="operateCalculteOut" {{if subList.operateCalculteOut==1 }}checked="checked" {{/if}} /></td>\r\n                    <td>\r\n                        {{if subList.status == 0}} 已发团 {{else if subList.status == 1}} 未分团 {{else if subList.status == 2}} 已分团 {{else if subList.status == 3}} 已转客 {{else if subList.status == 4}} 已取消 {{else if subList.status == 5}} 已分段 {{else if subList.status == 6}} 已内转 {{/if}}\r\n                    </td>\r\n                    <td>\r\n                        <div class="hidden-sm hidden-xs btn-group">\r\n                            <a data-entity-id="{{subList.id}}" class=" {{if subList.status == 1}}T-btn-operation-delete{{/if}} cursor" {{if subList.status !=1 }}style="color: #bbb;" {{/if}}>\r\n							删除\r\n						</a>\r\n                        </div>\r\n                    </td>\r\n                </tr>{{/if}}{{/each}}\r\n            </tbody>\r\n        </table>\r\n    </div>\r\n    <div class="form-group" style="text-align: center;">\r\n        <button class="btn btn-sm btn-danger T-btn-operation-close otherButton"> <i class="ace-icon fa fa-times"></i> 取消 </button>\r\n        <button class="btn btn-sm btn-success T-btn-operation-save otherButton" data-days={{ptGroup.lineProduct.days}} data-currentNeedPayMoney={{ptGroup.currentNeedPayMoney}} {{if mark==1 }}data-entity-mark="1" {{/if}}> <i class="ace-icon fa fa-check"></i> 保存 </button>\r\n    </div>\r\n</div>\r\n'.split(/\n/)[$line - 1].replace(/^\s+/, "")
            };
        }
    });
});