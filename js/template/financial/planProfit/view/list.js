/*TMODJS:{"debug":true,"version":409,"md5":"751d80adf3a34ea43382ef2d68e9e639"}*/
define(function(require) {
    return require("../../../template")("financial/planProfit/view/list", function($data, $filename) {
        try {
            var $utils = this, $helpers = $utils.$helpers, $line = 0, isTurn = $data.isTurn, $each = $utils.$each, result = $data.result, $escape = ($data.rs, 
            $data.$index, $utils.$escape), subtotal = $data.subtotal, $out = "";
            return $out += '<thead> <tr class="bg-blur"> <th rowspan="2" style="min-width: 300px;">团信息</th> <th rowspan="2">状态</th> <th colspan="5">收入</th> <th colspan="12">发团成本</th> ', 
            $line = 7, 1 == isTurn && ($out += ' <th colspan="5">中转成本</th> ', $line = 9), $out += ' <th rowspan="2">收入小计</th> <th rowspan="2">发团成本小计</th> ', 
            $line = 12, 1 == isTurn && ($out += ' <th rowspan="2">中转成本小计</th> ', $line = 14), 
            $out += ' <th rowspan="2">毛利</th> <th width="80" rowspan="2">人均毛利</th> </tr> <tr class="bg-blur"> <th>团款</th> <th>购物佣金</th> <th>自费收入</th> <th>其它收入</th> <th>导游管理费</th> <th>导服费</th> <th>保险</th> <th>车费</th> <th>餐费</th> <th>房费</th> <th>景区</th> <th>票务</th> <th>自费</th> <th>其它支出</th> <th>购物导佣</th> <th>自费导佣</th> <th>导游结算扣款</th> ', 
            $line = 36, isTurn && ($out += " <th>车费</th> <th>餐费</th> <th>房费</th> <th>票务</th> <th>其他</th> ", 
            $line = 42), $out += " </tr> </thead> <tbody> ", $line = 46, $each(result, function(rs) {
                $out += ' <tr data-id="', $line = 47, $out += $escape(rs.financialId), $out += '"> <td class="h-touristGroupInfo"> <p> <span class="h-orderNumber">', 
                $line = 50, $out += $escape(rs.tripNumber), $out += '</span> <span class="h-type">', 
                $line = 51, 1 == rs.tripPlanType ? ($out += "团队", $line = 51) : 0 == rs.tripPlanType && ($out += "散客", 
                $line = 51), $out += '</span> </p> <p> <span class="h-lineProductName">', $line = 54, 
                $out += $escape(rs.lineProductName), $out += '</span> </p> <p> 出游日期：<span class="h-startDate">', 
                $line = 57, $out += $escape($helpers.dateFormat(rs.startTime, "yyyy-MM-dd")), $out += "</span>&nbsp;(<span>", 
                $line = 57, $out += $escape(rs.adultCount), $out += "</span> 大 <span>", $line = 57, 
                $out += $escape(rs.childCount), $out += "</span> 小) </p> <p> ", $line = 60, rs.guideName && ($out += ' 导游：<span class="h-name">', 
                $line = 60, $out += $escape(rs.guideName), $out += "</span>", $line = 60), $out += " ", 
                $line = 61, rs.creatorName && ($out += ' 责任计调：<span class="h-name">', $line = 61, 
                $out += $escape(rs.creatorName), $out += "</span>", $line = 61), $out += " </p> </td> <td>", 
                $line = 64, -1 == rs.billStatus ? ($out += " 待报账 ", $line = 66) : 0 == rs.billStatus ? ($out += " 待审核 ", 
                $line = 68) : 1 == rs.billStatus ? ($out += " 计调已审 ", $line = 70) : 2 == rs.billStatus && ($out += " 财务已审 ", 
                $line = 72), $out += ' </td> <td><span class="F-float F-money">', $line = 74, $out += $escape(rs.needPayAllMoney), 
                $out += '</span></td> <td><span class="F-float F-money">', $line = 75, $out += $escape(rs.shopMoney), 
                $out += '</span></td> <td><span class="F-float F-money">', $line = 76, $out += $escape(rs.selfIncome), 
                $out += '</span></td> <td><span class="F-float F-money">', $line = 77, $out += $escape(rs.incomeMoney), 
                $out += '</span></td> <td><span class="F-float F-money">', $line = 78, $out += $escape(rs.guideMoney), 
                $out += '</span></td> <td><span class="F-float F-money">', $line = 79, $out += $escape(rs.guideTip), 
                $out += '</span></td> <td><span class="F-float F-money">', $line = 80, $out += $escape(rs.insuranceMoney), 
                $out += '</span></td> <td><span class="F-float F-money">', $line = 81, $out += $escape(rs.busMoney), 
                $out += '</span></td> <td><span class="F-float F-money">', $line = 82, $out += $escape(rs.restaurantMoney), 
                $out += '</span></td> <td><span class="F-float F-money">', $line = 83, $out += $escape(rs.hotelMoney), 
                $out += '</span></td> <td><span class="F-float F-money">', $line = 84, $out += $escape(rs.scenicMoney), 
                $out += '</span></td> <td><span class="F-float F-money">', $line = 85, $out += $escape(rs.ticketMoney), 
                $out += '</span></td> <td><span class="F-float F-money">', $line = 86, $out += $escape(rs.selfPayMoney), 
                $out += '</span></td> <td><span class="F-float F-money">', $line = 87, $out += $escape(rs.otherMoney), 
                $out += '</span></td> <td><span class="F-float F-money">', $line = 88, $out += $escape(rs.shopCostMoney), 
                $out += '</span></td> <td><span class="F-float F-money">', $line = 89, $out += $escape(rs.selfMoney), 
                $out += '</span></td> <td><span class="F-float F-money">', $line = 90, $out += $escape(rs.guideDeductions), 
                $out += "</span></td> ", $line = 91, 1 == isTurn && ($out += ' <td><span class="F-float F-money">', 
                $line = 92, $out += $escape(rs.outBusMoney), $out += '</span></td> <td><span class="F-float F-money">', 
                $line = 93, $out += $escape(rs.outRestaurantMoney), $out += '</span></td> <td><span class="F-float F-money">', 
                $line = 94, $out += $escape(rs.outHotelMoney), $out += '</span></td> <td><span class="F-float F-money">', 
                $line = 95, $out += $escape(rs.outTicketMoney), $out += '</span></td> <td><span class="F-float F-money">', 
                $line = 96, $out += $escape(rs.outOtherMoney), $out += "</span></td> ", $line = 97), 
                $out += ' <td><span class="F-float F-money">', $line = 98, $out += $escape(rs.totalIncome), 
                $out += '</span></td> <td><span class="F-float F-money">', $line = 99, $out += $escape(rs.totalTrip), 
                $out += "</span></td> ", $line = 100, 1 == isTurn && ($out += ' <td><span class="F-float F-money">', 
                $line = 101, $out += $escape(rs.totalOut), $out += "</span></td> ", $line = 102), 
                $out += ' <td><span class="F-float F-money">', $line = 103, $out += $escape(rs.profit), 
                $out += '</span></td> <td><span class="F-float F-money">', $line = 104, $out += $escape(rs.perCapitaProfit), 
                $out += "</span></td> </tr> ", $line = 106;
            }), $out += " ", $line = 107, result.length > 0 && ($out += ' <tr style="background: #fcf8e4;"> <td>小计</td> <td><span class="F-float F-count">', 
            $line = 110, $out += $escape(subtotal.adultCount), $out += '</span> 大 <span class="F-float F-count">', 
            $line = 110, $out += $escape(subtotal.childCount), $out += '</span> 小</td> <td><span class="F-float F-money">', 
            $line = 111, $out += $escape(subtotal.needPayAllMoney), $out += '</span></td> <td><span class="F-float F-money">', 
            $line = 112, $out += $escape(subtotal.shopMoney), $out += '</span></td> <td><span class="F-float F-money">', 
            $line = 113, $out += $escape(subtotal.selfIncome), $out += '</span></td> <td><span class="F-float F-money">', 
            $line = 114, $out += $escape(subtotal.incomeMoney), $out += '</span></td> <td><span class="F-float F-money">', 
            $line = 115, $out += $escape(subtotal.guideMoney), $out += '</span></td> <td><span class="F-float F-money">', 
            $line = 116, $out += $escape(subtotal.guideTip), $out += '</span></td> <td><span class="F-float F-money">', 
            $line = 117, $out += $escape(subtotal.insuranceMoney), $out += '</span></td> <td><span class="F-float F-money">', 
            $line = 118, $out += $escape(subtotal.busMoney), $out += '</span></td> <td><span class="F-float F-money">', 
            $line = 119, $out += $escape(subtotal.restaurantMoney), $out += '</span></td> <td><span class="F-float F-money">', 
            $line = 120, $out += $escape(subtotal.hotelMoney), $out += '</span></td> <td><span class="F-float F-money">', 
            $line = 121, $out += $escape(subtotal.scenicMoney), $out += '</span></td> <td><span class="F-float F-money">', 
            $line = 122, $out += $escape(subtotal.ticketMoney), $out += '</span></td> <td><span class="F-float F-money">', 
            $line = 123, $out += $escape(subtotal.selfPayMoney), $out += '</span></td> <td><span class="F-float F-money">', 
            $line = 124, $out += $escape(subtotal.otherMoney), $out += '</span></td> <td><span class="F-float F-money">', 
            $line = 125, $out += $escape(subtotal.shopCostMoney), $out += '</span></td> <td><span class="F-float F-money">', 
            $line = 126, $out += $escape(subtotal.selfMoney), $out += '</span></td> <td><span class="F-float F-money">', 
            $line = 127, $out += $escape(subtotal.guideDeductions), $out += "</span></td> ", 
            $line = 128, 1 == isTurn && ($out += ' <td><span class="F-float F-money">', $line = 129, 
            $out += $escape(subtotal.outBusMoney), $out += '</span></td> <td><span class="F-float F-money">', 
            $line = 130, $out += $escape(subtotal.outRestaurantMoney), $out += '</span></td> <td><span class="F-float F-money">', 
            $line = 131, $out += $escape(subtotal.outHotelMoney), $out += '</span></td> <td><span class="F-float F-money">', 
            $line = 132, $out += $escape(subtotal.outTicketMoney), $out += '</span></td> <td><span class="F-float F-money">', 
            $line = 133, $out += $escape(subtotal.outOtherMoney), $out += "</span></td> ", $line = 134), 
            $out += ' <td><span class="F-float F-money">', $line = 135, $out += $escape(subtotal.totalIncome), 
            $out += '</span></td> <td><span class="F-float F-money">', $line = 136, $out += $escape(subtotal.totalTrip), 
            $out += "</span></td> ", $line = 137, 1 == isTurn && ($out += ' <td><span class="F-float F-money">', 
            $line = 138, $out += $escape(subtotal.totalOut), $out += "</span></td> ", $line = 139), 
            $out += ' <td><span class="F-float F-money">', $line = 140, $out += $escape(subtotal.profit), 
            $out += '</span></td> <td><span class="F-float F-money">', $line = 141, $out += $escape(subtotal.perCapitaProfit), 
            $out += "</span></td> </tr> ", $line = 143), $out += " </tbody>", new String($out);
        } catch (e) {
            throw {
                filename: $filename,
                name: "Render Error",
                message: e.message,
                line: $line,
                source: '<thead>\r\n	<tr class="bg-blur">\r\n		<th rowspan="2" style="min-width: 300px;">团信息</th>\r\n		<th rowspan="2">状态</th>\r\n		<th colspan="5">收入</th>\r\n		<th colspan="12">发团成本</th>\r\n		{{if isTurn == 1}}\r\n		<th colspan="5">中转成本</th>\r\n		{{/if}}\r\n		<th rowspan="2">收入小计</th>\r\n		<th rowspan="2">发团成本小计</th>\r\n		{{if isTurn == 1}}\r\n		<th rowspan="2">中转成本小计</th>\r\n		{{/if}}\r\n		<th rowspan="2">毛利</th>\r\n		<th width="80" rowspan="2">人均毛利</th>\r\n	</tr>\r\n	<tr class="bg-blur">\r\n		<th>团款</th>\r\n		<th>购物佣金</th>\r\n		<th>自费收入</th>\r\n		<th>其它收入</th>\r\n		<th>导游管理费</th>\r\n		<th>导服费</th>\r\n		<th>保险</th>\r\n		<th>车费</th>\r\n		<th>餐费</th>\r\n		<th>房费</th>\r\n		<th>景区</th>\r\n		<th>票务</th>\r\n		<th>自费</th>\r\n		<th>其它支出</th>\r\n		<th>购物导佣</th>\r\n		<th>自费导佣</th>\r\n		<th>导游结算扣款</th>\r\n		{{if isTurn}}\r\n		<th>车费</th>\r\n		<th>餐费</th>\r\n		<th>房费</th>\r\n		<th>票务</th>\r\n		<th>其他</th>\r\n		{{/if}}\r\n	</tr>\r\n</thead>\r\n<tbody>\r\n	{{each result as rs}}\r\n	<tr data-id="{{rs.financialId}}">\r\n		<td class="h-touristGroupInfo">\r\n			<p>\r\n				<span class="h-orderNumber">{{rs.tripNumber}}</span>\r\n				<span class="h-type">{{if rs.tripPlanType == 1}}团队{{else if rs.tripPlanType == 0}}散客{{/if}}</span>\r\n			</p>\r\n			<p>\r\n				<span class="h-lineProductName">{{rs.lineProductName}}</span>\r\n			</p>\r\n			<p>\r\n				出游日期：<span class="h-startDate">{{rs.startTime | dateFormat:\'yyyy-MM-dd\'}}</span>&nbsp;(<span>{{rs.adultCount}}</span> 大 <span>{{rs.childCount}}</span> 小)\r\n			</p>\r\n			<p>\r\n				{{if rs.guideName}} 导游：<span class="h-name">{{rs.guideName}}</span>{{/if}}\r\n				{{if rs.creatorName}} 责任计调：<span class="h-name">{{rs.creatorName}}</span>{{/if}}\r\n			</p>\r\n		</td>\r\n		<td>{{if rs.billStatus == -1}}\r\n				待报账\r\n			{{else if rs.billStatus == 0}}\r\n				待审核\r\n			{{else if rs.billStatus == 1}}\r\n				计调已审\r\n			{{else if rs.billStatus == 2}}\r\n				财务已审\r\n			{{/if}}\r\n		</td>\r\n		<td><span class="F-float F-money">{{rs.needPayAllMoney}}</span></td>\r\n		<td><span class="F-float F-money">{{rs.shopMoney}}</span></td>\r\n		<td><span class="F-float F-money">{{rs.selfIncome}}</span></td>\r\n		<td><span class="F-float F-money">{{rs.incomeMoney}}</span></td>\r\n		<td><span class="F-float F-money">{{rs.guideMoney}}</span></td>\r\n		<td><span class="F-float F-money">{{rs.guideTip}}</span></td>\r\n		<td><span class="F-float F-money">{{rs.insuranceMoney}}</span></td>\r\n		<td><span class="F-float F-money">{{rs.busMoney}}</span></td>\r\n		<td><span class="F-float F-money">{{rs.restaurantMoney}}</span></td>\r\n		<td><span class="F-float F-money">{{rs.hotelMoney}}</span></td>\r\n		<td><span class="F-float F-money">{{rs.scenicMoney}}</span></td>\r\n		<td><span class="F-float F-money">{{rs.ticketMoney}}</span></td>\r\n		<td><span class="F-float F-money">{{rs.selfPayMoney}}</span></td>\r\n		<td><span class="F-float F-money">{{rs.otherMoney}}</span></td>\r\n		<td><span class="F-float F-money">{{rs.shopCostMoney}}</span></td>\r\n		<td><span class="F-float F-money">{{rs.selfMoney}}</span></td>\r\n		<td><span class="F-float F-money">{{rs.guideDeductions}}</span></td>\r\n		{{if isTurn == 1}}\r\n		<td><span class="F-float F-money">{{rs.outBusMoney}}</span></td>\r\n		<td><span class="F-float F-money">{{rs.outRestaurantMoney}}</span></td>\r\n		<td><span class="F-float F-money">{{rs.outHotelMoney}}</span></td>\r\n		<td><span class="F-float F-money">{{rs.outTicketMoney}}</span></td>\r\n		<td><span class="F-float F-money">{{rs.outOtherMoney}}</span></td>\r\n		{{/if}}\r\n		<td><span class="F-float F-money">{{rs.totalIncome}}</span></td>\r\n		<td><span class="F-float F-money">{{rs.totalTrip}}</span></td>\r\n		{{if isTurn == 1}}\r\n		<td><span class="F-float F-money">{{rs.totalOut}}</span></td>\r\n		{{/if}}\r\n		<td><span class="F-float F-money">{{rs.profit}}</span></td>\r\n		<td><span class="F-float F-money">{{rs.perCapitaProfit}}</span></td>\r\n	</tr>\r\n	{{/each}}\r\n	{{if result.length > 0}}\r\n	<tr style="background: #fcf8e4;">\r\n		<td>小计</td>\r\n		<td><span class="F-float F-count">{{subtotal.adultCount}}</span> 大 <span class="F-float F-count">{{subtotal.childCount}}</span> 小</td>\r\n		<td><span class="F-float F-money">{{subtotal.needPayAllMoney}}</span></td>\r\n		<td><span class="F-float F-money">{{subtotal.shopMoney}}</span></td>\r\n		<td><span class="F-float F-money">{{subtotal.selfIncome}}</span></td>\r\n		<td><span class="F-float F-money">{{subtotal.incomeMoney}}</span></td>\r\n		<td><span class="F-float F-money">{{subtotal.guideMoney}}</span></td>\r\n		<td><span class="F-float F-money">{{subtotal.guideTip}}</span></td>\r\n		<td><span class="F-float F-money">{{subtotal.insuranceMoney}}</span></td>\r\n		<td><span class="F-float F-money">{{subtotal.busMoney}}</span></td>\r\n		<td><span class="F-float F-money">{{subtotal.restaurantMoney}}</span></td>\r\n		<td><span class="F-float F-money">{{subtotal.hotelMoney}}</span></td>\r\n		<td><span class="F-float F-money">{{subtotal.scenicMoney}}</span></td>\r\n		<td><span class="F-float F-money">{{subtotal.ticketMoney}}</span></td>\r\n		<td><span class="F-float F-money">{{subtotal.selfPayMoney}}</span></td>\r\n		<td><span class="F-float F-money">{{subtotal.otherMoney}}</span></td>\r\n		<td><span class="F-float F-money">{{subtotal.shopCostMoney}}</span></td>\r\n		<td><span class="F-float F-money">{{subtotal.selfMoney}}</span></td>\r\n		<td><span class="F-float F-money">{{subtotal.guideDeductions}}</span></td>\r\n		{{if isTurn == 1}}\r\n		<td><span class="F-float F-money">{{subtotal.outBusMoney}}</span></td>\r\n		<td><span class="F-float F-money">{{subtotal.outRestaurantMoney}}</span></td>\r\n		<td><span class="F-float F-money">{{subtotal.outHotelMoney}}</span></td>\r\n		<td><span class="F-float F-money">{{subtotal.outTicketMoney}}</span></td>\r\n		<td><span class="F-float F-money">{{subtotal.outOtherMoney}}</span></td>\r\n		{{/if}}\r\n		<td><span class="F-float F-money">{{subtotal.totalIncome}}</span></td>\r\n		<td><span class="F-float F-money">{{subtotal.totalTrip}}</span></td>\r\n		{{if isTurn == 1}}\r\n		<td><span class="F-float F-money">{{subtotal.totalOut}}</span></td>\r\n		{{/if}}\r\n		<td><span class="F-float F-money">{{subtotal.profit}}</span></td>\r\n		<td><span class="F-float F-money">{{subtotal.perCapitaProfit}}</span></td>\r\n	</tr>\r\n	{{/if}}\r\n</tbody>'.split(/\n/)[$line - 1].replace(/^\s+/, "")
            };
        }
    });
});