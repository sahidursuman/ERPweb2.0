/*TMODJS:{"debug":true,"version":641,"md5":"27681d3ee50333502eb9cd8e6c0b5bab"}*/
define(function(require) {
    return require("../../../template")("financial/count/view/update", function($data, $filename) {
        try {
            var $utils = this, $helpers = $utils.$helpers, $line = 0, $escape = $utils.$escape, tripPlan = $data.tripPlan, user = $data.user, touristGroup = $data.touristGroup, guideArrange = $data.guideArrange, insuranceArrange = $data.insuranceArrange, isOp = $data.isOp, WEB_IMG_URL_BIG = $data.WEB_IMG_URL_BIG, WEB_IMG_URL_SMALL = $data.WEB_IMG_URL_SMALL, financialTripPlanId = $data.financialTripPlanId, isFinance = $data.isFinance, remarkArrangeList = $data.remarkArrangeList, $each = $utils.$each, dayList = $data.dayList, busCompanyArrange = ($data.day, 
            $data.$index, $data.shopArrangeList, $data.arrange, $data.index, $data.busCompanyArrange), arrangeIncomePaymentList = ($data.arrangeList, 
            $data.arrangeIncomePaymentList), ticketArrangeList = ($data.otherInCome, $data.busCompany, 
            $data.ticketArrangeList), $out = ($data.ticketArrange, "");
            return $out += '<div class="col-sm-12 countUpdate"> <div class="col-xs-12 border borderNormal" style="height: 125px;margin-bottom: 30px"> <form class="form-horizontal" role="form" onsubmit="return false"> <div class="search-area editable editable-click" style="margin-top: 10px;cursor: default;height: 30px"> <div class="form-group"> <label class="col-sm-3" style="font-weight: bold;">线路：', 
            $line = 6, $out += $escape(tripPlan.lineProduct.name), $out += '</label> <label class="col-sm-2" style="font-weight: bold;">类别：', 
            $line = 7, $out += $escape(tripPlan.lineProduct.type), $out += '</label> <label class="col-sm-2" style="font-weight: bold;">应用范围：', 
            $line = 8, 1 == tripPlan.lineProduct.customerType ? ($out += "团体", $line = 8) : 0 == tripPlan.lineProduct.customerType && ($out += "散客", 
            $line = 8), $out += '</label> <label class="col-sm-3" style="font-weight: bold;">天数：<span class="T-ProductDays" style="font-weight: bold;">', 
            $line = 9, $out += $escape(tripPlan.lineProduct.days), $out += '</span></label> </div> </div> </form> <form class="form-horizontal" role="form" onsubmit="return false"> <div class="search-area editable editable-click" style="margin-top: 10px;cursor: default;height: 30px"> <div class="form-group"> <label class="col-sm-3" style="font-weight: bold;">团号：', 
            $line = 18, $out += $escape(tripPlan.tripNumber), $out += '</label> <label class="col-sm-3" style="font-weight: bold;">出团日期:<span style="font-weight: bold;" name="startTime_Choose">', 
            $line = 19, $out += $escape($helpers.dateFormat(tripPlan.startTime, "yyyy-MM-dd")), 
            $out += '</span></label> <label class="col-sm-2" style="font-weight: bold;">完团日期：', 
            $line = 20, $out += $escape($helpers.dateFormat(tripPlan.endTime, "yyyy-MM-dd")), 
            $out += '</label> <label class="col-sm-2" style="font-weight: bold;">团队人数：', $line = 21, 
            $out += $escape(tripPlan.touristAdultCount), $out += "大", $line = 21, $out += $escape(tripPlan.touristChildCount), 
            $out += '小</label> </div> </div> </form> <form class="form-horizontal" role="form" onsubmit="return false"> <div class="search-area editable editable-click" style="margin-top: 10px;border-bottom:0px;cursor: default;height: 30px"> <div class="form-group"> <label class="col-sm-3" style="font-weight: bold;">导游：', 
            $line = 28, null != tripPlan.guide && ($line = 28, $out += $escape(tripPlan.guide.realname), 
            $line = 28), $out += '</label> <label class="col-sm-2" style="font-weight: bold;">全陪：', 
            $line = 29, $out += $escape(tripPlan.accompanyGuideName), $out += '</label> <label class="col-sm-2" style="font-weight: bold;"></label> <label class="col-sm-2" style="font-weight: bold;"></label> </div> </div> </form> </div> <div class="col-sm-12 " style="margin: 20px 0px 20px 0px;display: none;"> billStatus:', 
            $line = 37, "-1" == tripPlan.billStatus ? ($out += "待报账", $line = 37) : "0" == tripPlan.billStatus ? ($out += "待审核（就是已报账）", 
            $line = 37) : "1" == tripPlan.billStatus ? ($out += "计调已审", $line = 37) : "2" == tripPlan.billStatus && ($out += "财务已审", 
            $line = 37), $out += " <br /> roleType:", $line = 39, 0 == user.roleType ? ($out += "无审核权限", 
            $line = 39) : 1 == user.roleType ? ($out += "管理员", $line = 39) : 2 == user.roleType ? ($out += "财务", 
            $line = 39) : 3 == user.roleType && ($out += "计调", $line = 39), $out += ' </div> <table class="table table-striped table-bordered table-hover all main-table" style="margin-top: 30px;"> <tbody> <tr > <td colspan="8"> <div style="float: left;margin-left:10px;"> <input type="hidden" class="financial-tripPlanId" value="', 
            $line = 47, $out += $escape(tripPlan.id), $out += '" /> <input type="hidden" class="tripPlanAdultCount" value="', 
            $line = 48, $out += $escape(tripPlan.touristAdultCount), $out += '" /> <input type="hidden" class="tripPlanChildCount" value="', 
            $line = 49, $out += $escape(tripPlan.touristChildCount), $out += '" /> <input type="hidden" class="tripPlanStartTime" value="', 
            $line = 50, $out += $escape($helpers.dateFormat(tripPlan.startTime, "yyyy-MM-dd")), 
            $out += '" /> <label style="margin-left:50px;font-weight: bold;">毛利：<span class="grossProfitMoney"></span></label> <label style="margin-left:50px;font-weight: bold;">人均毛利：<span class="perGrossProfitMoney"></span></label> </div></td> </tr> <tr > <td colspan="2"><label style="font-weight: bold;">收入：<span class="tripIncome"></span></label></td> <td colspan="3"><label style="font-weight: bold;">团成本：<span class="tripCost"></span></label></td> <td><label style="font-weight: bold;">其他：<span class="tripOther"></span></label></td> <td colspan="2"><label style="font-weight: bold;">中转成本：<span class="tripTransitCost"></span></label></td> </tr> <tr> <td><label>应收团款：<span class="tripIncome-getAllMoney">', 
            $line = 65, $out += $escape(touristGroup.needPayAllMoney), $out += '</span></label></td> <td><label>自费返佣：<span class="tripIncome-selfPayTravelAgencyRebateMoney"></span></label></td> <td><label>导服费：<span class="tripCost-guideArrangePrice">', 
            $line = 67, $out += $escape(guideArrange.price), $out += '</span></label></td> <td><label>保险：<span class="tripCost-insuranceArrangeNeedPayMoney">', 
            $line = 68, $out += $escape(insuranceArrange.needPayMoney), $out += '</span></label></td> <td><label>车费：<span class="tripCost-busCompanyNeedPayMoney"></span></label></td> <td><label>导游管理费：<span class="tripOther-guideArrangeManageFee">', 
            $line = 70, $out += $escape(guideArrange.manageFee), $out += '</span></label></td> <td><label>车费：<span class="tripTransitCost-busCompanyNeedPayMoney">', 
            $line = 71, $out += $escape(touristGroup.outBusMoney), $out += '</span></label></td> <td><label>餐食费用：<span class="tripTransitCost-ticketArrangeNeedPayMoney">', 
            $line = 72, $out += $escape(touristGroup.outRestaurantMoney), $out += '</span></label></td> </tr> <tr> <td><label>购物返佣：<span class="tripIncome-shopTravelAgencyRateMoney"></span></label></td> <td><label>其他收入：<span class="tripIncome-otherInCome"></span></label></td> <td><label>餐费：<span class="tripCost-restaurantArrangeNeedPayMoney"></span></label></td> <td><label>房费：<span class="tripCost-hotelArrangeNeedPayMoney"></span></label></td> <td><label>景区费用：<span class="tripCost-scenicArrangeNeedPayMoney"></span></label></td> <td><label>导游预支金额：<span class="tripOther-guideAllPreMoney">', 
            $line = 81, $out += $escape(tripPlan.guideAllPreMoney), $out += '</span></label></td> <td><label>房费：<span class="tripTransitCost-hotelArrangeNeedPayMoney">', 
            $line = 82, $out += $escape(touristGroup.outHotelMoney), $out += '</span></label></td> <td><label>其他费用：<span class="tripTransitCost-ticketArrangeNeedPayMoney">', 
            $line = 83, $out += $escape(touristGroup.outOtherMoney), $out += '</span></label></td> </tr> <tr> <td></td> <td></td> <td><label>票务费用：<span class="tripCost-ticketArrangeNeedPayMoney"></span></label></td> <td><label>其他费用：<span class="tripCost-otherArrangeNeedPayMoney"></span></label></td> <td><label style="display: none;">地接费用：<span class="tripCost-groundArrangeNeedPayMoney"></span></label></td> <td></td> <td><label>票务费用', 
            $line = 92, $out += $escape(isOp), $out += '：<span class="tripTransitCost-ticketArrangeNeedPayMoney">', 
            $line = 92, $out += $escape(touristGroup.outTicketMoney), $out += '</span></label></td> <td></td> </tr> </tbody> </table> <input type="hidden" value="', 
            $line = 97, $out += $escape(WEB_IMG_URL_BIG), $out += '" name="WEB_IMG_URL_BIG" /> <input type="hidden" value="', 
            $line = 98, $out += $escape(WEB_IMG_URL_SMALL), $out += '" name="WEB_IMG_URL_SMALL" /> <div class="row" style="margin-bottom:15px;">  ', 
            $line = 102, "-1" == tripPlan.billStatus ? ($out += ' <div style="float:left;"> <button data-entity-id="', 
            $line = 104, $out += $escape(tripPlan.id), $out += '" data-entity-userName="', $line = 104, 
            $out += $escape(user.userName), $out += '" data-entity-roleType="', $line = 104, 
            $out += $escape(user.roleType), $out += '" data-entity-financial-id="', $line = 104, 
            $out += $escape(financialTripPlanId), $out += '" class="btn btn-xs btn-primary btn-transfter btn-saveCount" style="margin-right: 20px;"> <i class="ace-icon fa fa-save"></i>保存信息 </button> <button data-entity-id="', 
            $line = 107, $out += $escape(tripPlan.id), $out += '" data-entity-userName="', $line = 107, 
            $out += $escape(user.userName), $out += '" data-entity-roleType="', $line = 107, 
            $out += $escape(user.roleType), $out += '" data-entity-financial-id="', $line = 107, 
            $out += $escape(financialTripPlanId), $out += '" class="btn btn-xs btn-success btn-transfter btn-guide-account" style="margin-right: 20px;"> <i class="ace-icon fa fa-check-circle"></i>报账完成 </button> </div>  ', 
            $line = 112) : ($out += "  ", $line = 114, "1" == isOp && 0 == tripPlan.billStatus ? ($out += ' <div style="float:left;"> <button data-entity-id="', 
            $line = 116, $out += $escape(tripPlan.id), $out += '" data-entity-userName="', $line = 116, 
            $out += $escape(user.userName), $out += '" data-entity-roleType="', $line = 116, 
            $out += $escape(user.roleType), $out += '" data-entity-financial-id="', $line = 116, 
            $out += $escape(financialTripPlanId), $out += '" class="btn btn-xs btn-primary btn-transfter btn-saveCount" style="margin-right: 20px;"> <i class="ace-icon fa fa-save"></i>保存信息 </button> <button data-entity-billStatus="', 
            $line = 119, $out += $escape(tripPlan.billStatus), $out += '" data-entity-userName="', 
            $line = 119, $out += $escape(user.userName), $out += '" data-entity-roleType="', 
            $line = 119, $out += $escape(user.roleType), $out += '" data-entity-id="', $line = 119, 
            $out += $escape(tripPlan.id), $out += '" data-entity-financial-id="', $line = 119, 
            $out += $escape(financialTripPlanId), $out += '" class="btn btn-xs btn-success btn-transfter btn-accountCheck" style="margin-right: 20px;"> <i class="ace-icon fa fa-check-circle"></i>审核通过 </button> <button data-entity-billStatus="', 
            $line = 122, $out += $escape(tripPlan.billStatus), $out += '" data-entity-id="', 
            $line = 122, $out += $escape(tripPlan.id), $out += '" data-entity-financial-id="', 
            $line = 122, $out += $escape(financialTripPlanId), $out += '" class="btn btn-xs btn-danger btn-transfter btn-rebackGuide" style="margin-right: 20px;"> <i class="ace-icon fa fa-mail-reply"></i>退回导游 </button> </div> ', 
            $line = 126) : isFinance && 1 == tripPlan.billStatus ? ($out += ' <div style="float:left;"> <button data-entity-id="', 
            $line = 128, $out += $escape(tripPlan.id), $out += '" data-entity-userName="', $line = 128, 
            $out += $escape(user.userName), $out += '" data-entity-roleType="', $line = 128, 
            $out += $escape(user.roleType), $out += '" data-entity-financial-id="', $line = 128, 
            $out += $escape(financialTripPlanId), $out += '" class="btn btn-xs btn-primary btn-transfter btn-saveCount" style="margin-right: 20px;"> <i class="ace-icon fa fa-save"></i>保存信息 </button> <button data-entity-billStatus="', 
            $line = 131, $out += $escape(tripPlan.billStatus), $out += '" data-entity-userName="', 
            $line = 131, $out += $escape(user.userName), $out += '" data-entity-roleType="', 
            $line = 131, $out += $escape(user.roleType), $out += '" data-entity-id="', $line = 131, 
            $out += $escape(tripPlan.id), $out += '" data-entity-financial-id="', $line = 131, 
            $out += $escape(financialTripPlanId), $out += '" class="btn btn-xs btn-success btn-transfter btn-accountCheck" style="margin-right: 20px;"> <i class="ace-icon fa fa-check-circle"></i>审核通过 </button> <button data-entity-billStatus="', 
            $line = 134, $out += $escape(tripPlan.billStatus), $out += '" data-entity-id="', 
            $line = 134, $out += $escape(tripPlan.id), $out += '" data-entity-financial-id="', 
            $line = 134, $out += $escape(financialTripPlanId), $out += '" class="btn btn-xs btn-danger btn-transfter btn-rebackOP" style="margin-right: 20px;"> <i class="ace-icon fa fa-mail-reply"></i>退回计调 </button> </div> ', 
            $line = 138) : isFinance && 2 == tripPlan.billStatus && ($out += ' <div style="float:left;"> <button data-entity-id="', 
            $line = 140, $out += $escape(tripPlan.id), $out += '" data-entity-userName="', $line = 140, 
            $out += $escape(user.userName), $out += '" data-entity-roleType="', $line = 140, 
            $out += $escape(user.roleType), $out += '" data-entity-financial-id="', $line = 140, 
            $out += $escape(financialTripPlanId), $out += '" class="btn btn-xs btn-primary btn-transfter btn-saveCount" style="margin-right: 20px;"> <i class="ace-icon fa fa-save"></i>保存信息 </button> </div> ', 
            $line = 144), $out += " ", $line = 145), $out += ' <div style="margin-top:5px;float:left;width:90px;text-align:center;"> <a href="javascript:void(0);" class="btn-financialLog">操作记录</a> </div> <div style="margin-top:5px;float:left;width:90px;text-align:center;"> <a href="javascript:void(0);" class="btn-tripPlanArrange">安排预算表</a> </div> </div> <div class="tabbable"> <ul class="nav nav-tabs"> <li class="active col-sm-1 no-padding align-center"> <a data-toggle="tab" href="#financial-count-update-money" aria-expanded="true">团款</a> </li> <li class="col-sm-1 no-padding align-center"> <a data-toggle="tab" href="#financial-count-update-shop" aria-expanded="true">购物</a> </li> <li class="col-sm-1 no-padding align-center"> <a data-toggle="tab" href="#financial-count-update-selfpay" aria-expanded="true">自费</a> </li> <li class="col-sm-1 no-padding align-center"> <a data-toggle="tab" href="#financial-count-update-other-incoming" aria-expanded="true">其他收入</a> </li> <li class="col-sm-1 no-padding align-center"> <a data-toggle="tab" href="#financial-count-update-buspay" aria-expanded="true">车费</a> </li> <li class="col-sm-1 no-padding align-center"> <a data-toggle="tab" href="#financial-count-update-restaurantpay" aria-expanded="true">餐费</a> </li> <li class="col-sm-1 no-padding align-center"> <a data-toggle="tab" href="#financial-count-update-hotelpay" aria-expanded="true">房费</a> </li> <li class="col-sm-1 no-padding align-center"> <a data-toggle="tab" href="#financial-count-update-scenicpay" aria-expanded="true">景区</a> </li> <li class="col-sm-1 no-padding align-center"> <a data-toggle="tab" href="#financial-count-update-ticketpay" aria-expanded="true">票务</a> </li> <li class="col-sm-1 no-padding align-center"> <a data-toggle="tab" href="#financial-count-update-otherpay" aria-expanded="true">其他支出</a> </li> ', 
            $line = 186, null != touristGroup && ($out += ' <li class="col-sm-1 no-padding align-center"> <a data-toggle="tab" href="#financial-count-update-outarrangepay" aria-expanded="true">中转</a> </li> ', 
            $line = 190), $out += ' </ul> <div class="tab-content financial-count-update-update-tab">  <div id="financial-count-update-money" class="tab-pane fade active in"> <table class="table table-striped table-bordered table-hover"> <tbody> <tr> <td>应收</td> <td>已收</td> <td>现收</td> <td>明细</td> <tr> <td><span class="">', 
            $line = 203, $out += $escape(touristGroup.needPayAllMoney), $out += '</span></td> <td><span class="">', 
            $line = 204, $out += $escape(touristGroup.payedMoney), $out += '</span></td> <td><span class="">', 
            $line = 205, $out += $escape(touristGroup.currentNeedPayMoney), $out += '</span></td> <td><a href="javascript:void(0);" data-entity-id="', 
            $line = 206, $out += $escape(tripPlan.id), $out += '" class="btn-viewGroupDetail">查看</a></td> </tr> </tbody> </table> ', 
            $line = 211, tripPlan.billStatus > -1 && ($out += ' <div style="width:60%;"><div> <label style="margin:5px 0px 0px 0px;">财务审核批注：</label> <input name="accountFinancialCheckComment" ', 
            $line = 214, 2 != user.roleType && ($out += 'readonly="readonly"', $line = 214), 
            $out += " ", $line = 214, 2 == user.roleType && 1 != tripPlan.billStatus && ($out += 'readonly="readonly"', 
            $line = 214), $out += ' type="text" style="width:30%;" value="', $line = 214, null != remarkArrangeList[0] && ($line = 214, 
            $out += $escape(remarkArrangeList[0].opCheckRemark), $line = 214), $out += '" /> <label style="margin:5px 0px 0px 10px;">计调审核批注：</label> <input name="accountOPCheckComment" ', 
            $line = 217, 3 != user.roleType && ($out += 'readonly="readonly"', $line = 217), 
            $out += " ", $line = 217, 3 == user.roleType && 0 != tripPlan.billStatus && ($out += 'readonly="readonly"', 
            $line = 217), $out += ' type="text" style="width:30%;" value="', $line = 217, null != remarkArrangeList[0] && ($line = 217, 
            $out += $escape(remarkArrangeList[0].financeCheckRemark), $line = 217), $out += '" /> </div> </div>', 
            $line = 219), $out += ' </div>  <div id="financial-count-update-shop" class="tab-pane fade"> <table class="table table-striped table-bordered table-hover"> <thead> <tr> <th colspan="6">打单</th> <th colspan="2">社佣</th> <th colspan="2">导佣</th> <th colspan="2">人数返佣</th> <th colspan="2">停车返佣</th> <th rowspan="2">导游报账备注</th> </tr> <tr> <th>时间</th> <th>购物店</th> <th>商品</th> <th>金额</th> <th>单据</th> <th>总金额</th> <th>比例%</th> <th>返佣</th> <th>比例%</th> <th>返佣</th> <th>元/人</th> <th>返佣</th> <th>元/车</th> <th>返佣</th> </tr></thead> <tbody id="shopping"> ', 
            $line = 251, $each(dayList, function(day) {
                $out += " ", $line = 252, null != day.shopArrange && ($out += " ", $line = 253, 
                $each(day.shopArrange, function(shopArrangeList) {
                    $out += " ", $line = 254, $each(shopArrangeList.shopArrangePolicy, function(arrange, index) {
                        $out += " ", $line = 255, null != arrange && ($out += ' <tr shopArrangeId="', $line = 256, 
                        $out += $escape(arrange.id), $out += '" shopId="', $line = 256, $out += $escape(arrange.whichDay), 
                        $out += "_", $line = 256, $out += $escape(arrange.shopId), $out += '"> ', $line = 257, 
                        0 == index && ($out += '<td rowspan="', $line = 257, $out += $escape(shopArrangeList.shopArrangePolicy.length), 
                        $out += '">第', $line = 257, $out += $escape(arrange.whichDay), $out += "天</td>", 
                        $line = 257), $out += " ", $line = 258, 0 == index && ($out += '<td rowspan="', 
                        $line = 258, $out += $escape(shopArrangeList.shopArrangePolicy.length), $out += '">', 
                        $line = 258, $out += $escape(arrange.shop.name), $out += "</td>", $line = 258), 
                        $out += " <td>", $line = 259, $out += $escape(arrange.shopPolicy.name), $out += '</td> <td><input policyId="', 
                        $line = 260, null != arrange.shopPolicy && ($line = 260, $out += $escape(arrange.shopPolicy.id), 
                        $line = 260), $out += '" name="consumeMoney" style="width:90px;" type="text" value="', 
                        $line = 260, $out += $escape(arrange.consumeMoney), $out += '" old="', $line = 260, 
                        $out += $escape(arrange.consumeMoney), $out += '" maxlength="11" /></td> <td>', 
                        $line = 261, null != arrange.billImage && "" != arrange.billImage ? ($out += ' <a href="javascript:void(0);" url="', 
                        $line = 262, $out += $escape(arrange.billImage), $out += '" class="btn-view">查看</a> ', 
                        $line = 263) : ($out += ' <span style="color:#bbb;">查看</span> ', $line = 265), $out += " </td> ", 
                        $line = 267, 0 == index && ($out += '<td rowspan="', $line = 267, $out += $escape(shopArrangeList.shopArrangePolicy.length), 
                        $out += '"><span class="sumMoney', $line = 267, $out += $escape(arrange.whichDay), 
                        $out += "_", $line = 267, $out += $escape(arrange.shopId), $out += '"></span></td>', 
                        $line = 267), $out += ' <td><input name="travelAgencyRate" style="width:90px;" type="text" value="', 
                        $line = 268, $out += $escape(100 * arrange.travelAgencyRate), $out += '" old="', 
                        $line = 268, $out += $escape(arrange.travelAgencyRate), $out += '" maxlength="5"/></td> <td><span>', 
                        $line = 269, $out += $escape(arrange.travelAgencyRateMoney), $out += '</span><input type="hidden" name="travelAgencyRateMoney" value="', 
                        $line = 269, $out += $escape(arrange.travelAgencyRateMoney), $out += '" /></td> <td><input name="guideRate" style="width:90px;" type="text" value="', 
                        $line = 270, $out += $escape(100 * arrange.guideRate), $out += '" old="', $line = 270, 
                        $out += $escape(arrange.guideRate), $out += '" maxlength="5" /></td> <td><span>', 
                        $line = 271, $out += $escape(arrange.guideRkateMoney), $out += '</span><input type="hidden" name="guideRateMoney" value="', 
                        $line = 271, $out += $escape(arrange.guideRateMoney), $out += '" /></td> ', $line = 272, 
                        0 == index && ($out += '<td rowspan="', $line = 272, $out += $escape(shopArrangeList.shopArrangePolicy.length), 
                        $out += '"><input type="text" name="customerRebateMoney', $line = 272, $out += $escape(arrange.whichDay), 
                        $out += "_", $line = 272, $out += $escape(arrange.shopId), $out += '" value="', 
                        $line = 272, arrange.customerRebateMoney < 1 ? ($line = 272, $out += $escape(arrange.shop.customerRebateMoney), 
                        $line = 272) : ($line = 272, $out += $escape(arrange.customerRebateMoney), $line = 272), 
                        $out += '" style="width:90px;" old="', $line = 272, arrange.customerRebateMoney < 1 ? ($line = 272, 
                        $out += $escape(arrange.shop.customerRebateMoney), $line = 272) : ($line = 272, 
                        $out += $escape(arrange.customerRebateMoney), $line = 272), $out += '" maxlength="11"/><input type="hidden" name="touristAdultCount', 
                        $line = 272, $out += $escape(arrange.whichDay), $out += "_", $line = 272, $out += $escape(arrange.shopId), 
                        $out += '" value="', $line = 272, $out += $escape(tripPlan.touristAdultCount), $out += '" /></td>', 
                        $line = 272), $out += " ", $line = 273, 0 == index && ($out += '<td rowspan="', 
                        $line = 273, $out += $escape(shopArrangeList.shopArrangePolicy.length), $out += '"><span class="sumCustomerRebateMoney', 
                        $line = 273, $out += $escape(arrange.whichDay), $out += "_", $line = 273, $out += $escape(arrange.shopId), 
                        $out += ' sumCustomerRebateMoney">', $line = 273, $out += $escape(shopArrangeList.customerRebateMoney), 
                        $out += "</span></td>", $line = 273), $out += " ", $line = 274, 0 == index && ($out += '<td rowspan="', 
                        $line = 274, $out += $escape(shopArrangeList.shopArrangePolicy.length), $out += '"><input type="text" name="parkingRebateMoney', 
                        $line = 274, $out += $escape(arrange.whichDay), $out += "_", $line = 274, $out += $escape(arrange.shopId), 
                        $out += '" value="', $line = 274, arrange.parkingRebateMoney < 1 ? ($line = 274, 
                        $out += $escape(arrange.shop.parkingRebateMoney), $line = 274) : ($line = 274, $out += $escape(arrange.parkingRebateMoney), 
                        $line = 274), $out += '" style="width:90px;" old="', $line = 274, arrange.parkingRebateMoney < 1 ? ($line = 274, 
                        $out += $escape(arrange.shop.parkingRebateMoney), $line = 274) : ($line = 274, $out += $escape(arrange.parkingRebateMoney), 
                        $line = 274), $out += '" maxlength="11"/><input type="hidden" name="busNumber', 
                        $line = 274, $out += $escape(arrange.whichDay), $out += "_", $line = 274, $out += $escape(arrange.shopId), 
                        $out += '" value="', $line = 274, $out += $escape(busCompanyArrange.length), $out += '" /></td>', 
                        $line = 274), $out += " ", $line = 275, 0 == index && ($out += '<td rowspan="', 
                        $line = 275, $out += $escape(shopArrangeList.shopArrangePolicy.length), $out += '"><span class="sumParkingRebateMoney', 
                        $line = 275, $out += $escape(arrange.whichDay), $out += "_", $line = 275, $out += $escape(arrange.shopId), 
                        $out += ' sumParkingRebateMoney">', $line = 275, $out += $escape(shopArrangeList.parkingRebateMoney), 
                        $out += "</span></td>", $line = 275), $out += " <td>", $line = 276, $out += $escape(arrange.billRemark), 
                        $out += "</td> </tr> ", $line = 278), $out += " ", $line = 279;
                    }), $out += " ", $line = 280;
                }), $out += " ", $line = 281), $out += " ", $line = 282;
            }), $out += " </tbody> </table> ", $line = 286, tripPlan.billStatus > -1 && ($out += ' <div style="width:60%;"><div> <label style="margin:5px 0px 0px 0px;">财务审核批注：</label> <input name="accountFinancialCheckComment" ', 
            $line = 289, 2 != user.roleType && ($out += 'readonly="readonly"', $line = 289), 
            $out += " ", $line = 289, 2 == user.roleType && 1 != tripPlan.billStatus && ($out += 'readonly="readonly"', 
            $line = 289), $out += ' type="text" style="width:30%;" value="', $line = 289, null != remarkArrangeList[1] && ($line = 289, 
            $out += $escape(remarkArrangeList[1].opCheckRemark), $line = 289), $out += '" /> <label style="margin:5px 0px 0px 10px;">计调审核批注：</label> <input name="accountOPCheckComment" ', 
            $line = 292, 3 != user.roleType && ($out += 'readonly="readonly"', $line = 292), 
            $out += " ", $line = 292, 3 == user.roleType && 0 != tripPlan.billStatus && ($out += 'readonly="readonly"', 
            $line = 292), $out += ' type="text" style="width:30%;" value="', $line = 292, null != remarkArrangeList[1] && ($line = 292, 
            $out += $escape(remarkArrangeList[1].financeCheckRemark), $line = 292), $out += '" /> </div> </div>', 
            $line = 294), $out += ' </div>  <div id="financial-count-update-selfpay" class="tab-pane fade"> <table class="table table-striped table-bordered table-hover"> <thead> <tr> <th colspan="12">消费</th> <th colspan="2">社佣</th> <th colspan="2">导佣</th> <th colspan="2">人数返佣</th> <th rowspan="2">导游报账备注</th> </tr> <tr> <th>时间</th> <th>自费商家</th> <th>项目</th> <th>单价</th> <th>底价</th> <th>数量</th> <th>优惠</th> <th>应付</th> <th>已付</th> <th>导付</th> <th>现收</th> <th>单据</th> <th>比例%</th> <th>返佣</th> <th>比例%</th> <th>返佣</th> <th>元/人</th> <th>返佣</th> </tr></thead> <tbody id="selfPay"> ', 
            $line = 329, $each(dayList, function(day) {
                $out += " ", $line = 330, null != day.selfPayArrange && ($out += " ", $line = 331, 
                $each(day.selfPayArrange, function(arrangeList) {
                    $out += " ", $line = 332, $each(arrangeList.selfPayArrangeList, function(arrange, index) {
                        $out += " ", $line = 333, null != arrange && ($out += ' <tr selfPayArrangeId="', 
                        $line = 334, $out += $escape(arrange.id), $out += '" selfPayId="', $line = 334, 
                        $out += $escape(arrange.selfPayId), $out += '"> ', $line = 335, 0 == index && ($out += '<td rowspan="', 
                        $line = 335, $out += $escape(arrangeList.selfPayArrangeList.length), $out += '">第', 
                        $line = 335, $out += $escape(arrange.whichDay), $out += "天</td>", $line = 335), 
                        $out += " ", $line = 336, 0 == index && ($out += '<td rowspan="', $line = 336, $out += $escape(arrangeList.selfPayArrangeList.length), 
                        $out += '">', $line = 336, $out += $escape(arrange.selfPay.name), $out += "</td>", 
                        $line = 336), $out += " <td>", $line = 337, null != arrange.selfPayItem && ($line = 337, 
                        $out += $escape(arrange.selfPayItem.name), $line = 337), $out += "</td> <td>", $line = 338, 
                        $out += $escape(arrange.marketPrice), $out += '<input type="hidden" name="marketPrice" value="', 
                        $line = 338, $out += $escape(arrange.marketPrice), $out += '" /></td> <td>', $line = 339, 
                        $out += $escape(arrange.price), $out += '<input type="hidden" name="price" value="', 
                        $line = 339, $out += $escape(arrange.price), $out += '" /></td> <td><input style="width:90px;" type="text" name="realCount" value="', 
                        $line = 340, $out += $escape(arrange.realCount), $out += '" old="', $line = 340, 
                        $out += $escape(arrange.realCount), $out += '" maxlength="5"/><input type="hidden" name="memberCount" value="', 
                        $line = 340, $out += $escape(arrange.memberCount), $out += '" /></td> <td>', $line = 341, 
                        $out += $escape(arrange.reduceMoney), $out += '<input type="hidden" name="reduceMoney" value="', 
                        $line = 341, $out += $escape(arrange.reduceMoney), $out += '" /></td> <td><span class="needPayMoney">', 
                        $line = 342, $out += $escape(arrange.needPayMoney), $out += "</span></td> <td>", 
                        $line = 343, $out += $escape(arrange.payedMoney), $out += '</td> <td> <input style="width:90px;" type="text" name="realGuidePayMoney" value="', 
                        $line = 345, $out += $escape(arrange.realGuidePayMoney), $out += '" old="', $line = 345, 
                        $out += $escape(arrange.realGuidePayMoney), $out += '" maxlength="11"/> <input type="hidden" name="payedMoney" value="', 
                        $line = 346, $out += $escape(arrange.payedMoney), $out += '" /> <input type="hidden" name="guidePayMoney" value="', 
                        $line = 347, $out += $escape(arrange.guidePayMoney), $out += '" /> </td> <td>', 
                        $line = 349, $out += $escape(arrange.realGetMoney), $out += "</td> <td>", $line = 350, 
                        null != arrange.billImage && "" != arrange.billImage ? ($out += ' <a href="javascript:void(0);" url="', 
                        $line = 351, $out += $escape(arrange.billImage), $out += '" class="btn-view">查看</a> ', 
                        $line = 352) : ($out += ' <span style="color:#bbb;">查看</span> ', $line = 354), $out += ' </td> <td> <input style="width:90px;" type="text" name="travelAgencyRate" value="', 
                        $line = 357, $out += $escape($helpers.parseInt(100 * arrange.travelAgencyRate)), 
                        $out += '" old="', $line = 357, $out += $escape(arrange.travelAgencyRate), $out += '" maxlength="5"/></td> <td> <span class="travelAgencyRebateMoney">', 
                        $line = 359, $out += $escape(arrange.travelAgencyRebateMoney), $out += '</span> <input type="hidden" name="travelAgencyRebateMoney" value="', 
                        $line = 360, $out += $escape(arrange.travelAgencyRebateMoney), $out += '" /></td> <td> <input style="width:90px;" type="text" name="guideRate" value="', 
                        $line = 362, $out += $escape($helpers.parseInt(100 * arrange.guideRate)), $out += '" old="', 
                        $line = 362, $out += $escape(arrange.guideRate), $out += '" maxlength="5"/></td> <td> <span class="guideRebateMoney">', 
                        $line = 364, $out += $escape(arrange.guideRebateMoney), $out += '</span> <input type="hidden" name="guideRebateMoney" value="', 
                        $line = 365, $out += $escape(arrange.guideRebateMoney), $out += '" /></td> <td> <span class="guideRate">', 
                        $line = 367, $out += $escape(arrange.customerRebateMoney), $out += '</span> <input type="hidden" name="guideRate" value="', 
                        $line = 368, $out += $escape(arrange.customerRebateMoney), $out += '" /></td> ', 
                        $line = 369, 0 == index && ($out += '<td rowspan="', $line = 369, $out += $escape(arrangeList.selfPayArrangeList.length), 
                        $out += '">', $line = 369, $out += $escape(arrange.customerRebateMoney * tripPlan.touristAdultCount), 
                        $out += "</td>", $line = 369), $out += " <td>", $line = 370, $out += $escape(arrange.billRemark), 
                        $out += "</td> </tr> ", $line = 372), $out += " ", $line = 373;
                    }), $out += " ", $line = 374;
                }), $out += " ", $line = 375), $out += " ", $line = 376;
            }), $out += " </tbody> </table> ", $line = 380, tripPlan.billStatus > -1 && ($out += ' <div style="width:60%;"><div> <label style="margin:5px 0px 0px 0px;">财务审核批注：</label> <input name="accountFinancialCheckComment" ', 
            $line = 383, 2 != user.roleType && ($out += 'readonly="readonly"', $line = 383), 
            $out += " ", $line = 383, 2 == user.roleType && 1 != tripPlan.billStatus && ($out += 'readonly="readonly"', 
            $line = 383), $out += ' type="text" style="width:30%;" value="', $line = 383, null != remarkArrangeList[2] && ($line = 383, 
            $out += $escape(remarkArrangeList[2].opCheckRemark), $line = 383), $out += '" /> <label style="margin:5px 0px 0px 10px;">计调审核批注：</label> <input name="accountOPCheckComment" ', 
            $line = 386, 3 != user.roleType && ($out += 'readonly="readonly"', $line = 386), 
            $out += " ", $line = 386, 3 == user.roleType && 0 != tripPlan.billStatus && ($out += 'readonly="readonly"', 
            $line = 386), $out += ' type="text" style="width:30%;" value="', $line = 386, null != remarkArrangeList[2] && ($line = 386, 
            $out += $escape(remarkArrangeList[2].financeCheckRemark), $line = 386), $out += '" /> </div> </div>', 
            $line = 388), $out += ' </div>  <div id="financial-count-update-other-incoming" class="tab-pane fade T-income"> <table class="table table-striped table-bordered table-hover"> <thead> <tr> <th>时间</th> <th>项目</th> <th>单价</th> <th>数量</th> <th>金额</th> <th>单据</th> <th>导游报账备注</th> </tr> </thead> <tbody id="otherIn"> ', 
            $line = 405, $each(arrangeIncomePaymentList, function(otherInCome) {
                $out += " ", $line = 406, null != otherInCome && ($out += ' <tr otherInId="', $line = 407, 
                $out += $escape(otherInCome.id), $out += '" otherIn="', $line = 407, $out += $escape(otherInCome.id), 
                $out += '"> <td whichDay="', $line = 408, $out += $escape(otherInCome.whichDay), 
                $out += '">第', $line = 408, $out += $escape(otherInCome.whichDay), $out += '天</td> <td><input style="width:90px;" type="text" name="title" reset="true" value="', 
                $line = 409, $out += $escape(otherInCome.title), $out += '" old="', $line = 409, 
                $out += $escape(otherInCome.title), $out += '" maxlength="100"/></td> <td><input style="width:90px;" type="text" name="price" value="', 
                $line = 410, $out += $escape(otherInCome.price), $out += '" old="', $line = 410, 
                $out += $escape(otherInCome.price), $out += '" maxlength="11"/></td> <td><input style="width:90px;" type="text" name="count" value="', 
                $line = 411, $out += $escape(otherInCome.count), $out += '" old="', $line = 411, 
                $out += $escape(otherInCome.count), $out += '" maxlength="11"/></td> <td><span class="needPayMoney"><input type="hidden" name="needPayMoney" value="', 
                $line = 412, $out += $escape(otherInCome.needPayMoney), $out += '" /></span></td> <td>', 
                $line = 413, null != otherInCome.billImage && "" != otherInCome.billImage ? ($out += ' <a href="javascript:void(0);" url="', 
                $line = 414, $out += $escape(otherInCome.billImage), $out += '" class="btn-view">查看</a> ', 
                $line = 415) : ($out += ' <span style="color:#bbb;">查看</span> ', $line = 417), $out += ' </td> <td><input type="text" value="', 
                $line = 419, $out += $escape(otherInCome.billRemark), $out += '" name="billRemark"/></td> </tr> ', 
                $line = 421), $out += " ", $line = 422;
            }), $out += " </tbody> </table> ", $line = 426, tripPlan.billStatus > -1 && ($out += ' <div style="width:60%;"><div> <label style="margin:5px 0px 0px 0px;">财务审核批注：</label> <input name="accountFinancialCheckComment" ', 
            $line = 429, 2 != user.roleType && ($out += 'readonly="readonly"', $line = 429), 
            $out += " ", $line = 429, 2 == user.roleType && 1 != tripPlan.billStatus && ($out += 'readonly="readonly"', 
            $line = 429), $out += ' type="text" style="width:30%;" value="', $line = 429, null != remarkArrangeList[3] && ($line = 429, 
            $out += $escape(remarkArrangeList[3].opCheckRemark), $line = 429), $out += '" /> <label style="margin:5px 0px 0px 10px;">计调审核批注：</label> <input name="accountOPCheckComment" ', 
            $line = 432, 3 != user.roleType && ($out += 'readonly="readonly"', $line = 432), 
            $out += " ", $line = 432, 3 == user.roleType && 0 != tripPlan.billStatus && ($out += 'readonly="readonly"', 
            $line = 432), $out += ' type="text" style="width:30%;" value="', $line = 432, null != remarkArrangeList[3] && ($line = 432, 
            $out += $escape(remarkArrangeList[3].financeCheckRemark), $line = 432), $out += '" /> </div> </div>', 
            $line = 434), $out += ' </div>  <div id="financial-count-update-buspay" class="tab-pane fade"> <table class="table table-striped table-bordered table-hover"> <thead> <tr> <th>车主</th> <th>车牌号</th> <th>座位数</th> <th>车费</th> <th>优惠</th> <th>应付</th> <th>已付</th> <th>导付</th> <th>单据</th> <th>差额</th> <th>导游报账备注</th> </tr> </thead> <tbody id="bus"> ', 
            $line = 456, $each(busCompanyArrange, function(busCompany) {
                $out += " ", $line = 457, null != busCompany && ($out += ' <tr busCompanyArrangeId="', 
                $line = 458, $out += $escape(busCompany.id), $out += '" > <td>', $line = 459, null != busCompany.busCompany && ($line = 459, 
                $out += $escape(busCompany.busCompany.companyName), $line = 459), $out += "</td> <td>", 
                $line = 460, null != busCompany.bus && ($line = 460, $out += $escape(busCompany.bus.licenseNumber), 
                $line = 460), $out += "</td> <td>", $line = 461, null != busCompany.bus && ($line = 461, 
                $out += $escape(busCompany.bus.seatCount), $line = 461), $out += "</td> <td>", $line = 462, 
                $out += $escape(busCompany.price), $out += '<input type="hidden" name="price" value="', 
                $line = 462, $out += $escape(busCompany.price), $out += '" /><input type="hidden" name="realCount" value="1" /></td> <td>', 
                $line = 463, $out += $escape(busCompany.reduceMoney), $out += '<input type="hidden" name="reduceMoney" value="', 
                $line = 463, $out += $escape(busCompany.reduceMoney), $out += '" /></td> <td><span class="BusneedPayMoney">', 
                $line = 464, $out += $escape(busCompany.needPayMoney), $out += "</span></td> <td>", 
                $line = 465, $out += $escape(busCompany.payedMoney), $out += '</td> <td> <input style="width:90px;" type="text" name="realGuidePayMoney" value="', 
                $line = 467, $out += $escape(busCompany.realGuidePayMoney), $out += '" old="', $line = 467, 
                $out += $escape(busCompany.realGuidePayMoney), $out += '" maxlength="11"/> <input type="hidden" name="payedMoney" value="', 
                $line = 468, $out += $escape(busCompany.payedMoney), $out += '" /> <input type="hidden" name="guidePayMoney" value="', 
                $line = 469, $out += $escape(busCompany.guidePayMoney), $out += '" /></td> <td>', 
                $line = 470, null != busCompany.billImage && "" != busCompany.billImage ? ($out += ' <a href="javascript:void(0);" url="', 
                $line = 471, $out += $escape(busCompany.billImage), $out += '" class="btn-view">查看</a> ', 
                $line = 472) : ($out += ' <span style="color:#bbb;">查看</span> ', $line = 474), $out += ' </td> <td><span class="difference"></span></td> <td>', 
                $line = 477, $out += $escape(busCompany.billRemark), $out += "</td> </tr> ", $line = 479), 
                $out += " ", $line = 480;
            }), $out += " </tbody> </table> ", $line = 484, tripPlan.billStatus > -1 && ($out += ' <div style="width:60%;"><div> <label style="margin:5px 0px 0px 0px;">财务审核批注：</label> <input name="accountFinancialCheckComment" ', 
            $line = 487, 2 != user.roleType && ($out += 'readonly="readonly"', $line = 487), 
            $out += " ", $line = 487, 2 == user.roleType && 1 != tripPlan.billStatus && ($out += 'readonly="readonly"', 
            $line = 487), $out += ' type="text" style="width:30%;" value="', $line = 487, null != remarkArrangeList[4] && ($line = 487, 
            $out += $escape(remarkArrangeList[4].opCheckRemark), $line = 487), $out += '" /> <label style="margin:5px 0px 0px 10px;">计调审核批注：</label> <input name="accountOPCheckComment" ', 
            $line = 490, 3 != user.roleType && ($out += 'readonly="readonly"', $line = 490), 
            $out += " ", $line = 490, 3 == user.roleType && 0 != tripPlan.billStatus && ($out += 'readonly="readonly"', 
            $line = 490), $out += ' type="text" style="width:30%;" value="', $line = 490, null != remarkArrangeList[4] && ($line = 490, 
            $out += $escape(remarkArrangeList[4].financeCheckRemark), $line = 490), $out += '" /> </div> </div>', 
            $line = 492), $out += ' </div>  <div id="financial-count-update-restaurantpay" class="tab-pane fade"> <table class="table table-striped table-bordered table-hover"> <thead> <tr> <th>时间</th> <th>餐厅</th> <th>类型</th> <th>餐标</th> <th>人数</th> <th>优惠</th> <th>应付</th> <th>已付</th> <th>导付</th> <th>单据</th> <th>差额</th> <th>导游报账备注</th> </tr> </thead> <tbody id="restaurant"> ', 
            $line = 515, $each(dayList, function(day) {
                $out += " ", $line = 516, null != day.restaurantArrange && ($out += " ", $line = 517, 
                $each(day.restaurantArrange, function(arrangeList) {
                    $out += " ", $line = 518, $each(arrangeList.restaurantArrangeList, function(arrange, index) {
                        $out += " ", $line = 519, null != arrange && ($out += ' <tr restaurantArrangeId="', 
                        $line = 520, $out += $escape(arrange.id), $out += '" restaurantId="', $line = 520, 
                        null != arrange.restaurant && ($line = 520, $out += $escape(arrange.restaurant.id), 
                        $line = 520), $out += '" restaurantStandardId="', $line = 520, null != arrange.restaurantStandard && ($line = 520, 
                        $out += $escape(arrange.restaurantStandard.id), $line = 520), $out += '"> ', $line = 521, 
                        0 == index && ($out += '<td rowspan="', $line = 521, $out += $escape(arrangeList.restaurantArrangeList.length), 
                        $out += '">第', $line = 521, $out += $escape(arrange.whichDay), $out += "天</td>", 
                        $line = 521), $out += " ", $line = 522, 0 == index && ($out += '<td rowspan="', 
                        $line = 522, $out += $escape(arrangeList.restaurantArrangeList.length), $out += '">', 
                        $line = 522, null != arrange.restaurant && ($line = 522, $out += $escape(arrange.restaurant.name), 
                        $line = 522), $out += "</td>", $line = 522), $out += " <td>", $line = 523, $out += $escape(arrange.type), 
                        $out += "</td> <td>", $line = 524, $out += $escape(arrange.price), $out += '<input type="hidden" name="price" value="', 
                        $line = 524, $out += $escape(arrange.price), $out += '" /></td> <td><input style="width:90px;" type="text" name="realCount" value="', 
                        $line = 525, $out += $escape(arrange.realCount), $out += '" old="', $line = 525, 
                        $out += $escape(arrange.realCount), $out += '" maxlength="5"/></td> <td>', $line = 526, 
                        $out += $escape(arrange.reduceMoney), $out += '<input type="hidden" name="reduceMoney" value="', 
                        $line = 526, $out += $escape(arrange.reduceMoney), $out += '" /></td> <td><span class="restneedPayMoney">', 
                        $line = 527, $out += $escape(arrange.needPayMoney), $out += "</span></td> <td>", 
                        $line = 528, $out += $escape(arrange.payedMoney), $out += '</td> <td> <input style="width:90px;" type="text" name="realGuidePayMoney" value="', 
                        $line = 530, $out += $escape(arrange.realGuidePayMoney), $out += '" old="', $line = 530, 
                        $out += $escape(arrange.realGuidePayMoney), $out += '" maxlength="11"/> <input type="hidden" name="payedMoney" value="', 
                        $line = 531, $out += $escape(arrange.payedMoney), $out += '" /> <input type="hidden" name="guidePayMoney" value="', 
                        $line = 532, $out += $escape(arrange.guidePayMoney), $out += '" /></td> <td><a href="javascript:void(0);" url="', 
                        $line = 533, $out += $escape(arrange.billImage), $out += '" class="btn-view">查看</a></td> <td><span class="difference"></span></td> <td>', 
                        $line = 535, $out += $escape(arrange.billRemark), $out += "</td> </tr> ", $line = 537), 
                        $out += " ", $line = 538;
                    }), $out += " ", $line = 539;
                }), $out += " ", $line = 540), $out += " ", $line = 541;
            }), $out += " </tbody> </table> ", $line = 545, tripPlan.billStatus > -1 && ($out += ' <div style="width:60%;"><div> <label style="margin:5px 0px 0px 0px;">财务审核批注：</label> <input name="accountFinancialCheckComment" ', 
            $line = 548, 2 != user.roleType && ($out += 'readonly="readonly"', $line = 548), 
            $out += " ", $line = 548, 2 == user.roleType && 1 != tripPlan.billStatus && ($out += 'readonly="readonly"', 
            $line = 548), $out += ' type="text" style="width:30%;" value="', $line = 548, null != remarkArrangeList[5] && ($line = 548, 
            $out += $escape(remarkArrangeList[5].opCheckRemark), $line = 548), $out += '" /> <label style="margin:5px 0px 0px 10px;">计调审核批注：</label> <input name="accountOPCheckComment" ', 
            $line = 551, 3 != user.roleType && ($out += 'readonly="readonly"', $line = 551), 
            $out += " ", $line = 551, 3 == user.roleType && 0 != tripPlan.billStatus && ($out += 'readonly="readonly"', 
            $line = 551), $out += ' type="text" style="width:30%;" value="', $line = 551, null != remarkArrangeList[5] && ($line = 551, 
            $out += $escape(remarkArrangeList[5].financeCheckRemark), $line = 551), $out += '" /> </div> </div>', 
            $line = 553), $out += ' </div>  <div id="financial-count-update-hotelpay" class="tab-pane fade"> <table class="table table-striped table-bordered table-hover"> <thead> <tr> <th>时间</th> <th>酒店</th> <th>房型</th> <th>单价</th> <th>间数</th> <th>优惠</th> <th>应付</th> <th>已付</th> <th>导付</th> <th>单据</th> <th>差额</th> <th>导游报账备注</th> </tr> </thead> <tbody id="hotelArrange"> ', 
            $line = 576, $each(dayList, function(day) {
                $out += " ", $line = 577, null != day.hotelArrange && ($out += " ", $line = 578, 
                $each(day.hotelArrange, function(arrangeList) {
                    $out += " ", $line = 579, $each(arrangeList.hotelArrangeList, function(arrange, index) {
                        $out += " ", $line = 580, null != arrange && ($out += ' <tr hotelArrangeId="', $line = 581, 
                        $out += $escape(arrange.id), $out += '" hotelId="', $line = 581, null != arrange.hotel && ($line = 581, 
                        $out += $escape(arrange.hotel.id), $line = 581), $out += '" restaurantStandardId="', 
                        $line = 581, null != arrange.hotelRoom && ($line = 581, $out += $escape(arrange.hotelRoom.id), 
                        $line = 581), $out += '"> ', $line = 582, 0 == index && ($out += '<td rowspan="', 
                        $line = 582, $out += $escape(arrangeList.hotelArrangeList.length), $out += '">第', 
                        $line = 582, $out += $escape(arrange.whichDay), $out += "天</td>", $line = 582), 
                        $out += " ", $line = 583, 0 == index && ($out += '<td rowspan="', $line = 583, $out += $escape(arrangeList.hotelArrangeList.length), 
                        $out += '">', $line = 583, null != arrange.hotel && ($line = 583, $out += $escape(arrange.hotel.name), 
                        $line = 583), $out += "</td>", $line = 583), $out += " <td>", $line = 584, null != arrange.hotelRoom && ($line = 584, 
                        $out += $escape(arrange.hotelRoom.type), $line = 584), $out += "</td> <td>", $line = 585, 
                        $out += $escape(arrange.price), $out += '<input type="hidden" name="price" value="', 
                        $line = 585, $out += $escape(arrange.price), $out += '" /></td> <td><input style="width:90px;" type="text" name="realCount" value="', 
                        $line = 586, $out += $escape(arrange.realCount), $out += '" oid="', $line = 586, 
                        $out += $escape(arrange.realCount), $out += '" maxlength="5"/></td> <td>', $line = 587, 
                        $out += $escape(arrange.reduceMoney), $out += '<input type="hidden" name="reduceMoney" value="', 
                        $line = 587, $out += $escape(arrange.reduceMoney), $out += '" /></td> <td><span class="hotelneedPayMoney">', 
                        $line = 588, $out += $escape(arrange.needPayMoney), $out += "</span></td> <td>", 
                        $line = 589, $out += $escape(arrange.payedMoney), $out += '</td> <td> <input style="width:90px;" type="text" name="realGuidePayMoney" value="', 
                        $line = 591, $out += $escape(arrange.realGuidePayMoney), $out += '" oid="', $line = 591, 
                        $out += $escape(arrange.realGuidePayMoney), $out += '" maxlength="11"/> <input type="hidden" name="payedMoney" value="', 
                        $line = 592, $out += $escape(arrange.payedMoney), $out += '" /> <input type="hidden" name="guidePayMoney" value="', 
                        $line = 593, $out += $escape(arrange.guidePayMoney), $out += '" /></td> <td>', $line = 594, 
                        null != arrange.billImage && "" != arrange.billImage ? ($out += ' <a href="javascript:void(0);" url="', 
                        $line = 595, $out += $escape(arrange.billImage), $out += '" class="btn-view">查看</a> ', 
                        $line = 596) : ($out += ' <span style="color:#bbb;">查看</span> ', $line = 598), $out += ' </td> <td><span class="difference"></span></td> <td>', 
                        $line = 601, $out += $escape(arrange.billRemark), $out += "</td> </tr> ", $line = 603), 
                        $out += " ", $line = 604;
                    }), $out += " ", $line = 605;
                }), $out += " ", $line = 606), $out += " ", $line = 607;
            }), $out += " </tbody> </table> ", $line = 611, tripPlan.billStatus > -1 && ($out += ' <div style="width:60%;"><div> <label style="margin:5px 0px 0px 0px;">财务审核批注：</label> <input name="accountFinancialCheckComment" ', 
            $line = 614, 2 != user.roleType && ($out += 'readonly="readonly"', $line = 614), 
            $out += " ", $line = 614, 2 == user.roleType && 1 != tripPlan.billStatus && ($out += 'readonly="readonly"', 
            $line = 614), $out += ' type="text" style="width:30%;" value="', $line = 614, null != remarkArrangeList[6] && ($line = 614, 
            $out += $escape(remarkArrangeList[6].opCheckRemark), $line = 614), $out += '" /> <label style="margin:5px 0px 0px 10px;">计调审核批注：</label> <input name="accountOPCheckComment" ', 
            $line = 617, 3 != user.roleType && ($out += 'readonly="readonly"', $line = 617), 
            $out += " ", $line = 617, 3 == user.roleType && 0 != tripPlan.billStatus && ($out += 'readonly="readonly"', 
            $line = 617), $out += ' type="text" style="width:30%;" value="', $line = 617, null != remarkArrangeList[6] && ($line = 617, 
            $out += $escape(remarkArrangeList[6].financeCheckRemark), $line = 617), $out += '" /> </div> </div>', 
            $line = 619), $out += ' </div>  <div id="financial-count-update-scenicpay" class="tab-pane fade"> <table class="table table-striped table-bordered table-hover"> <thead> <tr> <th>时间</th> <th>景区</th> <th>收费项目</th> <th>单价</th> <th>数量</th> <th>优惠</th> <th>应付</th> <th>已付</th> <th>导付</th> <th>单据</th> <th>差额</th> <th>导游报账备注</th> </tr> </thead> <tbody id="scenic"> ', 
            $line = 642, $each(dayList, function(day) {
                $out += " ", $line = 643, null != day.scenicArrange && ($out += " ", $line = 644, 
                $each(day.scenicArrange, function(arrangeList) {
                    $out += " ", $line = 645, $each(arrangeList.scenicArrangeList, function(arrange, index) {
                        $out += " ", $line = 646, null != arrange && ($out += ' <tr scenicArrangeId="', 
                        $line = 647, $out += $escape(arrange.id), $out += '" scenicId="', $line = 647, $out += $escape(arrange.scenicId), 
                        $out += '" scenicItemId="', $line = 647, $out += $escape(arrange.hotelRoomId), $out += '"> ', 
                        $line = 648, 0 == index && ($out += '<td rowspan="', $line = 648, $out += $escape(arrangeList.scenicArrangeList.length), 
                        $out += '">第', $line = 648, $out += $escape(arrange.whichDay), $out += "天</td>", 
                        $line = 648), $out += " ", $line = 649, 0 == index && ($out += '<td rowspan="', 
                        $line = 649, $out += $escape(arrangeList.scenicArrangeList.length), $out += '">', 
                        $line = 649, null != arrange.scenic && ($line = 649, $out += $escape(arrange.scenic.name), 
                        $line = 649), $out += "</td>", $line = 649), $out += " <td>", $line = 650, null != arrange.scenicItem && ($line = 650, 
                        $out += $escape(arrange.scenicItem.name), $line = 650), $out += "</td> <td>", $line = 651, 
                        $out += $escape(arrange.price), $out += '<input type="hidden" name="price" value="', 
                        $line = 651, $out += $escape(arrange.price), $out += '" /></td> <td><input style="width:90px;" type="text" name="realCount" value="', 
                        $line = 652, $out += $escape(arrange.realCount), $out += '" old="', $line = 652, 
                        $out += $escape(arrange.realCount), $out += '" maxlength="5"/></td> <td>', $line = 653, 
                        $out += $escape(arrange.reduceMoney), $out += '<input type="hidden" name="reduceMoney" value="', 
                        $line = 653, $out += $escape(arrange.reduceMoney), $out += '" /></td> <td><span class="scenicneedPayMoney">', 
                        $line = 654, $out += $escape(arrange.needPayMoney), $out += "</span></td> <td>", 
                        $line = 655, $out += $escape(arrange.payedMoney), $out += '</td> <td> <input style="width:90px;" type="text" name="realGuidePayMoney" value="', 
                        $line = 657, $out += $escape(arrange.realGuidePayMoney), $out += '" old="', $line = 657, 
                        $out += $escape(arrange.realGuidePayMoney), $out += '" maxlength="11"/> <input type="hidden" name="payedMoney" value="', 
                        $line = 658, $out += $escape(arrange.payedMoney), $out += '" /> <input type="hidden" name="guidePayMoney" value="', 
                        $line = 659, $out += $escape(arrange.guidePayMoney), $out += '" /></td> <td>', $line = 660, 
                        null != arrange.billImage && "" != arrange.billImage ? ($out += ' <a href="javascript:void(0);" url="', 
                        $line = 661, $out += $escape(arrange.billImage), $out += '" class="btn-view">查看</a> ', 
                        $line = 662) : ($out += ' <span style="color:#bbb;">查看</span> ', $line = 664), $out += ' </td> <td><span class="difference"></span></td> <td>', 
                        $line = 667, $out += $escape(arrange.billRemark), $out += "</td> </tr> ", $line = 669), 
                        $out += " ", $line = 670;
                    }), $out += " ", $line = 671;
                }), $out += " ", $line = 672), $out += " ", $line = 673;
            }), $out += " </tbody> </table> ", $line = 677, tripPlan.billStatus > -1 && ($out += ' <div style="width:60%;"><div> <label style="margin:5px 0px 0px 0px;">财务审核批注：</label> <input name="accountFinancialCheckComment" ', 
            $line = 680, 2 != user.roleType && ($out += 'readonly="readonly"', $line = 680), 
            $out += " ", $line = 680, 2 == user.roleType && 1 != tripPlan.billStatus && ($out += 'readonly="readonly"', 
            $line = 680), $out += ' type="text" style="width:30%;" value="', $line = 680, null != remarkArrangeList[7] && ($line = 680, 
            $out += $escape(remarkArrangeList[7].opCheckRemark), $line = 680), $out += '" /> <label style="margin:5px 0px 0px 10px;">计调审核批注：</label> <input name="accountOPCheckComment" ', 
            $line = 683, 3 != user.roleType && ($out += 'readonly="readonly"', $line = 683), 
            $out += " ", $line = 683, 3 == user.roleType && 0 != tripPlan.billStatus && ($out += 'readonly="readonly"', 
            $line = 683), $out += ' type="text" style="width:30%;" value="', $line = 683, null != remarkArrangeList[7] && ($line = 683, 
            $out += $escape(remarkArrangeList[7].financeCheckRemark), $line = 683), $out += '" /> </div> </div>', 
            $line = 685), $out += ' </div>  <div id="financial-count-update-ticketpay" class="tab-pane fade"> <table class="table table-striped table-bordered table-hover"> <thead> <tr> <th>票务商家</th> <th>类型</th> <th>日期</th> <th>出发地</th> <th>目的地</th> <th>座席</th> <th>单价</th> <th>数量</th> <th>优惠</th> <th>应付</th> <th>已付</th> <th>导付</th> <th>单据</th> <th>差额</th> <th>导游报账备注</th> </tr> </thead> <tbody id="ticket"> ', 
            $line = 711, $each(ticketArrangeList, function(ticketArrange) {
                $out += " ", $line = 712, $each(ticketArrange.ticketArrangeList, function(arrange, index) {
                    $out += ' <tr ticketArrangeId="', $line = 713, $out += $escape(arrange.id), $out += '" ticketId="', 
                    $line = 713, $out += $escape(arrange.ticket.id), $out += '" itemId="', $line = 713, 
                    $out += $escape(arrange.id), $out += '"> ', $line = 714, 0 == index && ($out += '<td rowspan="', 
                    $line = 714, $out += $escape(ticketArrange.ticketArrangeList.length), $out += '">', 
                    $line = 714, null != arrange.ticket && ($line = 714, $out += $escape(arrange.ticket.name), 
                    $line = 714), $out += "</td>", $line = 714), $out += " ", $line = 715, 0 == index && ($out += '<td rowspan="', 
                    $line = 715, $out += $escape(ticketArrange.ticketArrangeList.length), $out += '">', 
                    $line = 715, 1 == arrange.type ? ($out += "机票", $line = 715) : 2 == arrange.type ? ($out += "汽车票", 
                    $line = 715) : 3 == arrange.type ? ($out += "火车票", $line = 715) : 4 == arrange.type && ($out += "轮船票", 
                    $line = 715), $out += "</td>", $line = 715), $out += " ", $line = 716, 0 == index && ($out += '<td rowspan="', 
                    $line = 716, $out += $escape(ticketArrange.ticketArrangeList.length), $out += '">', 
                    $line = 716, $out += $escape(arrange.startTime), $out += "</td>", $line = 716), 
                    $out += " ", $line = 717, 0 == index && ($out += '<td rowspan="', $line = 717, $out += $escape(ticketArrange.ticketArrangeList.length), 
                    $out += '">', $line = 717, $out += $escape(arrange.startingCity), $out += "</td>", 
                    $line = 717), $out += " ", $line = 718, 0 == index && ($out += '<td rowspan="', 
                    $line = 718, $out += $escape(ticketArrange.ticketArrangeList.length), $out += '">', 
                    $line = 718, $out += $escape(arrange.arriveCity), $out += "</td>", $line = 718), 
                    $out += " <td>", $line = 719, $out += $escape(arrange.seatLevel), $out += "</td> <td><span>", 
                    $line = 720, $out += $escape(arrange.price), $out += '</span><input type="hidden" name="price" value="', 
                    $line = 720, $out += $escape(arrange.price), $out += '" /></td> <td><input style="width:90px;" name="realCount" type="text" value="', 
                    $line = 721, $out += $escape(arrange.realCount), $out += '" old="', $line = 721, 
                    $out += $escape(arrange.realCount), $out += '" maxlength="5"/></td> <td>', $line = 722, 
                    $out += $escape(arrange.reduceMoney), $out += '<input type="hidden" name="reduceMoney" value="', 
                    $line = 722, $out += $escape(arrange.reduceMoney), $out += '" /></td> <td><span class="ticketneedPayMoney">', 
                    $line = 723, $out += $escape(arrange.needPayMoney), $out += "</span></td> <td>", 
                    $line = 724, $out += $escape(arrange.payedMoney), $out += '</td> <td> <input style="width:90px;" type="text" name="realGuidePayMoney" value="', 
                    $line = 726, $out += $escape(arrange.realGuidePayMoney), $out += '" old="', $line = 726, 
                    $out += $escape(arrange.realGuidePayMoney), $out += '" maxlength="11"/> <input type="hidden" name="payedMoney" value="', 
                    $line = 727, $out += $escape(arrange.payedMoney), $out += '" /> <input type="hidden" name="guidePayMoney" value="', 
                    $line = 728, $out += $escape(arrange.guidePayMoney), $out += '" /></td> <td>', $line = 729, 
                    null != arrange.billImage && "" != arrange.billImage ? ($out += ' <a href="javascript:void(0);" url="', 
                    $line = 730, $out += $escape(arrange.billImage), $out += '" class="btn-view">查看</a> ', 
                    $line = 731) : ($out += ' <span style="color:#bbb;">查看</span> ', $line = 733), $out += ' </td> <td><span class="difference"></span></td> <td>', 
                    $line = 736, $out += $escape(arrange.billRemark), $out += "</td> </tr> ", $line = 738;
                }), $out += " ", $line = 739;
            }), $out += " </tbody> </table> ", $line = 743, tripPlan.billStatus > -1 && ($out += ' <div style="width:60%;"><div> <label style="margin:5px 0px 0px 0px;">财务审核批注：</label> <input name="accountFinancialCheckComment" ', 
            $line = 746, 2 != user.roleType && ($out += 'readonly="readonly"', $line = 746), 
            $out += " ", $line = 746, 2 == user.roleType && 1 != tripPlan.billStatus && ($out += 'readonly="readonly"', 
            $line = 746), $out += ' type="text" style="width:30%;" value="', $line = 746, null != remarkArrangeList[8] && ($line = 746, 
            $out += $escape(remarkArrangeList[8].opCheckRemark), $line = 746), $out += '" /> <label style="margin:5px 0px 0px 10px;">计调审核批注：</label> <input name="accountOPCheckComment" ', 
            $line = 749, 3 != user.roleType && ($out += 'readonly="readonly"', $line = 749), 
            $out += " ", $line = 749, 3 == user.roleType && 0 != tripPlan.billStatus && ($out += 'readonly="readonly"', 
            $line = 749), $out += ' type="text" style="width:30%;" value="', $line = 749, null != remarkArrangeList[8] && ($line = 749, 
            $out += $escape(remarkArrangeList[8].financeCheckRemark), $line = 749), $out += '" /> </div> </div>', 
            $line = 751), $out += ' </div>  <div id="financial-count-update-otherpay" class="tab-pane fade"> <table class="table table-striped table-bordered table-hover"> <thead> <tr> <th>时间</th> <th>项目</th> <th>单价</th> <th>数量</th> <th>优惠</th> <th>应付</th> <th>已付</th> <th>导付</th> <th>单据</th> <th>差额</th> <th>导游报账备注</th> </tr> </thead> <tbody id="other"> ', 
            $line = 773, $each(dayList, function(day) {
                $out += " ", $line = 774, null != day.otherArrange && ($out += " ", $line = 775, 
                $each(day.otherArrange, function(arrange) {
                    $out += " ", $line = 776, null != arrange && ($out += ' <tr otherArrangeId="', $line = 777, 
                    $out += $escape(arrange.id), $out += '"> <td>第', $line = 778, $out += $escape(arrange.whichDay), 
                    $out += "天</td> <td>", $line = 779, $out += $escape(arrange.name), $out += '</td> <td><input type="text" name="realPrice" value="', 
                    $line = 780, $out += $escape(arrange.price), $out += '" /></td> <td><input style="width:90px;" type="text" name="realCount" value="', 
                    $line = 781, $out += $escape(arrange.realCount), $out += '" old="', $line = 781, 
                    $out += $escape(arrange.realCount), $out += '" maxlength="5"/></td> <td><input type="text" name="reduceMoney" value="', 
                    $line = 782, $out += $escape(arrange.reduceMoney), $out += '" /></td> <td><span class="needPayMoney">', 
                    $line = 783, $out += $escape(arrange.needPayMoney), $out += "</span></td> <td>", 
                    $line = 784, $out += $escape(arrange.payedMoney), $out += '</td> <td> <input style="width:90px;" type="text" name="realGuidePayMoney" value="', 
                    $line = 786, $out += $escape(arrange.realGuidePayMoney), $out += '" old="', $line = 786, 
                    $out += $escape(arrange.realGuidePayMoney), $out += '" maxlength="11"/> <input type="hidden" name="payedMoney" value="', 
                    $line = 787, $out += $escape(arrange.payedMoney), $out += '" /> <input type="hidden" name="guidePayMoney" value="', 
                    $line = 788, $out += $escape(arrange.guidePayMoney), $out += '" /></td> <td>', $line = 789, 
                    null != arrange.billImage && "" != arrange.billImage ? ($out += ' <a href="javascript:void(0);" url="', 
                    $line = 790, $out += $escape(arrange.billImage), $out += '" class="btn-view">查看</a> ', 
                    $line = 791) : ($out += ' <span style="color:#bbb;">查看</span> ', $line = 793), $out += ' </td> <td><span class="difference"></span></td> <td><input value="', 
                    $line = 796, $out += $escape(arrange.billRemark), $out += '" name="billRemark" maxlength="1000" /></td> </tr> ', 
                    $line = 798), $out += " ", $line = 799;
                }), $out += " ", $line = 800), $out += " ", $line = 801;
            }), $out += " </tbody> </table> ", $line = 805, tripPlan.billStatus > -1 && ($out += ' <div style="width:60%;"><div> <label style="margin:5px 0px 0px 0px;">财务审核批注：</label> <input name="accountFinancialCheckComment" ', 
            $line = 808, 2 != user.roleType && ($out += 'readonly="readonly"', $line = 808), 
            $out += " ", $line = 808, 2 == user.roleType && 1 != tripPlan.billStatus && ($out += 'readonly="readonly"', 
            $line = 808), $out += ' type="text" style="width:30%;" value="', $line = 808, null != remarkArrangeList[9] && ($line = 808, 
            $out += $escape(remarkArrangeList[9].opCheckRemark), $line = 808), $out += '" /> <label style="margin:5px 0px 0px 10px;">计调审核批注：</label> <input name="accountOPCheckComment" ', 
            $line = 811, 3 != user.roleType && ($out += 'readonly="readonly"', $line = 811), 
            $out += " ", $line = 811, 3 == user.roleType && 0 != tripPlan.billStatus && ($out += 'readonly="readonly"', 
            $line = 811), $out += ' type="text" style="width:30%;" value="', $line = 811, null != remarkArrangeList[9] && ($line = 811, 
            $out += $escape(remarkArrangeList[9].financeCheckRemark), $line = 811), $out += '" /> </div> </div>', 
            $line = 813), $out += " </div> ", $line = 816, null != touristGroup && ($out += '  <div id="financial-count-update-outarrangepay" class="tab-pane fade"> <table class="table table-striped table-bordered table-hover"> <thead> <tr> <th class="th-border">接团</th> <th class="th-border">小车</th> <th class="th-border">送团</th> <th class="th-border">明细</th> </tr> </thead> <tbody> <tr> <td>', 
            $line = 830, $out += $escape(touristGroup.outReciveMoney), $out += "</td> <td>", 
            $line = 831, $out += $escape(touristGroup.outCarMoney), $out += "</td> <td>", $line = 832, 
            $out += $escape(touristGroup.outSendMoney), $out += '</td> <td><a href="javascript:void(0);" data-entity-id="', 
            $line = 833, $out += $escape(tripPlan.id), $out += '" class="btn-viewTripTransit">查看</a></td> </tr> </tbody> </table> ', 
            $line = 838, tripPlan.billStatus > -1 && ($out += ' <div style="width:60%;"><div> <label style="margin:5px 0px 0px 0px;">财务审核批注：</label> <input name="accountFinancialCheckComment" ', 
            $line = 841, 2 != user.roleType && ($out += 'readonly="readonly"', $line = 841), 
            $out += " ", $line = 841, 2 == user.roleType && 1 != tripPlan.billStatus && ($out += 'readonly="readonly"', 
            $line = 841), $out += ' type="text" style="width:30%;" value="', $line = 841, null != remarkArrangeList[10] && ($line = 841, 
            $out += $escape(remarkArrangeList[10].opCheckRemark), $line = 841), $out += '" /> <label style="margin:5px 0px 0px 10px;">计调审核批注：</label> <input name="accountOPCheckComment" ', 
            $line = 844, 3 != user.roleType && ($out += 'readonly="readonly"', $line = 844), 
            $out += " ", $line = 844, 3 == user.roleType && 0 != tripPlan.billStatus && ($out += 'readonly="readonly"', 
            $line = 844), $out += ' type="text" style="width:30%;" value="', $line = 844, null != remarkArrangeList[10] && ($line = 844, 
            $out += $escape(remarkArrangeList[10].financeCheckRemark), $line = 844), $out += '" /> </div> </div>', 
            $line = 846), $out += " </div> ", $line = 849), $out += ' </div> </div> <div style="height:30px;"></div> </div>', 
            new String($out);
        } catch (e) {
            throw {
                filename: $filename,
                name: "Render Error",
                message: e.message,
                line: $line,
                source: '<div class="col-sm-12 countUpdate">\r\n    <div class="col-xs-12 border borderNormal" style="height: 125px;margin-bottom: 30px">\r\n        <form class="form-horizontal" role="form" onsubmit="return false">\r\n            <div class="search-area  editable editable-click" style="margin-top: 10px;cursor: default;height: 30px">\r\n                <div class="form-group">\r\n                    <label class="col-sm-3" style="font-weight: bold;">线路：{{tripPlan.lineProduct.name}}</label>\r\n                    <label class="col-sm-2" style="font-weight: bold;">类别：{{tripPlan.lineProduct.type}}</label>\r\n                    <label class="col-sm-2" style="font-weight: bold;">应用范围：{{if tripPlan.lineProduct.customerType == 1}}团体{{else if tripPlan.lineProduct.customerType == 0}}散客{{/if}}</label>\r\n                    <label class="col-sm-3" style="font-weight: bold;">天数：<span class="T-ProductDays" style="font-weight: bold;">{{tripPlan.lineProduct.days}}</span></label>\r\n                    \r\n                </div>\r\n            </div>\r\n        </form> \r\n \r\n        <form class="form-horizontal" role="form" onsubmit="return false">\r\n            <div class="search-area  editable editable-click" style="margin-top: 10px;cursor: default;height: 30px">\r\n                <div class="form-group">\r\n                    <label class="col-sm-3" style="font-weight: bold;">团号：{{tripPlan.tripNumber}}</label>\r\n                    <label class="col-sm-3" style="font-weight: bold;">出团日期:<span style="font-weight: bold;" name="startTime_Choose">{{tripPlan.startTime | dateFormat:\'yyyy-MM-dd\'}}</span></label>\r\n                    <label class="col-sm-2" style="font-weight: bold;">完团日期：{{tripPlan.endTime | dateFormat:\'yyyy-MM-dd\'}}</label>\r\n                    <label class="col-sm-2" style="font-weight: bold;">团队人数：{{tripPlan.touristAdultCount}}大{{tripPlan.touristChildCount}}小</label>\r\n                </div>\r\n            </div>\r\n        </form>\r\n        <form class="form-horizontal" role="form" onsubmit="return false">\r\n            <div class="search-area  editable editable-click" style="margin-top: 10px;border-bottom:0px;cursor: default;height: 30px">\r\n                <div class="form-group">\r\n                    <label class="col-sm-3" style="font-weight: bold;">导游：{{if tripPlan.guide != null}}{{tripPlan.guide.realname}}{{/if}}</label>\r\n                    <label class="col-sm-2" style="font-weight: bold;">全陪：{{tripPlan.accompanyGuideName}}</label>\r\n                    <label class="col-sm-2" style="font-weight: bold;"></label>\r\n                    <label class="col-sm-2" style="font-weight: bold;"></label> \r\n                </div>\r\n            </div>\r\n        </form>\r\n    </div>\r\n    <div class="col-sm-12 " style="margin: 20px 0px 20px 0px;display: none;">\r\n    billStatus:{{if tripPlan.billStatus == \'-1\'}}待报账{{else if tripPlan.billStatus == \'0\'}}待审核（就是已报账）{{else if tripPlan.billStatus == \'1\'}}计调已审{{else if tripPlan.billStatus == \'2\'}}财务已审{{/if}}\r\n    <br />\r\n    roleType:{{if user.roleType == 0}}无审核权限{{else if user.roleType == 1}}管理员{{else if user.roleType == 2}}财务{{else if user.roleType == 3}}计调{{/if}} \r\n    </div>\r\n\r\n    <table class="table table-striped table-bordered table-hover all main-table" style="margin-top: 30px;">\r\n        <tbody>\r\n        <tr >\r\n            <td colspan="8">\r\n            <div style="float: left;margin-left:10px;">\r\n            	<input type="hidden" class="financial-tripPlanId" value="{{tripPlan.id}}" />\r\n            	<input type="hidden" class="tripPlanAdultCount" value="{{tripPlan.touristAdultCount}}" />\r\n            	<input type="hidden" class="tripPlanChildCount" value="{{tripPlan.touristChildCount}}" />\r\n            	<input type="hidden" class="tripPlanStartTime" value="{{tripPlan.startTime | dateFormat:\'yyyy-MM-dd\'}}" />\r\n            	\r\n            	<label style="margin-left:50px;font-weight: bold;">毛利：<span class="grossProfitMoney"></span></label>\r\n            	<label style="margin-left:50px;font-weight: bold;">人均毛利：<span class="perGrossProfitMoney"></span></label>\r\n           	</div></td> \r\n        </tr>\r\n        <tr >\r\n            <td colspan="2"><label style="font-weight: bold;">收入：<span class="tripIncome"></span></label></td>\r\n            <td colspan="3"><label style="font-weight: bold;">团成本：<span class="tripCost"></span></label></td>\r\n            <td><label style="font-weight: bold;">其他：<span class="tripOther"></span></label></td>\r\n            <td colspan="2"><label style="font-weight: bold;">中转成本：<span class="tripTransitCost"></span></label></td>\r\n\r\n        </tr>\r\n\r\n        <tr>\r\n            <td><label>应收团款：<span class="tripIncome-getAllMoney">{{touristGroup.needPayAllMoney}}</span></label></td>\r\n            <td><label>自费返佣：<span class="tripIncome-selfPayTravelAgencyRebateMoney"></span></label></td>\r\n            <td><label>导服费：<span class="tripCost-guideArrangePrice">{{guideArrange.price}}</span></label></td>\r\n            <td><label>保险：<span class="tripCost-insuranceArrangeNeedPayMoney">{{insuranceArrange.needPayMoney}}</span></label></td>\r\n            <td><label>车费：<span class="tripCost-busCompanyNeedPayMoney"></span></label></td>\r\n            <td><label>导游管理费：<span class="tripOther-guideArrangeManageFee">{{guideArrange.manageFee}}</span></label></td>\r\n            <td><label>车费：<span class="tripTransitCost-busCompanyNeedPayMoney">{{touristGroup.outBusMoney}}</span></label></td>\r\n            <td><label>餐食费用：<span class="tripTransitCost-ticketArrangeNeedPayMoney">{{touristGroup.outRestaurantMoney}}</span></label></td>\r\n\r\n        </tr>\r\n        <tr> \r\n            <td><label>购物返佣：<span class="tripIncome-shopTravelAgencyRateMoney"></span></label></td>\r\n            <td><label>其他收入：<span class="tripIncome-otherInCome"></span></label></td>\r\n            <td><label>餐费：<span class="tripCost-restaurantArrangeNeedPayMoney"></span></label></td>\r\n            <td><label>房费：<span class="tripCost-hotelArrangeNeedPayMoney"></span></label></td>\r\n            <td><label>景区费用：<span class="tripCost-scenicArrangeNeedPayMoney"></span></label></td>\r\n            <td><label>导游预支金额：<span class="tripOther-guideAllPreMoney">{{tripPlan.guideAllPreMoney}}</span></label></td>\r\n            <td><label>房费：<span class="tripTransitCost-hotelArrangeNeedPayMoney">{{touristGroup.outHotelMoney}}</span></label></td>\r\n            <td><label>其他费用：<span class="tripTransitCost-ticketArrangeNeedPayMoney">{{touristGroup.outOtherMoney}}</span></label></td>\r\n        </tr>\r\n        <tr>\r\n            <td></td>\r\n            <td></td>\r\n            <td><label>票务费用：<span class="tripCost-ticketArrangeNeedPayMoney"></span></label></td>\r\n            <td><label>其他费用：<span class="tripCost-otherArrangeNeedPayMoney"></span></label></td>\r\n            <td><label style="display: none;">地接费用：<span class="tripCost-groundArrangeNeedPayMoney"></span></label></td>\r\n            <td></td>\r\n            <td><label>票务费用{{isOp}}：<span class="tripTransitCost-ticketArrangeNeedPayMoney">{{touristGroup.outTicketMoney}}</span></label></td>\r\n            <td></td>\r\n        </tr>\r\n        </tbody>\r\n    </table>\r\n    <input type="hidden" value="{{WEB_IMG_URL_BIG}}" name="WEB_IMG_URL_BIG" /> \r\n    <input type="hidden" value="{{WEB_IMG_URL_SMALL}}" name="WEB_IMG_URL_SMALL" />\r\n\r\n    <div class="row" style="margin-bottom:15px;">\r\n        <!-- 报账 -->\r\n        {{if tripPlan.billStatus == \'-1\'}}\r\n            <div style="float:left;">  \r\n                <button data-entity-id="{{tripPlan.id}}" data-entity-userName="{{user.userName}}" data-entity-roleType="{{user.roleType}}" data-entity-financial-id="{{financialTripPlanId}}" class="btn btn-xs btn-primary btn-transfter btn-saveCount" style="margin-right: 20px;">\r\n                    <i class="ace-icon fa fa-save"></i>保存信息\r\n                </button>\r\n                <button data-entity-id="{{tripPlan.id}}" data-entity-userName="{{user.userName}}" data-entity-roleType="{{user.roleType}}" data-entity-financial-id="{{financialTripPlanId}}" class="btn btn-xs btn-success btn-transfter btn-guide-account" style="margin-right: 20px;">\r\n                    <i class="ace-icon fa fa-check-circle"></i>报账完成\r\n                </button>\r\n            </div>\r\n        <!-- 审核 -->\r\n        {{else}}\r\n            <!-- 计调可审 -->\r\n            {{if isOp == "1" && tripPlan.billStatus == 0}}\r\n                <div style="float:left;">\r\n                    <button data-entity-id="{{tripPlan.id}}" data-entity-userName="{{user.userName}}" data-entity-roleType="{{user.roleType}}" data-entity-financial-id="{{financialTripPlanId}}" class="btn btn-xs btn-primary btn-transfter btn-saveCount" style="margin-right: 20px;">\r\n                        <i class="ace-icon fa fa-save"></i>保存信息\r\n                    </button>\r\n                    <button data-entity-billStatus="{{tripPlan.billStatus}}" data-entity-userName="{{user.userName}}" data-entity-roleType="{{user.roleType}}" data-entity-id="{{tripPlan.id}}" data-entity-financial-id="{{financialTripPlanId}}" class="btn btn-xs btn-success btn-transfter btn-accountCheck" style="margin-right: 20px;">\r\n                        <i class="ace-icon fa fa-check-circle"></i>审核通过\r\n                    </button>\r\n                     <button data-entity-billStatus="{{tripPlan.billStatus}}" data-entity-id="{{tripPlan.id}}" data-entity-financial-id="{{financialTripPlanId}}" class="btn btn-xs btn-danger btn-transfter btn-rebackGuide" style="margin-right: 20px;">\r\n                        <i class="ace-icon fa fa-mail-reply"></i>退回导游\r\n                    </button>\r\n                </div>\r\n            {{else if isFinance && tripPlan.billStatus == 1 }}\r\n                <div style="float:left;">\r\n                    <button data-entity-id="{{tripPlan.id}}" data-entity-userName="{{user.userName}}" data-entity-roleType="{{user.roleType}}" data-entity-financial-id="{{financialTripPlanId}}" class="btn btn-xs btn-primary btn-transfter btn-saveCount" style="margin-right: 20px;">\r\n                        <i class="ace-icon fa fa-save"></i>保存信息\r\n                    </button>\r\n                    <button data-entity-billStatus="{{tripPlan.billStatus}}" data-entity-userName="{{user.userName}}" data-entity-roleType="{{user.roleType}}" data-entity-id="{{tripPlan.id}}" data-entity-financial-id="{{financialTripPlanId}}" class="btn btn-xs btn-success btn-transfter btn-accountCheck" style="margin-right: 20px;">\r\n                        <i class="ace-icon fa fa-check-circle"></i>审核通过\r\n                    </button>\r\n                    <button data-entity-billStatus="{{tripPlan.billStatus}}" data-entity-id="{{tripPlan.id}}" data-entity-financial-id="{{financialTripPlanId}}" class="btn btn-xs btn-danger btn-transfter btn-rebackOP" style="margin-right: 20px;">\r\n                        <i class="ace-icon fa fa-mail-reply"></i>退回计调\r\n                    </button>\r\n                </div>\r\n            {{else if isFinance && tripPlan.billStatus == 2}}\r\n                <div style="float:left;">\r\n                    <button data-entity-id="{{tripPlan.id}}" data-entity-userName="{{user.userName}}" data-entity-roleType="{{user.roleType}}" data-entity-financial-id="{{financialTripPlanId}}" class="btn btn-xs btn-primary btn-transfter btn-saveCount" style="margin-right: 20px;">\r\n                        <i class="ace-icon fa fa-save"></i>保存信息\r\n                    </button>\r\n                </div>\r\n            {{/if}}           \r\n        {{/if}}\r\n        <div style="margin-top:5px;float:left;width:90px;text-align:center;">\r\n            <a href="javascript:void(0);" class="btn-financialLog">操作记录</a>\r\n        </div>\r\n        <div style="margin-top:5px;float:left;width:90px;text-align:center;">\r\n            <a href="javascript:void(0);" class="btn-tripPlanArrange">安排预算表</a>\r\n        </div>\r\n    </div>\r\n\r\n    <div class="tabbable">\r\n        <ul class="nav nav-tabs">\r\n            <li class="active col-sm-1 no-padding align-center">\r\n                <a data-toggle="tab" href="#financial-count-update-money" aria-expanded="true">团款</a>\r\n            </li>\r\n            <li class="col-sm-1 no-padding align-center">\r\n                <a data-toggle="tab" href="#financial-count-update-shop" aria-expanded="true">购物</a>\r\n            </li>\r\n            <li class="col-sm-1 no-padding align-center">\r\n                <a data-toggle="tab" href="#financial-count-update-selfpay" aria-expanded="true">自费</a>\r\n            </li>\r\n            <li class="col-sm-1 no-padding align-center">\r\n                <a data-toggle="tab" href="#financial-count-update-other-incoming" aria-expanded="true">其他收入</a>\r\n            </li>\r\n            <li class="col-sm-1 no-padding align-center">\r\n                <a data-toggle="tab" href="#financial-count-update-buspay" aria-expanded="true">车费</a>\r\n            </li>\r\n            <li class="col-sm-1 no-padding align-center">\r\n                <a data-toggle="tab" href="#financial-count-update-restaurantpay" aria-expanded="true">餐费</a>\r\n            </li>\r\n            <li class="col-sm-1 no-padding align-center">\r\n                <a data-toggle="tab" href="#financial-count-update-hotelpay" aria-expanded="true">房费</a>\r\n            </li>\r\n            <li class="col-sm-1 no-padding align-center">\r\n                <a data-toggle="tab" href="#financial-count-update-scenicpay" aria-expanded="true">景区</a>\r\n            </li>\r\n            <li class="col-sm-1 no-padding align-center">\r\n                <a data-toggle="tab" href="#financial-count-update-ticketpay" aria-expanded="true">票务</a>\r\n            </li>\r\n            <li class="col-sm-1 no-padding align-center">\r\n                <a data-toggle="tab" href="#financial-count-update-otherpay" aria-expanded="true">其他支出</a>\r\n            </li>\r\n            {{if touristGroup != null}}\r\n            <li class="col-sm-1 no-padding align-center">\r\n                <a data-toggle="tab" href="#financial-count-update-outarrangepay" aria-expanded="true">中转</a>\r\n            </li>\r\n            {{/if}}\r\n        </ul>\r\n        <div class="tab-content financial-count-update-update-tab">\r\n            <!-- 团款 -->\r\n            <div id="financial-count-update-money" class="tab-pane fade active in">\r\n                <table class="table table-striped table-bordered table-hover">\r\n                    <tbody>\r\n                    <tr>\r\n                        <td>应收</td>\r\n                        <td>已收</td>\r\n                        <td>现收</td>\r\n                        <td>明细</td>\r\n                    <tr>\r\n                        <td><span class="">{{touristGroup.needPayAllMoney}}</span></td>\r\n                        <td><span class="">{{touristGroup.payedMoney}}</span></td>\r\n                        <td><span class="">{{touristGroup.currentNeedPayMoney}}</span></td>\r\n                        <td><a href="javascript:void(0);" data-entity-id="{{tripPlan.id}}" class="btn-viewGroupDetail">查看</a></td>\r\n                    </tr>\r\n                    </tbody>\r\n                </table>\r\n\r\n                {{if tripPlan.billStatus > -1}}\r\n                <div style="width:60%;"><div> \r\n                    <label style="margin:5px 0px 0px 0px;">财务审核批注：</label>\r\n                    <input name="accountFinancialCheckComment" {{if user.roleType != 2 }}readonly="readonly"{{/if}} {{if user.roleType == 2 && tripPlan.billStatus != 1 }}readonly="readonly"{{/if}} type="text" style="width:30%;" value="{{if remarkArrangeList[0] != null}}{{remarkArrangeList[0].opCheckRemark}}{{/if}}" />\r\n                \r\n                    <label style="margin:5px 0px 0px 10px;">计调审核批注：</label>\r\n                    <input name="accountOPCheckComment" {{if user.roleType != 3 }}readonly="readonly"{{/if}} {{if user.roleType == 3 && tripPlan.billStatus != 0 }}readonly="readonly"{{/if}} type="text" style="width:30%;" value="{{if remarkArrangeList[0] != null}}{{remarkArrangeList[0].financeCheckRemark}}{{/if}}" />\r\n                </div>\r\n                </div>{{/if}}\r\n            </div>\r\n\r\n            <!-- 购物 -->\r\n            <div id="financial-count-update-shop" class="tab-pane fade">\r\n                <table class="table table-striped table-bordered table-hover">\r\n                    <thead>\r\n                    <tr>\r\n                        <th colspan="6">打单</th>\r\n                        <th colspan="2">社佣</th>\r\n                        <th colspan="2">导佣</th>\r\n                        <th colspan="2">人数返佣</th>\r\n                        <th colspan="2">停车返佣</th>\r\n                        <th rowspan="2">导游报账备注</th>\r\n                    </tr>\r\n                    <tr>\r\n                      <th>时间</th>\r\n                      <th>购物店</th>\r\n                      <th>商品</th>\r\n                      <th>金额</th>\r\n                      <th>单据</th>\r\n                      <th>总金额</th>\r\n                      <th>比例%</th>\r\n                      <th>返佣</th>\r\n                      <th>比例%</th>\r\n                      <th>返佣</th>\r\n                      <th>元/人</th>\r\n                      <th>返佣</th>\r\n                      <th>元/车</th>\r\n                      <th>返佣</th>\r\n                    </tr></thead>\r\n                    <tbody id="shopping"> \r\n                    {{each dayList as day}}\r\n                    {{if day.shopArrange != null}}\r\n                    {{each day.shopArrange as shopArrangeList}}\r\n                    {{each shopArrangeList.shopArrangePolicy as arrange index}}\r\n                    {{if arrange != null}}\r\n                    <tr shopArrangeId="{{arrange.id}}" shopId="{{arrange.whichDay}}_{{arrange.shopId}}">\r\n                        {{if index==0}}<td rowspan="{{shopArrangeList.shopArrangePolicy.length}}">第{{arrange.whichDay}}天</td>{{/if}}\r\n                        {{if index==0}}<td rowspan="{{shopArrangeList.shopArrangePolicy.length}}">{{arrange.shop.name}}</td>{{/if}}\r\n                        <td>{{arrange.shopPolicy.name}}</td>\r\n                        <td><input policyId="{{if arrange.shopPolicy != null}}{{arrange.shopPolicy.id}}{{/if}}" name="consumeMoney" style="width:90px;" type="text" value="{{arrange.consumeMoney}}" old="{{arrange.consumeMoney}}" maxlength="11" /></td>\r\n                        <td>{{if arrange.billImage != null && arrange.billImage != ""}}\r\n                                <a href="javascript:void(0);" url="{{arrange.billImage}}" class="btn-view">查看</a>\r\n                            {{else}}\r\n                                <span style="color:#bbb;">查看</span>\r\n                            {{/if}}\r\n                        </td>\r\n                        {{if index == 0 }}<td rowspan="{{shopArrangeList.shopArrangePolicy.length}}"><span class="sumMoney{{arrange.whichDay}}_{{arrange.shopId}}"></span></td>{{/if}}\r\n                        <td><input name="travelAgencyRate" style="width:90px;" type="text" value="{{arrange.travelAgencyRate*100}}" old="{{arrange.travelAgencyRate}}" maxlength="5"/></td>\r\n                        <td><span>{{arrange.travelAgencyRateMoney}}</span><input type="hidden" name="travelAgencyRateMoney" value="{{arrange.travelAgencyRateMoney}}" /></td>\r\n                        <td><input name="guideRate" style="width:90px;" type="text" value="{{arrange.guideRate*100}}" old="{{arrange.guideRate}}" maxlength="5" /></td>\r\n                        <td><span>{{arrange.guideRkateMoney}}</span><input type="hidden" name="guideRateMoney" value="{{arrange.guideRateMoney}}" /></td>\r\n                        {{if index == 0 }}<td rowspan="{{shopArrangeList.shopArrangePolicy.length}}"><input type="text" name="customerRebateMoney{{arrange.whichDay}}_{{arrange.shopId}}" value="{{if arrange.customerRebateMoney < 1}}{{arrange.shop.customerRebateMoney}}{{else}}{{arrange.customerRebateMoney}}{{/if}}" style="width:90px;" old="{{if arrange.customerRebateMoney < 1}}{{arrange.shop.customerRebateMoney}}{{else}}{{arrange.customerRebateMoney}}{{/if}}" maxlength="11"/><input type="hidden" name="touristAdultCount{{arrange.whichDay}}_{{arrange.shopId}}" value="{{tripPlan.touristAdultCount}}" /></td>{{/if}}\r\n                        {{if index == 0 }}<td rowspan="{{shopArrangeList.shopArrangePolicy.length}}"><span class="sumCustomerRebateMoney{{arrange.whichDay}}_{{arrange.shopId}} sumCustomerRebateMoney">{{shopArrangeList.customerRebateMoney}}</span></td>{{/if}}\r\n                        {{if index == 0 }}<td rowspan="{{shopArrangeList.shopArrangePolicy.length}}"><input type="text" name="parkingRebateMoney{{arrange.whichDay}}_{{arrange.shopId}}" value="{{if arrange.parkingRebateMoney < 1}}{{arrange.shop.parkingRebateMoney}}{{else}}{{arrange.parkingRebateMoney}}{{/if}}" style="width:90px;" old="{{if arrange.parkingRebateMoney < 1}}{{arrange.shop.parkingRebateMoney}}{{else}}{{arrange.parkingRebateMoney}}{{/if}}" maxlength="11"/><input type="hidden" name="busNumber{{arrange.whichDay}}_{{arrange.shopId}}" value="{{busCompanyArrange.length}}" /></td>{{/if}}\r\n                        {{if index == 0 }}<td rowspan="{{shopArrangeList.shopArrangePolicy.length}}"><span class="sumParkingRebateMoney{{arrange.whichDay}}_{{arrange.shopId}} sumParkingRebateMoney">{{shopArrangeList.parkingRebateMoney}}</span></td>{{/if}}\r\n                        <td>{{arrange.billRemark}}</td>\r\n                    </tr>\r\n                    {{/if}}\r\n                    {{/each}}\r\n                    {{/each}}\r\n                    {{/if}}\r\n                    {{/each}}\r\n                    </tbody>\r\n                </table>\r\n\r\n                {{if tripPlan.billStatus > -1}}\r\n                <div style="width:60%;"><div> \r\n                    <label style="margin:5px 0px 0px 0px;">财务审核批注：</label>\r\n                    <input name="accountFinancialCheckComment" {{if user.roleType != 2 }}readonly="readonly"{{/if}} {{if user.roleType == 2 && tripPlan.billStatus != 1 }}readonly="readonly"{{/if}} type="text" style="width:30%;" value="{{if remarkArrangeList[1] != null}}{{remarkArrangeList[1].opCheckRemark}}{{/if}}" />\r\n                \r\n                    <label style="margin:5px 0px 0px 10px;">计调审核批注：</label>\r\n                    <input name="accountOPCheckComment" {{if user.roleType != 3 }}readonly="readonly"{{/if}} {{if user.roleType == 3 && tripPlan.billStatus != 0 }}readonly="readonly"{{/if}} type="text" style="width:30%;" value="{{if remarkArrangeList[1] != null}}{{remarkArrangeList[1].financeCheckRemark}}{{/if}}" />\r\n                </div>\r\n                </div>{{/if}}\r\n            </div>\r\n\r\n            <!-- 自费 -->\r\n            <div id="financial-count-update-selfpay" class="tab-pane fade">\r\n                <table class="table table-striped table-bordered table-hover">\r\n                    <thead>\r\n                    <tr>\r\n                        <th colspan="12">消费</th>\r\n                        <th colspan="2">社佣</th>\r\n                        <th colspan="2">导佣</th>\r\n                        <th colspan="2">人数返佣</th>\r\n                        <th rowspan="2">导游报账备注</th>\r\n                    </tr>\r\n                    <tr>\r\n                      <th>时间</th>\r\n                      <th>自费商家</th>\r\n                      <th>项目</th>\r\n                      <th>单价</th>\r\n                      <th>底价</th>\r\n                      <th>数量</th>\r\n                      <th>优惠</th>\r\n                      <th>应付</th>\r\n                      <th>已付</th>\r\n                      <th>导付</th>\r\n                      <th>现收</th>\r\n                      <th>单据</th>\r\n                      <th>比例%</th>\r\n                      <th>返佣</th>\r\n                      <th>比例%</th>\r\n                      <th>返佣</th>\r\n                      <th>元/人</th>\r\n                      <th>返佣</th>\r\n                    </tr></thead>\r\n                    <tbody id="selfPay">\r\n                    {{each dayList as day}}\r\n                    {{if day.selfPayArrange != null}}\r\n                    {{each day.selfPayArrange as arrangeList}}\r\n                    {{each arrangeList.selfPayArrangeList as arrange index}}\r\n                    {{if arrange != null}}\r\n                    <tr selfPayArrangeId="{{arrange.id}}" selfPayId="{{arrange.selfPayId}}">\r\n                            {{if index == 0 }}<td rowspan="{{arrangeList.selfPayArrangeList.length}}">第{{arrange.whichDay}}天</td>{{/if}}\r\n                            {{if index == 0 }}<td rowspan="{{arrangeList.selfPayArrangeList.length}}">{{arrange.selfPay.name}}</td>{{/if}}\r\n                            <td>{{if arrange.selfPayItem != null }}{{arrange.selfPayItem.name}}{{/if}}</td>\r\n                            <td>{{arrange.marketPrice}}<input type="hidden" name="marketPrice" value="{{arrange.marketPrice}}" /></td>\r\n                            <td>{{arrange.price}}<input type="hidden" name="price" value="{{arrange.price}}" /></td>\r\n                            <td><input style="width:90px;" type="text" name="realCount" value="{{arrange.realCount}}" old="{{arrange.realCount}}" maxlength="5"/><input type="hidden" name="memberCount" value="{{arrange.memberCount}}" /></td>\r\n                            <td>{{arrange.reduceMoney}}<input type="hidden" name="reduceMoney" value="{{arrange.reduceMoney}}" /></td>\r\n                            <td><span class="needPayMoney">{{arrange.needPayMoney}}</span></td>\r\n                            <td>{{arrange.payedMoney}}</td>\r\n                            <td>\r\n                                <input style="width:90px;" type="text" name="realGuidePayMoney" value="{{arrange.realGuidePayMoney}}" old="{{arrange.realGuidePayMoney}}" maxlength="11"/>\r\n                                <input type="hidden" name="payedMoney" value="{{arrange.payedMoney}}" />\r\n                                <input type="hidden" name="guidePayMoney" value="{{arrange.guidePayMoney}}" />\r\n                                </td>\r\n                            <td>{{arrange.realGetMoney}}</td>\r\n                            <td>{{if arrange.billImage != null && arrange.billImage != ""}}\r\n                                    <a href="javascript:void(0);" url="{{arrange.billImage}}" class="btn-view">查看</a>\r\n                                {{else}}\r\n                                    <span style="color:#bbb;">查看</span>\r\n                                {{/if}}\r\n                            </td>\r\n                            <td>\r\n                                <input style="width:90px;" type="text" name="travelAgencyRate" value="{{arrange.travelAgencyRate*100 | parseInt}}" old="{{arrange.travelAgencyRate}}" maxlength="5"/></td>\r\n                            <td>\r\n                                <span class="travelAgencyRebateMoney">{{arrange.travelAgencyRebateMoney}}</span>\r\n                                <input type="hidden" name="travelAgencyRebateMoney" value="{{arrange.travelAgencyRebateMoney}}" /></td>\r\n                            <td>\r\n                                <input style="width:90px;" type="text" name="guideRate" value="{{arrange.guideRate*100 | parseInt}}" old="{{arrange.guideRate}}" maxlength="5"/></td>\r\n                            <td>\r\n                                <span class="guideRebateMoney">{{arrange.guideRebateMoney}}</span>\r\n                                <input type="hidden" name="guideRebateMoney" value="{{arrange.guideRebateMoney}}" /></td>\r\n                            <td>\r\n                                <span class="guideRate">{{arrange.customerRebateMoney}}</span>\r\n                                <input type="hidden" name="guideRate" value="{{arrange.customerRebateMoney}}" /></td>\r\n                            {{if index == 0 }}<td rowspan="{{arrangeList.selfPayArrangeList.length}}">{{arrange.customerRebateMoney * tripPlan.touristAdultCount}}</td>{{/if}}\r\n                            <td>{{arrange.billRemark}}</td>                                \r\n                    </tr>\r\n                    {{/if}}\r\n                    {{/each}}\r\n                    {{/each}}\r\n                    {{/if}}\r\n                    {{/each}}\r\n                    </tbody>\r\n                </table>\r\n\r\n                {{if tripPlan.billStatus > -1}}\r\n                <div style="width:60%;"><div> \r\n                    <label style="margin:5px 0px 0px 0px;">财务审核批注：</label>\r\n                    <input name="accountFinancialCheckComment" {{if user.roleType != 2 }}readonly="readonly"{{/if}} {{if user.roleType == 2 && tripPlan.billStatus != 1 }}readonly="readonly"{{/if}} type="text" style="width:30%;" value="{{if remarkArrangeList[2] != null}}{{remarkArrangeList[2].opCheckRemark}}{{/if}}" />\r\n                \r\n                    <label style="margin:5px 0px 0px 10px;">计调审核批注：</label>\r\n                    <input name="accountOPCheckComment" {{if user.roleType != 3 }}readonly="readonly"{{/if}} {{if user.roleType == 3 && tripPlan.billStatus != 0 }}readonly="readonly"{{/if}} type="text" style="width:30%;" value="{{if remarkArrangeList[2] != null}}{{remarkArrangeList[2].financeCheckRemark}}{{/if}}" />\r\n                </div>\r\n                </div>{{/if}}\r\n            </div>\r\n            <!-- 其他收入 -->\r\n            <div id="financial-count-update-other-incoming" class="tab-pane fade T-income">\r\n                <table class="table table-striped table-bordered table-hover">\r\n                    <thead>\r\n                    <tr>\r\n                        <th>时间</th>\r\n                        <th>项目</th>\r\n                        <th>单价</th>\r\n                        <th>数量</th>\r\n                        <th>金额</th>\r\n                        <th>单据</th>\r\n                        <th>导游报账备注</th>\r\n                    </tr>\r\n                    </thead>\r\n                    <tbody id="otherIn">\r\n                    {{each arrangeIncomePaymentList as otherInCome}}\r\n                    {{if otherInCome != null}}\r\n                    <tr otherInId="{{otherInCome.id}}" otherIn="{{otherInCome.id}}">\r\n                        <td whichDay="{{otherInCome.whichDay}}">第{{otherInCome.whichDay}}天</td>\r\n                        <td><input style="width:90px;" type="text" name="title" reset="true" value="{{otherInCome.title}}" old="{{otherInCome.title}}" maxlength="100"/></td>\r\n                        <td><input style="width:90px;" type="text" name="price" value="{{otherInCome.price}}" old="{{otherInCome.price}}" maxlength="11"/></td>\r\n                        <td><input style="width:90px;" type="text" name="count" value="{{otherInCome.count}}" old="{{otherInCome.count}}" maxlength="11"/></td>\r\n                        <td><span class="needPayMoney"><input type="hidden" name="needPayMoney" value="{{otherInCome.needPayMoney}}" /></span></td>\r\n                        <td>{{if otherInCome.billImage != null && otherInCome.billImage != ""}}\r\n                                <a href="javascript:void(0);" url="{{otherInCome.billImage}}" class="btn-view">查看</a>\r\n                            {{else}}\r\n                                <span style="color:#bbb;">查看</span>\r\n                            {{/if}}\r\n                        </td>\r\n                        <td><input type="text" value="{{otherInCome.billRemark}}" name="billRemark"/></td>\r\n                    </tr>\r\n                    {{/if}}\r\n                    {{/each}}\r\n                    </tbody>\r\n                </table>\r\n\r\n                {{if tripPlan.billStatus > -1}}\r\n                <div style="width:60%;"><div> \r\n                    <label style="margin:5px 0px 0px 0px;">财务审核批注：</label>\r\n                    <input name="accountFinancialCheckComment" {{if user.roleType != 2 }}readonly="readonly"{{/if}} {{if user.roleType == 2 && tripPlan.billStatus != 1 }}readonly="readonly"{{/if}} type="text" style="width:30%;" value="{{if remarkArrangeList[3] != null}}{{remarkArrangeList[3].opCheckRemark}}{{/if}}" />\r\n                \r\n                    <label style="margin:5px 0px 0px 10px;">计调审核批注：</label>\r\n                    <input name="accountOPCheckComment" {{if user.roleType != 3 }}readonly="readonly"{{/if}} {{if user.roleType == 3 && tripPlan.billStatus != 0 }}readonly="readonly"{{/if}} type="text" style="width:30%;" value="{{if remarkArrangeList[3] != null}}{{remarkArrangeList[3].financeCheckRemark}}{{/if}}" />\r\n                </div>\r\n                </div>{{/if}}\r\n            </div>\r\n\r\n            <!-- 车费 -->\r\n            <div id="financial-count-update-buspay" class="tab-pane fade">\r\n                <table class="table table-striped table-bordered table-hover">\r\n                    <thead>\r\n                    <tr>\r\n                        <th>车主</th>\r\n                        <th>车牌号</th>\r\n                        <th>座位数</th>\r\n                        <th>车费</th>\r\n                        <th>优惠</th>\r\n                        <th>应付</th>\r\n                        <th>已付</th>\r\n                        <th>导付</th>\r\n                        <th>单据</th>\r\n                        <th>差额</th>\r\n                        <th>导游报账备注</th>\r\n                    </tr>\r\n                    </thead>\r\n                    <tbody id="bus">\r\n                    {{each busCompanyArrange as busCompany}}\r\n                    {{if busCompany != null}}\r\n                    <tr busCompanyArrangeId="{{busCompany.id}}" >\r\n                        <td>{{if busCompany.busCompany != null}}{{busCompany.busCompany.companyName}}{{/if}}</td>\r\n                        <td>{{if busCompany.bus != null}}{{busCompany.bus.licenseNumber}}{{/if}}</td>\r\n                        <td>{{if busCompany.bus != null}}{{busCompany.bus.seatCount}}{{/if}}</td>\r\n                        <td>{{busCompany.price}}<input type="hidden" name="price" value="{{busCompany.price}}" /><input type="hidden" name="realCount" value="1" /></td>\r\n                        <td>{{busCompany.reduceMoney}}<input type="hidden" name="reduceMoney" value="{{busCompany.reduceMoney}}" /></td>\r\n                        <td><span class="BusneedPayMoney">{{busCompany.needPayMoney}}</span></td>\r\n                        <td>{{busCompany.payedMoney}}</td>\r\n                        <td>\r\n                            <input style="width:90px;" type="text" name="realGuidePayMoney" value="{{busCompany.realGuidePayMoney}}" old="{{busCompany.realGuidePayMoney}}" maxlength="11"/>\r\n                            <input type="hidden" name="payedMoney" value="{{busCompany.payedMoney}}" />\r\n                            <input type="hidden" name="guidePayMoney" value="{{busCompany.guidePayMoney}}" /></td>\r\n                        <td>{{if busCompany.billImage != null && busCompany.billImage != ""}}\r\n                                <a href="javascript:void(0);" url="{{busCompany.billImage}}" class="btn-view">查看</a>\r\n                            {{else}}\r\n                                <span style="color:#bbb;">查看</span>\r\n                            {{/if}}\r\n                        </td>\r\n                        <td><span class="difference"></span></td>\r\n                        <td>{{busCompany.billRemark}}</td>\r\n                    </tr>\r\n                    {{/if}}\r\n                    {{/each}}\r\n                    </tbody>\r\n                </table>\r\n\r\n                {{if tripPlan.billStatus > -1}}\r\n                <div style="width:60%;"><div> \r\n                    <label style="margin:5px 0px 0px 0px;">财务审核批注：</label>\r\n                    <input name="accountFinancialCheckComment" {{if user.roleType != 2 }}readonly="readonly"{{/if}} {{if user.roleType == 2 && tripPlan.billStatus != 1 }}readonly="readonly"{{/if}} type="text" style="width:30%;" value="{{if remarkArrangeList[4] != null}}{{remarkArrangeList[4].opCheckRemark}}{{/if}}" />\r\n                \r\n                    <label style="margin:5px 0px 0px 10px;">计调审核批注：</label>\r\n                    <input name="accountOPCheckComment" {{if user.roleType != 3 }}readonly="readonly"{{/if}} {{if user.roleType == 3 && tripPlan.billStatus != 0 }}readonly="readonly"{{/if}} type="text" style="width:30%;" value="{{if remarkArrangeList[4] != null}}{{remarkArrangeList[4].financeCheckRemark}}{{/if}}" />\r\n                </div>\r\n                </div>{{/if}}\r\n            </div>\r\n\r\n            <!-- 餐费 -->\r\n            <div id="financial-count-update-restaurantpay" class="tab-pane fade">\r\n                <table class="table table-striped table-bordered table-hover">\r\n                    <thead>\r\n                        <tr>\r\n                            <th>时间</th>\r\n                            <th>餐厅</th>\r\n                            <th>类型</th>\r\n                            <th>餐标</th>\r\n                            <th>人数</th>\r\n                            <th>优惠</th>\r\n                            <th>应付</th>\r\n                            <th>已付</th>\r\n                            <th>导付</th>\r\n                            <th>单据</th>\r\n                            <th>差额</th>\r\n                            <th>导游报账备注</th>\r\n                        </tr>\r\n                    </thead>\r\n                    <tbody id="restaurant"> \r\n                    {{each dayList as day}}\r\n                    {{if day.restaurantArrange != null}}\r\n                    {{each day.restaurantArrange as arrangeList}}\r\n                    {{each arrangeList.restaurantArrangeList as arrange index}}\r\n                    {{if arrange != null}}\r\n                    <tr restaurantArrangeId="{{arrange.id}}" restaurantId="{{if arrange.restaurant != null}}{{arrange.restaurant.id}}{{/if}}" restaurantStandardId="{{if arrange.restaurantStandard != null}}{{arrange.restaurantStandard.id}}{{/if}}">\r\n                        {{if index == 0}}<td rowspan="{{arrangeList.restaurantArrangeList.length}}">第{{arrange.whichDay}}天</td>{{/if}}\r\n                        {{if index == 0}}<td rowspan="{{arrangeList.restaurantArrangeList.length}}">{{if arrange.restaurant != null}}{{arrange.restaurant.name}}{{/if}}</td>{{/if}}\r\n                        <td>{{arrange.type}}</td> \r\n                        <td>{{arrange.price}}<input type="hidden" name="price" value="{{arrange.price}}" /></td>\r\n                        <td><input style="width:90px;" type="text" name="realCount" value="{{arrange.realCount}}" old="{{arrange.realCount}}" maxlength="5"/></td>\r\n                        <td>{{arrange.reduceMoney}}<input type="hidden" name="reduceMoney" value="{{arrange.reduceMoney}}" /></td>\r\n                        <td><span class="restneedPayMoney">{{arrange.needPayMoney}}</span></td>\r\n                        <td>{{arrange.payedMoney}}</td>\r\n                        <td>\r\n                            <input style="width:90px;" type="text" name="realGuidePayMoney" value="{{arrange.realGuidePayMoney}}" old="{{arrange.realGuidePayMoney}}" maxlength="11"/>\r\n                            <input type="hidden" name="payedMoney" value="{{arrange.payedMoney}}" />\r\n                            <input type="hidden" name="guidePayMoney" value="{{arrange.guidePayMoney}}" /></td>\r\n                        <td><a href="javascript:void(0);" url="{{arrange.billImage}}" class="btn-view">查看</a></td>\r\n                        <td><span class="difference"></span></td>\r\n                        <td>{{arrange.billRemark}}</td>\r\n                    </tr>\r\n                    {{/if}}\r\n                    {{/each}}\r\n                    {{/each}}\r\n                    {{/if}}\r\n                    {{/each}}\r\n                    </tbody>\r\n                </table>\r\n\r\n                {{if tripPlan.billStatus > -1}}\r\n                <div style="width:60%;"><div> \r\n                    <label style="margin:5px 0px 0px 0px;">财务审核批注：</label>\r\n                    <input name="accountFinancialCheckComment" {{if user.roleType != 2 }}readonly="readonly"{{/if}} {{if user.roleType == 2 && tripPlan.billStatus != 1 }}readonly="readonly"{{/if}} type="text" style="width:30%;" value="{{if remarkArrangeList[5] != null}}{{remarkArrangeList[5].opCheckRemark}}{{/if}}" />\r\n                \r\n                    <label style="margin:5px 0px 0px 10px;">计调审核批注：</label>\r\n                    <input name="accountOPCheckComment" {{if user.roleType != 3 }}readonly="readonly"{{/if}} {{if user.roleType == 3 && tripPlan.billStatus != 0 }}readonly="readonly"{{/if}} type="text" style="width:30%;" value="{{if remarkArrangeList[5] != null}}{{remarkArrangeList[5].financeCheckRemark}}{{/if}}" />\r\n                </div>\r\n                </div>{{/if}}\r\n            </div>\r\n\r\n            <!-- 房费 -->\r\n            <div id="financial-count-update-hotelpay" class="tab-pane fade">\r\n                <table class="table table-striped table-bordered table-hover">\r\n                    <thead>\r\n                    <tr>\r\n                        <th>时间</th>\r\n                        <th>酒店</th>\r\n                        <th>房型</th>\r\n                        <th>单价</th>\r\n                        <th>间数</th>\r\n                        <th>优惠</th>\r\n                        <th>应付</th>\r\n                        <th>已付</th>\r\n                        <th>导付</th>\r\n                        <th>单据</th>\r\n                        <th>差额</th>\r\n                        <th>导游报账备注</th>\r\n                    </tr> \r\n                    </thead>\r\n                    <tbody id="hotelArrange">\r\n                    {{each dayList as day}}\r\n                    {{if day.hotelArrange != null}}\r\n                    {{each day.hotelArrange as arrangeList}}\r\n                    {{each arrangeList.hotelArrangeList as arrange index}}\r\n                    {{if arrange != null}}\r\n                    <tr hotelArrangeId="{{arrange.id}}" hotelId="{{if arrange.hotel != null}}{{arrange.hotel.id}}{{/if}}" restaurantStandardId="{{if arrange.hotelRoom != null}}{{arrange.hotelRoom.id}}{{/if}}">\r\n                        {{if index == 0}}<td rowspan="{{arrangeList.hotelArrangeList.length}}">第{{arrange.whichDay}}天</td>{{/if}}\r\n                        {{if index == 0}}<td rowspan="{{arrangeList.hotelArrangeList.length}}">{{if arrange.hotel != null}}{{arrange.hotel.name}}{{/if}}</td>{{/if}}\r\n                        <td>{{if arrange.hotelRoom != null}}{{arrange.hotelRoom.type}}{{/if}}</td>\r\n                        <td>{{arrange.price}}<input type="hidden" name="price" value="{{arrange.price}}" /></td>\r\n                        <td><input style="width:90px;" type="text" name="realCount" value="{{arrange.realCount}}" oid="{{arrange.realCount}}" maxlength="5"/></td>\r\n                        <td>{{arrange.reduceMoney}}<input type="hidden" name="reduceMoney" value="{{arrange.reduceMoney}}" /></td>\r\n                        <td><span class="hotelneedPayMoney">{{arrange.needPayMoney}}</span></td>\r\n                        <td>{{arrange.payedMoney}}</td>\r\n                        <td>\r\n                            <input style="width:90px;" type="text" name="realGuidePayMoney" value="{{arrange.realGuidePayMoney}}" oid="{{arrange.realGuidePayMoney}}" maxlength="11"/>\r\n                            <input type="hidden" name="payedMoney" value="{{arrange.payedMoney}}" />\r\n                            <input type="hidden" name="guidePayMoney" value="{{arrange.guidePayMoney}}" /></td>\r\n                        <td>{{if arrange.billImage != null && arrange.billImage != ""}}\r\n                                <a href="javascript:void(0);" url="{{arrange.billImage}}" class="btn-view">查看</a>\r\n                            {{else}}\r\n                                <span style="color:#bbb;">查看</span>\r\n                            {{/if}}\r\n                        </td>\r\n                        <td><span class="difference"></span></td>\r\n                        <td>{{arrange.billRemark}}</td>\r\n                    </tr>\r\n                    {{/if}}\r\n                    {{/each}}\r\n                    {{/each}}\r\n                    {{/if}}\r\n                    {{/each}}\r\n                    </tbody>\r\n                </table>\r\n\r\n                {{if tripPlan.billStatus > -1}}\r\n                <div style="width:60%;"><div> \r\n                    <label style="margin:5px 0px 0px 0px;">财务审核批注：</label>\r\n                    <input name="accountFinancialCheckComment" {{if user.roleType != 2 }}readonly="readonly"{{/if}} {{if user.roleType == 2 && tripPlan.billStatus != 1 }}readonly="readonly"{{/if}} type="text" style="width:30%;" value="{{if remarkArrangeList[6] != null}}{{remarkArrangeList[6].opCheckRemark}}{{/if}}" />\r\n                \r\n                    <label style="margin:5px 0px 0px 10px;">计调审核批注：</label>\r\n                    <input name="accountOPCheckComment" {{if user.roleType != 3 }}readonly="readonly"{{/if}} {{if user.roleType == 3 && tripPlan.billStatus != 0 }}readonly="readonly"{{/if}} type="text" style="width:30%;" value="{{if remarkArrangeList[6] != null}}{{remarkArrangeList[6].financeCheckRemark}}{{/if}}" />\r\n                </div>\r\n                </div>{{/if}}\r\n            </div>\r\n\r\n            <!-- 景区 -->\r\n            <div id="financial-count-update-scenicpay" class="tab-pane fade">\r\n                <table class="table table-striped table-bordered table-hover">\r\n                    <thead>\r\n                    <tr>\r\n                        <th>时间</th>\r\n                        <th>景区</th>\r\n                        <th>收费项目</th>\r\n                        <th>单价</th>\r\n                        <th>数量</th>\r\n                        <th>优惠</th>\r\n                        <th>应付</th>\r\n                        <th>已付</th>\r\n                        <th>导付</th>\r\n                        <th>单据</th>\r\n                        <th>差额</th>\r\n                        <th>导游报账备注</th>\r\n                    </tr>\r\n                    </thead>\r\n                    <tbody id="scenic">\r\n                    {{each dayList as day}}\r\n                    {{if day.scenicArrange != null}}\r\n                    {{each day.scenicArrange as arrangeList}}\r\n                    {{each arrangeList.scenicArrangeList as arrange index}}\r\n                    {{if arrange != null}}\r\n                    <tr scenicArrangeId="{{arrange.id}}" scenicId="{{arrange.scenicId}}" scenicItemId="{{arrange.hotelRoomId}}">\r\n                        {{if index == 0}}<td rowspan="{{arrangeList.scenicArrangeList.length}}">第{{arrange.whichDay}}天</td>{{/if}}\r\n                        {{if index == 0}}<td rowspan="{{arrangeList.scenicArrangeList.length}}">{{if arrange.scenic != null}}{{arrange.scenic.name}}{{/if}}</td>{{/if}}\r\n                        <td>{{if arrange.scenicItem != null}}{{arrange.scenicItem.name}}{{/if}}</td>\r\n                        <td>{{arrange.price}}<input type="hidden" name="price" value="{{arrange.price}}" /></td>\r\n                        <td><input style="width:90px;" type="text" name="realCount" value="{{arrange.realCount}}" old="{{arrange.realCount}}" maxlength="5"/></td>\r\n                        <td>{{arrange.reduceMoney}}<input type="hidden" name="reduceMoney" value="{{arrange.reduceMoney}}" /></td>\r\n                        <td><span class="scenicneedPayMoney">{{arrange.needPayMoney}}</span></td>\r\n                        <td>{{arrange.payedMoney}}</td>\r\n                        <td>\r\n                            <input style="width:90px;" type="text" name="realGuidePayMoney" value="{{arrange.realGuidePayMoney}}" old="{{arrange.realGuidePayMoney}}" maxlength="11"/>\r\n                            <input type="hidden" name="payedMoney" value="{{arrange.payedMoney}}" />\r\n                            <input type="hidden" name="guidePayMoney" value="{{arrange.guidePayMoney}}" /></td>\r\n                        <td>{{if arrange.billImage != null && arrange.billImage != ""}}\r\n                                <a href="javascript:void(0);" url="{{arrange.billImage}}" class="btn-view">查看</a>\r\n                            {{else}}\r\n                                <span style="color:#bbb;">查看</span>\r\n                            {{/if}}\r\n                        </td>\r\n                        <td><span class="difference"></span></td>\r\n                        <td>{{arrange.billRemark}}</td>\r\n                    </tr>\r\n                    {{/if}}\r\n                    {{/each}}\r\n                    {{/each}}\r\n                    {{/if}}\r\n                    {{/each}}\r\n                    </tbody>\r\n                </table>\r\n\r\n                {{if tripPlan.billStatus > -1}}\r\n                <div style="width:60%;"><div> \r\n                    <label style="margin:5px 0px 0px 0px;">财务审核批注：</label>\r\n                    <input name="accountFinancialCheckComment" {{if user.roleType != 2 }}readonly="readonly"{{/if}} {{if user.roleType == 2 && tripPlan.billStatus != 1 }}readonly="readonly"{{/if}} type="text" style="width:30%;" value="{{if remarkArrangeList[7] != null}}{{remarkArrangeList[7].opCheckRemark}}{{/if}}" />\r\n                \r\n                    <label style="margin:5px 0px 0px 10px;">计调审核批注：</label>\r\n                    <input name="accountOPCheckComment" {{if user.roleType != 3 }}readonly="readonly"{{/if}} {{if user.roleType == 3 && tripPlan.billStatus != 0 }}readonly="readonly"{{/if}} type="text" style="width:30%;" value="{{if remarkArrangeList[7] != null}}{{remarkArrangeList[7].financeCheckRemark}}{{/if}}" />\r\n                </div>\r\n                </div>{{/if}}\r\n            </div>\r\n\r\n            <!-- 票务 -->\r\n            <div id="financial-count-update-ticketpay" class="tab-pane fade">\r\n                <table class="table table-striped table-bordered table-hover">\r\n                    <thead>\r\n                    <tr>\r\n                        <th>票务商家</th>\r\n                        <th>类型</th>\r\n                        <th>日期</th>\r\n                        <th>出发地</th>\r\n                        <th>目的地</th>\r\n                        <th>座席</th>\r\n                        <th>单价</th>\r\n                        <th>数量</th>\r\n                        <th>优惠</th>\r\n                        <th>应付</th>\r\n                        <th>已付</th>\r\n                        <th>导付</th>\r\n                        <th>单据</th>\r\n                        <th>差额</th>\r\n                        <th>导游报账备注</th>\r\n                    </tr>\r\n                    </thead>\r\n                    <tbody id="ticket">\r\n                    {{each ticketArrangeList as ticketArrange}}\r\n                    {{each ticketArrange.ticketArrangeList as arrange index}}\r\n                    <tr ticketArrangeId="{{arrange.id}}" ticketId="{{arrange.ticket.id}}" itemId="{{arrange.id}}">\r\n                    {{if index == 0}}<td rowspan="{{ticketArrange.ticketArrangeList.length}}">{{if arrange.ticket != null}}{{arrange.ticket.name}}{{/if}}</td>{{/if}}\r\n                    {{if index == 0}}<td rowspan="{{ticketArrange.ticketArrangeList.length}}">{{if arrange.type == 1}}机票{{else if arrange.type== 2}}汽车票{{else if arrange.type == 3}}火车票{{else if arrange.type == 4}}轮船票{{/if}}</td>{{/if}}\r\n                    {{if index == 0}}<td rowspan="{{ticketArrange.ticketArrangeList.length}}">{{arrange.startTime}}</td>{{/if}}\r\n                    {{if index == 0}}<td rowspan="{{ticketArrange.ticketArrangeList.length}}">{{arrange.startingCity}}</td>{{/if}}\r\n                    {{if index == 0}}<td rowspan="{{ticketArrange.ticketArrangeList.length}}">{{arrange.arriveCity}}</td>{{/if}}\r\n                    <td>{{arrange.seatLevel}}</td>\r\n                        <td><span>{{arrange.price}}</span><input type="hidden" name="price" value="{{arrange.price}}" /></td>\r\n                        <td><input style="width:90px;" name="realCount" type="text" value="{{arrange.realCount}}" old="{{arrange.realCount}}" maxlength="5"/></td>\r\n                        <td>{{arrange.reduceMoney}}<input type="hidden" name="reduceMoney" value="{{arrange.reduceMoney}}" /></td>\r\n                        <td><span class="ticketneedPayMoney">{{arrange.needPayMoney}}</span></td>\r\n                        <td>{{arrange.payedMoney}}</td>\r\n                        <td>\r\n                            <input style="width:90px;" type="text" name="realGuidePayMoney" value="{{arrange.realGuidePayMoney}}" old="{{arrange.realGuidePayMoney}}" maxlength="11"/>\r\n                            <input type="hidden" name="payedMoney" value="{{arrange.payedMoney}}" />\r\n                            <input type="hidden" name="guidePayMoney" value="{{arrange.guidePayMoney}}" /></td>\r\n                        <td>{{if arrange.billImage != null && arrange.billImage != ""}}\r\n                                <a href="javascript:void(0);" url="{{arrange.billImage}}" class="btn-view">查看</a>\r\n                            {{else}}\r\n                                <span style="color:#bbb;">查看</span>\r\n                            {{/if}}\r\n                        </td>\r\n                        <td><span class="difference"></span></td>\r\n                        <td>{{arrange.billRemark}}</td>\r\n                    </tr>\r\n                    {{/each}}\r\n                    {{/each}}\r\n                    </tbody>\r\n                </table>\r\n\r\n                {{if tripPlan.billStatus > -1}}\r\n                <div style="width:60%;"><div> \r\n                    <label style="margin:5px 0px 0px 0px;">财务审核批注：</label>\r\n                    <input name="accountFinancialCheckComment" {{if user.roleType != 2 }}readonly="readonly"{{/if}} {{if user.roleType == 2 && tripPlan.billStatus != 1 }}readonly="readonly"{{/if}} type="text" style="width:30%;" value="{{if remarkArrangeList[8] != null}}{{remarkArrangeList[8].opCheckRemark}}{{/if}}" />\r\n                \r\n                    <label style="margin:5px 0px 0px 10px;">计调审核批注：</label>\r\n                    <input name="accountOPCheckComment" {{if user.roleType != 3 }}readonly="readonly"{{/if}} {{if user.roleType == 3 && tripPlan.billStatus != 0 }}readonly="readonly"{{/if}} type="text" style="width:30%;" value="{{if remarkArrangeList[8] != null}}{{remarkArrangeList[8].financeCheckRemark}}{{/if}}" />\r\n                </div>\r\n                </div>{{/if}}\r\n            </div>\r\n\r\n            <!-- 其他支出 -->\r\n            <div id="financial-count-update-otherpay" class="tab-pane fade">\r\n                <table class="table table-striped table-bordered table-hover">\r\n                    <thead>\r\n                    <tr>\r\n                        <th>时间</th>\r\n                        <th>项目</th>\r\n                        <th>单价</th>\r\n                        <th>数量</th>\r\n                        <th>优惠</th>\r\n                        <th>应付</th>\r\n                        <th>已付</th>\r\n                        <th>导付</th>\r\n                        <th>单据</th>\r\n                        <th>差额</th>\r\n                        <th>导游报账备注</th> \r\n                    </tr>\r\n                    </thead>\r\n                    <tbody id="other"> \r\n                    {{each dayList as day}}\r\n                    {{if day.otherArrange != null}}\r\n                    {{each day.otherArrange as arrange index}}\r\n                    {{if arrange != null}}\r\n                    <tr otherArrangeId="{{arrange.id}}">\r\n                        <td>第{{arrange.whichDay}}天</td>\r\n                        <td>{{arrange.name}}</td>\r\n                        <td><input type="text" name="realPrice" value="{{arrange.price}}" /></td>\r\n                        <td><input style="width:90px;" type="text" name="realCount" value="{{arrange.realCount}}" old="{{arrange.realCount}}" maxlength="5"/></td>\r\n                        <td><input type="text" name="reduceMoney" value="{{arrange.reduceMoney}}" /></td>\r\n                        <td><span class="needPayMoney">{{arrange.needPayMoney}}</span></td>\r\n                        <td>{{arrange.payedMoney}}</td>\r\n                        <td>\r\n                            <input style="width:90px;" type="text" name="realGuidePayMoney" value="{{arrange.realGuidePayMoney}}" old="{{arrange.realGuidePayMoney}}" maxlength="11"/>\r\n                            <input type="hidden" name="payedMoney" value="{{arrange.payedMoney}}" />\r\n                            <input type="hidden" name="guidePayMoney" value="{{arrange.guidePayMoney}}" /></td>\r\n                        <td>{{if arrange.billImage != null && arrange.billImage != ""}}\r\n                                <a href="javascript:void(0);" url="{{arrange.billImage}}" class="btn-view">查看</a>\r\n                            {{else}}\r\n                                <span style="color:#bbb;">查看</span>\r\n                            {{/if}}\r\n                        </td>\r\n                        <td><span class="difference"></span></td>\r\n                        <td><input value="{{arrange.billRemark}}" name="billRemark" maxlength="1000" /></td>\r\n                    </tr>\r\n                    {{/if}}\r\n                    {{/each}}\r\n                    {{/if}}\r\n                    {{/each}}\r\n                    </tbody>\r\n                </table>\r\n\r\n                {{if tripPlan.billStatus > -1}}\r\n                <div style="width:60%;"><div> \r\n                    <label style="margin:5px 0px 0px 0px;">财务审核批注：</label>\r\n                    <input name="accountFinancialCheckComment" {{if user.roleType != 2 }}readonly="readonly"{{/if}} {{if user.roleType == 2 && tripPlan.billStatus != 1 }}readonly="readonly"{{/if}} type="text" style="width:30%;" value="{{if remarkArrangeList[9] != null}}{{remarkArrangeList[9].opCheckRemark}}{{/if}}" />\r\n                \r\n                    <label style="margin:5px 0px 0px 10px;">计调审核批注：</label>\r\n                    <input name="accountOPCheckComment" {{if user.roleType != 3 }}readonly="readonly"{{/if}} {{if user.roleType == 3 && tripPlan.billStatus != 0 }}readonly="readonly"{{/if}} type="text" style="width:30%;" value="{{if remarkArrangeList[9] != null}}{{remarkArrangeList[9].financeCheckRemark}}{{/if}}" />\r\n                </div>\r\n                </div>{{/if}}\r\n            </div>\r\n\r\n            {{if touristGroup != null}}\r\n            <!-- 中转 -->\r\n            <div id="financial-count-update-outarrangepay" class="tab-pane fade">\r\n                <table class="table table-striped table-bordered table-hover">\r\n                    <thead>\r\n                    <tr>\r\n                        <th class="th-border">接团</th>\r\n                        <th class="th-border">小车</th>\r\n                        <th class="th-border">送团</th>\r\n                        <th class="th-border">明细</th>\r\n                    </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                    <tr>\r\n                        <td>{{touristGroup.outReciveMoney}}</td>\r\n                        <td>{{touristGroup.outCarMoney}}</td>\r\n                        <td>{{touristGroup.outSendMoney}}</td>\r\n                        <td><a href="javascript:void(0);" data-entity-id="{{tripPlan.id}}" class="btn-viewTripTransit">查看</a></td>\r\n                     </tr>\r\n                    </tbody>\r\n                </table>\r\n\r\n                {{if tripPlan.billStatus > -1}}\r\n                <div style="width:60%;"><div> \r\n                    <label style="margin:5px 0px 0px 0px;">财务审核批注：</label>\r\n                    <input name="accountFinancialCheckComment" {{if user.roleType != 2 }}readonly="readonly"{{/if}} {{if user.roleType == 2 && tripPlan.billStatus != 1 }}readonly="readonly"{{/if}} type="text" style="width:30%;" value="{{if remarkArrangeList[10] != null}}{{remarkArrangeList[10].opCheckRemark}}{{/if}}" />\r\n                \r\n                    <label style="margin:5px 0px 0px 10px;">计调审核批注：</label>\r\n                    <input name="accountOPCheckComment" {{if user.roleType != 3 }}readonly="readonly"{{/if}} {{if user.roleType == 3 && tripPlan.billStatus != 0 }}readonly="readonly"{{/if}} type="text" style="width:30%;" value="{{if remarkArrangeList[10] != null}}{{remarkArrangeList[10].financeCheckRemark}}{{/if}}" />\r\n                </div>\r\n                </div>{{/if}}\r\n\r\n            </div>\r\n            {{/if}}\r\n        </div>\r\n    </div>\r\n\r\n    <div style="height:30px;"></div>\r\n</div>'.split(/\n/)[$line - 1].replace(/^\s+/, "")
            };
        }
    });
});