/*TMODJS:{"debug":true,"version":381,"md5":"1771efb7cba0ded25e77d3b647ad5d5f"}*/
define(function(require) {
    return require("../../../template")("financial/count/view/ticketArrange", function($data, $filename) {
        try {
            var $utils = this, $helpers = $utils.$helpers, $line = 0, editStatus = $data.editStatus, ticketArrange = $data.ticketArrange, $each = $utils.$each, $escape = ($data.arrange, 
            $data.index, $utils.$escape), guideCount = $data.guideCount, rs = $data.rs, guideArrange = $data.guideArrange, tripPlan = $data.tripPlan, isFinance = $data.isFinance, remarkArrangeList = $data.remarkArrangeList, isOp = $data.isOp, $out = "";
            return $line = 1, 2 != editStatus && ($out += ' <div class="ui-sortable-handle widget-container-col"> <h5 class="title-size"> <i class="ace-icon fa fa-medkit"></i>票务 <a href="javascript:void(0)" class="T-ticket-add"> <button class="btn btn-sm btn-success T-add" style="margin-left: 20px"> <i class="ace-icon fa fa-plus"></i> 新增 </button> </a> </h5> </div> ', 
            $line = 13), $out += ' <div class="overflow-x min-w-1050"> <table class="table overflow-table table-striped table-bordered table-hover w-1500"> <thead> <tr class="bg-blur"> <th rowspan="2"><span class="necessary">*</span>票务商家</th> <th rowspan="2"><span class="necessary">*</span>类型</th> <th rowspan="2"><span class="necessary">*</span>日期</th> <th rowspan="2">出发地</th> <th rowspan="2">目的地</th> <th rowspan="2">班次</th> <th rowspan="2"><span class="necessary">*</span>座位级别</th> <th rowspan="2"><span class="necessary">*</span>单价</th> <th rowspan="2"><span class="necessary">*</span>数量合计</th> <th rowspan="2">优惠</th> <th rowspan="2">应付</th> <th rowspan="2">社付</th> <th colspan="5">导游实销</th> <th rowspan="2">是否对账</th> </tr> <tr class="bg-blur"> <th>导游</th> <th>数量</th> <th>金额</th> <th>单据</th> <th>备注</th> </tr> </thead> <tbody class="T-count-ticket"> ', 
            $line = 42, ticketArrange.listMap && ticketArrange.listMap.length && ($out += " ", 
            $line = 43, $each(ticketArrange.listMap, function(arrange) {
                $out += ' <tr badStatus = "', $line = 44, $out += $escape(arrange.badStatus), $out += '" ticketArrangeId="', 
                $line = 44, $out += $escape(arrange.id), $out += '" isConfirmAccount="', $line = 45, 
                $out += $escape(arrange.isConfirmAccount), $out += '" arrangeType="ticketArrange" class="oldData" data-id="', 
                $line = 45, $out += $escape(arrange.ticketId), $out += '" data-name="', $line = 45, 
                $out += $escape(arrange.ticketName), $out += '" data-type="ticket" data-start="', 
                $line = 45, $out += $escape($helpers.dateFormat(arrange.dateTime, "yyyy-MM-dd")), 
                $out += '" data-end="', $line = 45, $out += $escape($helpers.dateFormat(arrange.dateTime, "yyyy-MM-dd")), 
                $out += '"> <input name="sumIpt" type="hidden"> <td rowspan="1"> ', $line = 48, 
                guideCount > 1 && ($out += ' <div class="div-h-30"></div> ', $line = 50), $out += ' <span class="ticketName">', 
                $line = 51, $out += $escape(arrange.ticketName), $out += '</span> </td> <td rowspan="1"> ', 
                $line = 55, guideCount > 1 && ($out += ' <div class="div-h-30"></div> ', $line = 57), 
                $out += " ", $line = 58, 1 == arrange.type ? ($out += " 机票 ", $line = 60) : 2 == arrange.type ? ($out += " 汽车票 ", 
                $line = 62) : 3 == arrange.type ? ($out += " 火车票 ", $line = 64) : 4 == arrange.type && ($out += " 轮船票 ", 
                $line = 66), $out += " </td> <td> ", $line = 70, guideCount > 1 && ($out += ' <div class="div-h-30"></div> ', 
                $line = 72), $out += ' <span class="whichDay">', $line = 73, $out += $escape($helpers.dateFormat(arrange.dateTime, "yyyy-MM-dd")), 
                $out += "</span> </td> <td> ", $line = 77, guideCount > 1 && ($out += ' <div class="div-h-30"></div> ', 
                $line = 79), $out += " ", $line = 80, $out += $escape(arrange.startingCity), $out += " </td> <td > ", 
                $line = 84, guideCount > 1 && ($out += ' <div class="div-h-30"></div> ', $line = 86), 
                $out += " ", $line = 87, $out += $escape(arrange.arriveCity), $out += "</td> <td> ", 
                $line = 90, guideCount > 1 && ($out += ' <div class="div-h-30"></div> ', $line = 92), 
                $out += " ", $line = 93, $out += $escape(arrange.shift), $out += "</td> <td> ", 
                $line = 96, guideCount > 1 && ($out += ' <div class="div-h-30"></div> ', $line = 98), 
                $out += " ", $line = 99, $out += $escape(arrange.seatLevel), $out += "</td> <td> ", 
                $line = 102, guideCount > 1 && ($out += ' <div class="div-h-30"></div> ', $line = 104), 
                $out += " ", $line = 106, 2 == editStatus ? ($out += ' <span class="F-float F-money">', 
                $line = 107, $out += $escape(arrange.realPrice), $out += '</span> <input type="hidden" name="price" value="', 
                $line = 108, $out += $escape(arrange.realPrice), $out += '" /> ', $line = 109) : ($out += ' <input type="text" name="price" class="w-70 F-float F-money" value="', 
                $line = 110, $out += $escape(arrange.realPrice), $out += '" ', $line = 111, (1 == arrange.isConfirmAccount || 1 == arrange.badStatus) && ($out += 'readOnly="readOnly"', 
                $line = 111), $out += "/> ", $line = 112), $out += " </td> <td> ", $line = 116, 
                guideCount > 1 && ($out += ' <div class="div-h-30"></div> ', $line = 118), $out += " ", 
                $line = 119, 1 == arrange.badStatus ? ($out += ' <span class="F-float F-count">', 
                $line = 120, $out += $escape(arrange.realCount), $out += '</span> <input type="hidden" value="', 
                $line = 121, $out += $escape(arrange.realCount), $out += '" name="realCount"> ', 
                $line = 122) : ($out += " ", $line = 123, 2 == editStatus ? ($out += ' <span class="F-float F-count">', 
                $line = 124, $out += $escape(arrange.realCount), $out += '</span> <input type="hidden" value="', 
                $line = 125, $out += $escape(arrange.realCount), $out += '" name="realCount"> ', 
                $line = 126) : ($out += ' <span class="F-float F-count realCount">', $line = 127, 
                $out += $escape(arrange.realCount), $out += '</span> <input type="hidden" name="realCount" value="', 
                $line = 128, $out += $escape(arrange.realCount), $out += '"/> ', $line = 129), $out += " ", 
                $line = 130), $out += " </td> <td> ", $line = 134, guideCount > 1 && ($out += ' <div class="div-h-30"></div> ', 
                $line = 136), $out += " ", $line = 137, 2 == editStatus ? ($out += ' <span class="F-float F-money ">', 
                $line = 138, $out += $escape(arrange.realReduceMoney), $out += '</span> <input type="hidden" name="realReduceMoney" value="', 
                $line = 139, $out += $escape(arrange.realReduceMoney), $out += '"> ', $line = 140) : ($out += ' <input type="text" name="realReduceMoney" class="F-float F-money w-70" value="', 
                $line = 141, $out += $escape(arrange.realReduceMoney), $out += '" ', $line = 142, 
                (1 == arrange.isConfirmAccount || 1 == arrange.badStatus) && ($out += 'readOnly="readOnly"', 
                $line = 142), $out += "/> ", $line = 143), $out += " </td> <td> ", $line = 147, 
                guideCount > 1 && ($out += ' <div class="div-h-30"></div> ', $line = 149), $out += ' <span class="realNeedPayMoney F-float F-money">', 
                $line = 150, $out += $escape(arrange.realNeedPayMoney), $out += '</span> <input type="hidden" name="realNeedPayMoney" value="', 
                $line = 151, $out += $escape(arrange.realNeedPayMoney), $out += '"> </td> <td> ', 
                $line = 155, guideCount > 1 && ($out += ' <div class="div-h-30"></div> ', $line = 157), 
                $out += ' <span class="F-float F-money">', $line = 158, $out += $escape(arrange.payedMoney), 
                $out += '</span></td> <td name="guideName"> ', $line = 161, 2 != editStatus && guideCount > 1 && 1 != arrange.isConfirmAccount && ($out += ' <div class="div-h-30"> <button class="btn btn-success btn-sm btn-white T-addGuide pull-right"> <i class="ace-icon fa fa-plus bigger-110 icon-only"></i> </button>  </div> ', 
                $line = 168), $out += " ", $line = 169, arrange.guideDetails && arrange.guideDetails.length ? ($out += " ", 
                $line = 170, $each(arrange.guideDetails, function(rs, index) {
                    $out += ' <div class="div-h-30 mar-t-5" index="', $line = 171, $out += $escape(index + 1), 
                    $out += '" guideId = "', $line = 171, $out += $escape(rs.id), $out += '"> ', $line = 172, 
                    2 == editStatus ? ($out += ' <span class="guideName">', $line = 173, $out += $escape(rs.guideName), 
                    $out += "</span> ", $line = 174) : ($out += " ", $line = 175, "" == rs.guideName || null == rs.guideName ? ($out += " ", 
                    $line = 176, guideCount > 1 ? ($out += ' <input name="guideArrangeId" type="hidden" /> <input name="guideName" type="text" class="w-70" ', 
                    $line = 179, (1 == arrange.isConfirmAccount || 1 == arrange.badStatus) && ($out += 'disabled="disabled" ', 
                    $line = 179), $out += "/> ", $line = 180) : ($out += " ", $line = 181, 1 == arrange.isConfirmAccount ? ($out += " ", 
                    $line = 182, rs.id ? ($out += " <span>", $line = 183, $out += $escape(guideArrange.listMap[0].guideName), 
                    $out += '</span> <input name="guideArrangeId" type="hidden" value="', $line = 184, 
                    $out += $escape(guideArrange.listMap[0].id), $out += '"/> ', $line = 185) : ($out += ' <i class="fa fa-exclamation hct-count-hint" title="该笔账务已对账，无法进行实销操作，请取消对账后再进行实销" ></i> ', 
                    $line = 188), $out += " ", $line = 189) : ($out += " <span>", $line = 190, $out += $escape(guideArrange.listMap[0].guideName), 
                    $out += '</span> <input name="guideArrangeId" type="hidden" value="', $line = 191, 
                    $out += $escape(guideArrange.listMap[0].id), $out += '"/> ', $line = 192), $out += " ", 
                    $line = 193), $out += " ", $line = 194) : ($out += ' <span class="guideName">', 
                    $line = 195, $out += $escape(rs.guideName), $out += '</span> <input name="guideId" value="', 
                    $line = 196, $out += $escape(rs.id), $out += '" type="hidden" /> <input name="guideName" value="', 
                    $line = 197, $out += $escape(rs.guideName), $out += '" type="hidden" /> <input name="guideArrangeId" value="', 
                    $line = 198, $out += $escape(rs.guideArrangeId), $out += '" type="hidden" /> ', 
                    $line = 199), $out += " ", $line = 200, guideCount > 1 && 1 != arrange.isConfirmAccount && ($out += ' <button class="btn btn-danger btn-sm btn-white T-delGuide pull-right"> <i class="ace-icon fa fa-minus bigger-110 icon-only"></i> </button> ', 
                    $line = 204), $out += "  ", $line = 206), $out += " </div> ", $line = 208;
                }), $out += " ", $line = 209) : ($out += ' <div class="div-h-30 mar-t-5" index="1"> ', 
                $line = 211, 2 == editStatus ? ($out += " - ", $line = 213) : ($out += " ", $line = 214, 
                guideCount > 1 ? ($out += " ", $line = 215, 1 != arrange.isConfirmAccount && ($out += ' <button class="btn btn-danger btn-sm btn-white T-delGuide pull-right"> <i class="ace-icon fa fa-minus bigger-110 icon-only"></i> </button> ', 
                $line = 219), $out += ' <input name="guideArrangeId" type="hidden" /> <input name="guideName" type="text" class="w-70" ', 
                $line = 222, (1 == arrange.isConfirmAccount || 1 == arrange.badStatus) && ($out += 'disabled="disabled" ', 
                $line = 222), $out += "/> ", $line = 223) : ($out += " <span>", $line = 224, $out += $escape(guideArrange.listMap[0].guideName), 
                $out += '</span> <input name="guideArrangeId" type="hidden" value="', $line = 225, 
                $out += $escape(guideArrange.listMap[0].id), $out += '"/> ', $line = 226), $out += "   ", 
                $line = 229), $out += " </div> ", $line = 231), $out += ' </td> <td name="guideRealCount"> ', 
                $line = 236, guideCount > 1 && ($out += ' <div class="div-h-30"></div> ', $line = 238), 
                $out += " ", $line = 239, arrange.guideDetails && arrange.guideDetails.length ? ($out += " ", 
                $line = 240, $each(arrange.guideDetails, function(rs, index) {
                    $out += ' <div class="div-h-30 mar-t-5" index="', $line = 241, $out += $escape(index + 1), 
                    $out += '"> ', $line = 242, 2 == editStatus ? ($out += ' <span class="F-float F-count realCount">', 
                    $line = 243, $out += $escape(rs.realCount), $out += '</span> <input type="hidden" name="guideRealCount" value="', 
                    $line = 244, $out += $escape(rs.realCount), $out += '"/> ', $line = 245) : ($out += ' <input type="text" name="guideRealCount" value="', 
                    $line = 246, $out += $escape(rs.realCount), $out += '" class="F-float F-count w-50" ', 
                    $line = 248, (1 == arrange.isConfirmAccount || 1 == arrange.badStatus) && ($out += 'readOnly="readOnly" ', 
                    $line = 248), $out += "/> ", $line = 249), $out += " </div> ", $line = 251;
                }), $out += " ", $line = 252) : ($out += " ", $line = 253, guideCount > 1 && ($out += ' <div class="div-h-30"></div> ', 
                $line = 255), $out += ' <div class="div-h-30 mar-t-5" index="1"> ', $line = 257, 
                2 == editStatus ? ($out += " - ", $line = 259) : ($out += ' <input name="guideRealCount" type="text" class="w-50 F-float F-count" ', 
                $line = 260, (1 == arrange.isConfirmAccount || 1 == arrange.badStatus) && ($out += 'readOnly="readOnly" ', 
                $line = 260), $out += "/> ", $line = 261), $out += " </div> ", $line = 264), $out += ' </td> <td name="guidePayedMoney"> ', 
                $line = 269, guideCount > 1 && ($out += ' <div class="div-h-30"></div> ', $line = 271), 
                $out += " ", $line = 272, arrange.guideDetails && arrange.guideDetails.length ? ($out += " ", 
                $line = 273, $each(arrange.guideDetails, function(rs, index) {
                    $out += ' <div class="div-h-30 mar-t-5 " index="', $line = 274, $out += $escape(index + 1), 
                    $out += '"> <p class="inline-flex"> ', $line = 276, 2 == editStatus ? ($out += " ", 
                    $line = 277, 0 == rs.realPayType ? ($out += " 现金 ", $line = 279) : 1 == rs.realPayType ? ($out += " 刷卡 ", 
                    $line = 281) : 2 == rs.realPayType && ($out += " 签单 ", $line = 283), $out += ' &nbsp;&nbsp; <span class="F-float F-money">', 
                    $line = 285, $out += $escape(rs.guidePayedMoney), $out += '</span> <input type="hidden" name="guidePayedMoney" value="', 
                    $line = 286, $out += $escape(rs.guidePayedMoney), $out += '"/> ', $line = 287) : ($out += ' <select name="payType" ', 
                    $line = 288, (1 == arrange.isConfirmAccount || 1 == arrange.badStatus) && ($out += 'disabled="disabled"', 
                    $line = 288), $out += '> <option value="0" ', $line = 289, 0 == rs.realPayType && ($line = 289), 
                    $out += '>现金</option> <option value="1" ', $line = 290, 1 == rs.realPayType && ($out += "selected=true", 
                    $line = 290), $out += '>刷卡</option> <option value="2" ', $line = 291, 2 == rs.realPayType && ($out += "selected=true", 
                    $line = 291), $out += '>签单</option> </select> <input type="text" name="guidePayedMoney" value="', 
                    $line = 293, $out += $escape(rs.guidePayedMoney), $out += '" class="F-float F-money w-70" ', 
                    $line = 295, (1 == arrange.isConfirmAccount || 1 == arrange.badStatus) && ($out += 'readOnly="readOnly" ', 
                    $line = 295), $out += "/> ", $line = 296), $out += " </p> </div> ", $line = 299;
                }), $out += " ", $line = 300) : ($out += ' <div class="div-h-30 mar-t-5" index="1"> <p class="inline-flex"> ', 
                $line = 303, 2 == editStatus ? ($out += " 0 ", $line = 305) : ($out += ' <select name="payType" ', 
                $line = 306, (1 == arrange.isConfirmAccount || 1 == arrange.badStatus) && ($out += 'disabled="disabled"', 
                $line = 306), $out += '> <option value="0" ', $line = 307, 0 == rs.realPayType && ($line = 307), 
                $out += '>现金</option> <option value="1" ', $line = 308, 1 == rs.realPayType && ($out += "selected=true", 
                $line = 308), $out += '>刷卡</option> <option value="2" ', $line = 309, 2 == rs.realPayType && ($out += "selected=true", 
                $line = 309), $out += '>签单</option> </select> <input name="guidePayedMoney" type="text" class="w-70 F-float F-money" ', 
                $line = 311, (1 == arrange.isConfirmAccount || 1 == arrange.badStatus) && ($out += 'readOnly="readOnly" ', 
                $line = 311), $out += "/> ", $line = 312), $out += " </p> </div> ", $line = 316), 
                $out += ' </td> <td name="billImage"> ', $line = 320, guideCount > 1 && ($out += ' <div class="div-h-30"></div> ', 
                $line = 322), $out += " ", $line = 323, arrange.guideDetails && arrange.guideDetails.length ? ($out += " ", 
                $line = 324, $each(arrange.guideDetails, function(rs, index) {
                    $out += ' <div class="div-h-30 mar-t-5" index="', $line = 325, $out += $escape(index + 1), 
                    $out += '"> ', $line = 326, null != rs.billImage && "" != rs.billImage ? ($out += ' <a href="javascript:void(0);" url="', 
                    $line = 327, $out += $escape(rs.billImage), $out += '" class="btn-view">查看</a> ', 
                    $line = 328) : ($out += ' <span style="color:#bbb;">查看</span> ', $line = 330), $out += " </div> ", 
                    $line = 332;
                }), $out += " ", $line = 333) : ($out += ' <div class="div-h-30 mar-t-5" index="1"> ', 
                $line = 336, 2 == editStatus ? ($out += " - ", $line = 338) : ($out += ' <span style="color:#bbb;">查看</span> ', 
                $line = 340), $out += " </div> ", $line = 343), $out += ' </td> <td name="billRemark"> ', 
                $line = 347, guideCount > 1 && ($out += ' <div class="div-h-30"></div> ', $line = 349), 
                $out += " ", $line = 350, arrange.guideDetails && arrange.guideDetails.length ? ($out += " ", 
                $line = 351, $each(arrange.guideDetails, function(rs, index) {
                    $out += ' <div class="div-h-30 mar-t-5" index="', $line = 352, $out += $escape(index + 1), 
                    $out += '"> ', $line = 353, 2 == editStatus ? ($out += " <span>", $line = 354, $out += $escape(rs.billRemark), 
                    $out += "</span> ", $line = 355) : ($out += ' <input name="billRemark" value="', 
                    $line = 356, $out += $escape(rs.billRemark), $out += '" ', $line = 357, (1 == arrange.isConfirmAccount || 1 == arrange.badStatus) && ($out += 'readOnly="readOnly" ', 
                    $line = 357), $out += "/> ", $line = 358), $out += " </div> ", $line = 360;
                }), $out += " ", $line = 361) : ($out += ' <div class="div-h-30 mar-t-5" index="1"> ', 
                $line = 363, 2 == editStatus ? ($out += " - ", $line = 365) : ($out += ' <input name="billRemark" ', 
                $line = 366, (1 == arrange.isConfirmAccount || 1 == arrange.badStatus) && ($out += 'readOnly="readOnly" ', 
                $line = 366), $out += "/> ", $line = 367), $out += " </div> ", $line = 369), $out += " </td> <td> ", 
                $line = 373, 2 != editStatus && guideCount > 1 && 1 != arrange.isConfirmAccount && ($out += ' <div class="div-h-30"></div> ', 
                $line = 375), $out += " ", $line = 376, 0 == arrange.isConfirmAccount ? ($out += ' <a class="', 
                $line = 377, 1 == editStatus ? ($out += "T-toAccount T-check", $line = 377) : ($out += "black", 
                $line = 377), $out += '">未对账</a> ', $line = 378) : ($out += ' <a class="', $line = 379, 
                1 == editStatus ? ($out += "T-toAccount T-clear", $line = 379) : ($out += "black", 
                $line = 379), $out += '">已对账</a> ', $line = 380), $out += " ", $line = 381, 2 != editStatus && ($out += " &nbsp;&nbsp; ", 
                $line = 383, 0 == arrange.payedMoney && 0 == arrange.isConfirmAccount ? ($out += ' <a href="javascript:void(0)" class="T-ticketArrDel">删除</a> ', 
                $line = 385) : ($out += ' <span style="color:#bbb;">删除</span> ', $line = 387), $out += " ", 
                $line = 388), $out += " </td> </tr> ", $line = 391;
            }), $out += " ", $line = 392), $out += " </tbody> </table> </div> ", $line = 396, 
            tripPlan.billStatus > -1 && ($out += ' <div style="width:60%;"> <div arrangeType="ticket"> <label style="margin:5px 0px 0px 0px;">财务审核批注：</label> <input name="accountFinancialCheckComment" ', 
            $line = 400, 1 == tripPlan.billStatus && isFinance || ($out += 'readonly="readonly"', 
            $line = 400), $out += ' type="text" style="width:30%;" value="', $line = 400, remarkArrangeList.ticketRemark.length > 0 && ($line = 400, 
            $out += $escape(remarkArrangeList.ticketRemark[0].opCheckRemark), $line = 400), 
            $out += '" /> <label style="margin:5px 0px 0px 10px;">计调审核批注：</label> <input name="accountOPCheckComment" ', 
            $line = 402, 0 == tripPlan.billStatus && isOp || ($out += 'readonly="readonly"', 
            $line = 402), $out += ' type="text" style="width:30%;" value="', $line = 402, remarkArrangeList.ticketRemark.length > 0 && ($line = 402, 
            $out += $escape(remarkArrangeList.ticketRemark[0].financeCheckRemark), $line = 402), 
            $out += '" /> </div> </div> ', $line = 405), new String($out);
        } catch (e) {
            throw {
                filename: $filename,
                name: "Render Error",
                message: e.message,
                line: $line,
                source: '{{if editStatus != 2}}\r\n<div class="ui-sortable-handle widget-container-col">\r\n    <h5 class="title-size">\r\n        <i class="ace-icon fa fa-medkit"></i>票务\r\n        <a href="javascript:void(0)" class="T-ticket-add">\r\n            <button class="btn btn-sm btn-success T-add" style="margin-left: 20px">\r\n                <i class="ace-icon fa fa-plus"></i>\r\n                新增\r\n            </button>\r\n        </a>\r\n    </h5>\r\n</div>\r\n{{/if}}\r\n<div class="overflow-x min-w-1050">\r\n<table class="table overflow-table table-striped table-bordered table-hover w-1500">\r\n    <thead>\r\n    <tr class="bg-blur">\r\n        <th rowspan="2"><span class="necessary">*</span>票务商家</th>\r\n        <th rowspan="2"><span class="necessary">*</span>类型</th>\r\n        <th rowspan="2"><span class="necessary">*</span>日期</th>\r\n        <th rowspan="2">出发地</th>\r\n        <th rowspan="2">目的地</th>\r\n        <th rowspan="2">班次</th>\r\n        <th rowspan="2"><span class="necessary">*</span>座位级别</th>\r\n        <th rowspan="2"><span class="necessary">*</span>单价</th>\r\n        <th rowspan="2"><span class="necessary">*</span>数量合计</th>\r\n        <th rowspan="2">优惠</th>\r\n        <th rowspan="2">应付</th>\r\n        <th rowspan="2">社付</th>\r\n       <th colspan="5">导游实销</th>\r\n        <th rowspan="2">是否对账</th>\r\n    </tr>\r\n    <tr class="bg-blur">\r\n        <th>导游</th>\r\n        <th>数量</th>\r\n        <th>金额</th>\r\n        <th>单据</th>\r\n        <th>备注</th>   \r\n    </tr>\r\n    </thead>\r\n    <tbody class="T-count-ticket">\r\n    {{if !!ticketArrange.listMap && ticketArrange.listMap.length}}\r\n    {{each ticketArrange.listMap as arrange index}}\r\n    <tr badStatus = "{{arrange.badStatus}}" ticketArrangeId="{{arrange.id}}"\r\n    isConfirmAccount="{{arrange.isConfirmAccount}}" arrangeType="ticketArrange" class="oldData" data-id="{{arrange.ticketId}}" data-name="{{arrange.ticketName}}" data-type="ticket" data-start="{{arrange.dateTime | dateFormat:\'yyyy-MM-dd\'}}" data-end="{{arrange.dateTime | dateFormat:\'yyyy-MM-dd\'}}">\r\n        <input name="sumIpt" type="hidden">\r\n        <td rowspan="1">\r\n        {{if guideCount > 1}}\r\n            <div class="div-h-30"></div>\r\n        {{/if}}\r\n        <span class="ticketName">{{arrange.ticketName}}</span>\r\n        </td><!-- 票务公司 -->\r\n\r\n        <td rowspan="1">\r\n            {{if guideCount > 1}}\r\n                <div class="div-h-30"></div>\r\n            {{/if}}\r\n            {{if arrange.type == 1}}\r\n                机票\r\n            {{else if arrange.type== 2}}\r\n                汽车票\r\n            {{else if arrange.type == 3}}\r\n                火车票\r\n            {{else if arrange.type == 4}}\r\n                轮船票\r\n            {{/if}}\r\n        </td><!-- 类型 -->\r\n\r\n        <td>\r\n            {{if guideCount > 1}}\r\n                <div class="div-h-30"></div>\r\n            {{/if}}\r\n            <span class="whichDay">{{arrange.dateTime | dateFormat: \'yyyy-MM-dd\'}}</span>\r\n        </td><!-- 日期 -->\r\n\r\n        <td>\r\n            {{if guideCount > 1}}\r\n                <div class="div-h-30"></div>\r\n            {{/if}}\r\n            {{arrange.startingCity}}\r\n        </td><!-- 出发地 -->\r\n\r\n        <td >\r\n        {{if guideCount > 1}}\r\n            <div class="div-h-30"></div>\r\n        {{/if}}\r\n        {{arrange.arriveCity}}</td><!-- 目的地 -->\r\n\r\n        <td>\r\n        {{if guideCount > 1}}\r\n            <div class="div-h-30"></div>\r\n        {{/if}}\r\n        {{arrange.shift}}</td><!-- 班次 -->\r\n\r\n        <td>\r\n        {{if guideCount > 1}}\r\n            <div class="div-h-30"></div>\r\n        {{/if}}\r\n        {{arrange.seatLevel}}</td><!-- 座位级别 -->\r\n\r\n        <td>\r\n            {{if guideCount > 1}}\r\n                <div class="div-h-30"></div>\r\n            {{/if}}\r\n           \r\n            {{if editStatus == 2}}\r\n                <span class="F-float F-money">{{arrange.realPrice}}</span>\r\n                <input type="hidden" name="price" value="{{arrange.realPrice}}" />\r\n            {{else}}\r\n                <input type="text" name="price" class="w-70 F-float F-money" value="{{arrange.realPrice}}" \r\n                {{if arrange.isConfirmAccount == 1 || arrange.badStatus == 1}}readOnly="readOnly"{{/if}}/>\r\n            {{/if}}\r\n        </td><!-- 单价 -->\r\n\r\n        <td>\r\n            {{if guideCount > 1}}\r\n                <div class="div-h-30"></div>\r\n            {{/if}}\r\n            {{if arrange.badStatus == 1}}\r\n                <span class="F-float F-count">{{arrange.realCount}}</span>\r\n                <input type="hidden" value="{{arrange.realCount}}" name="realCount">\r\n            {{else}}\r\n                {{if editStatus == 2}}\r\n                    <span class="F-float F-count">{{arrange.realCount}}</span>\r\n                    <input type="hidden" value="{{arrange.realCount}}" name="realCount">\r\n                {{else}}\r\n                    <span class="F-float F-count realCount">{{arrange.realCount}}</span>\r\n                    <input  type="hidden" name="realCount" value="{{arrange.realCount}}"/>\r\n                {{/if}}\r\n            {{/if}}\r\n        </td><!-- 数量 -->\r\n\r\n        <td>\r\n            {{if guideCount > 1}}\r\n                <div class="div-h-30"></div>\r\n            {{/if}}\r\n            {{if editStatus == 2}}\r\n                <span class="F-float F-money ">{{arrange.realReduceMoney}}</span>\r\n                <input type="hidden" name="realReduceMoney" value="{{arrange.realReduceMoney}}">\r\n            {{else}}\r\n                <input type="text" name="realReduceMoney" class="F-float F-money w-70" value="{{arrange.realReduceMoney}}" \r\n                {{if arrange.isConfirmAccount == 1 || arrange.badStatus == 1}}readOnly="readOnly"{{/if}}/>\r\n            {{/if}}\r\n        </td><!-- 优惠 -->\r\n\r\n        <td>\r\n            {{if guideCount > 1}}\r\n                <div class="div-h-30"></div>\r\n            {{/if}}\r\n            <span class="realNeedPayMoney F-float F-money">{{arrange.realNeedPayMoney}}</span>\r\n            <input type="hidden" name="realNeedPayMoney" value="{{arrange.realNeedPayMoney}}">\r\n        </td><!-- 应付 -->\r\n\r\n        <td>\r\n        {{if guideCount > 1}}\r\n            <div class="div-h-30"></div>\r\n        {{/if}}\r\n        <span class="F-float F-money">{{arrange.payedMoney}}</span></td><!-- 社付 -->\r\n        \r\n        <td name="guideName">\r\n            {{if editStatus != 2 && guideCount > 1 && arrange.isConfirmAccount != 1 }}\r\n                <div class="div-h-30">\r\n                    <button class="btn btn-success btn-sm btn-white T-addGuide pull-right"> \r\n                        <i class="ace-icon fa fa-plus bigger-110 icon-only"></i>\r\n                    </button>\r\n                    <!-- <a href="#" class="T-addGuide pull-right">增加</a> --><!-- 增加导游 -->\r\n                </div>\r\n            {{/if}}\r\n            {{if !!arrange.guideDetails && arrange.guideDetails.length}}\r\n                {{each arrange.guideDetails as rs index}}\r\n                    <div class="div-h-30 mar-t-5" index="{{index+1}}" guideId = "{{rs.id}}">\r\n                        {{if editStatus == 2}}\r\n                            <span class="guideName">{{rs.guideName}}</span>\r\n                        {{else}}\r\n                            {{if rs.guideName == \'\' || rs.guideName == null}}\r\n                                {{if guideCount > 1}}\r\n                                    <input name="guideArrangeId" type="hidden" />\r\n                                    <input name="guideName"  type="text" class="w-70" \r\n                                    {{if arrange.isConfirmAccount == 1 || arrange.badStatus == 1 }}disabled="disabled" {{/if}}/>\r\n                                {{else}}\r\n                                    {{if arrange.isConfirmAccount == 1}}\r\n                                        {{if !!rs.id}}\r\n                                            <span>{{guideArrange.listMap[0].guideName}}</span>\r\n                                            <input name="guideArrangeId" type="hidden" value="{{guideArrange.listMap[0].id}}"/>\r\n                                        {{else}}\r\n                                            <i class="fa fa-exclamation hct-count-hint" \r\n                                               title="该笔账务已对账，无法进行实销操作，请取消对账后再进行实销" ></i>\r\n                                        {{/if}}\r\n                                    {{else}}\r\n                                        <span>{{guideArrange.listMap[0].guideName}}</span>\r\n                                        <input name="guideArrangeId" type="hidden" value="{{guideArrange.listMap[0].id}}"/>\r\n                                    {{/if}}\r\n                                {{/if}}\r\n                            {{else}}\r\n                                <span class="guideName">{{rs.guideName}}</span>\r\n                                <input name="guideId" value="{{rs.id}}" type="hidden" />\r\n                                <input name="guideName" value="{{rs.guideName}}" type="hidden" />\r\n                                <input name="guideArrangeId" value="{{rs.guideArrangeId}}" type="hidden" />\r\n                            {{/if}}\r\n                            {{if guideCount > 1 && arrange.isConfirmAccount != 1 }}\r\n                                <button class="btn btn-danger btn-sm btn-white T-delGuide pull-right"> \r\n                                    <i class="ace-icon fa fa-minus bigger-110 icon-only"></i>\r\n                                </button>\r\n                            {{/if}}\r\n                            <!-- 删除导游 -->\r\n                        {{/if}}\r\n                    </div>\r\n                {{/each}}\r\n                {{else}}\r\n                    <div class="div-h-30 mar-t-5" index="1">\r\n                        {{if editStatus == 2}}\r\n                            -\r\n                        {{else}}\r\n                            {{if guideCount > 1}}\r\n                                {{if arrange.isConfirmAccount !=1}}\r\n                                    <button class="btn btn-danger btn-sm btn-white T-delGuide pull-right"> \r\n                                        <i class="ace-icon fa fa-minus bigger-110 icon-only"></i>\r\n                                    </button>\r\n                                {{/if}}\r\n                                <input name="guideArrangeId" type="hidden" />\r\n                                <input name="guideName"  type="text" class="w-70" \r\n                                {{if arrange.isConfirmAccount == 1 || arrange.badStatus == 1 }}disabled="disabled" {{/if}}/>\r\n                            {{else}}\r\n                                <span>{{guideArrange.listMap[0].guideName}}</span>\r\n                                <input name="guideArrangeId" type="hidden" value="{{guideArrange.listMap[0].id}}"/>\r\n                            {{/if}}\r\n                            <!-- <a href="#" class="T-delGuide pull-right">删除</a> -->\r\n                            <!-- 删除导游 -->\r\n                        {{/if}}\r\n                    </div>\r\n            {{/if}}\r\n            \r\n        </td><!-- 导游 -->\r\n\r\n        <td name="guideRealCount">\r\n            {{if guideCount > 1}}\r\n                <div class="div-h-30"></div>\r\n            {{/if}}\r\n            {{if !!arrange.guideDetails && arrange.guideDetails.length}}\r\n                {{each arrange.guideDetails as rs index}}\r\n                    <div class="div-h-30 mar-t-5" index="{{index+1}}">\r\n                        {{if editStatus == 2}}\r\n                            <span class="F-float F-count realCount">{{rs.realCount}}</span>\r\n                            <input type="hidden" name="guideRealCount" value="{{rs.realCount}}"/>\r\n                        {{else}}\r\n                            <input type="text" name="guideRealCount" value="{{rs.realCount}}" \r\n                            class="F-float F-count w-50" \r\n                            {{if arrange.isConfirmAccount == 1 || arrange.badStatus == 1 }}readOnly="readOnly" {{/if}}/>\r\n                        {{/if}}\r\n                    </div>\r\n                {{/each}}\r\n            {{else}}\r\n                {{if guideCount > 1}}\r\n                    <div class="div-h-30"></div>\r\n                {{/if}}\r\n                <div class="div-h-30 mar-t-5" index="1">\r\n                    {{if editStatus == 2}}\r\n                        -\r\n                    {{else}}\r\n                        <input name="guideRealCount" type="text" class="w-50 F-float F-count" {{if arrange.isConfirmAccount == 1 || arrange.badStatus == 1 }}readOnly="readOnly" {{/if}}/>\r\n                    {{/if}}\r\n                    \r\n                </div>\r\n            {{/if}}\r\n        </td><!-- 数量 -->\r\n        \r\n        \r\n        <td name="guidePayedMoney">\r\n            {{if guideCount > 1}}\r\n                <div class="div-h-30"></div>\r\n            {{/if}}\r\n            {{if !!arrange.guideDetails && arrange.guideDetails.length}}\r\n                {{each arrange.guideDetails as rs index}}\r\n                    <div class="div-h-30 mar-t-5 " index="{{index+1}}">\r\n                        <p class="inline-flex">\r\n                            {{if editStatus == 2}}\r\n                                {{if rs.realPayType == 0}}\r\n                                    现金\r\n                                {{else if rs.realPayType == 1}}\r\n                                    刷卡\r\n                                {{else if rs.realPayType == 2}}\r\n                                    签单\r\n                                {{/if}}\r\n                                &nbsp;&nbsp;\r\n                                <span class="F-float F-money">{{rs.guidePayedMoney}}</span>\r\n                                <input type="hidden" name="guidePayedMoney" value="{{rs.guidePayedMoney}}"/>\r\n                            {{else}}\r\n                                <select name="payType" {{if arrange.isConfirmAccount == 1 || arrange.badStatus == 1}}disabled="disabled"{{/if}}>\r\n                                    <option value="0" {{if rs.realPayType == 0}}{{/if}}>现金</option>\r\n                                    <option value="1" {{if rs.realPayType == 1}}selected=true{{/if}}>刷卡</option>\r\n                                    <option value="2" {{if rs.realPayType == 2}}selected=true{{/if}}>签单</option>\r\n                                </select>\r\n                                <input type="text" name="guidePayedMoney" value="{{rs.guidePayedMoney}}" \r\n                                class="F-float F-money w-70" \r\n                                {{if arrange.isConfirmAccount == 1 || arrange.badStatus == 1 }}readOnly="readOnly" {{/if}}/>\r\n                            {{/if}}\r\n                        </p>\r\n                    </div>\r\n                {{/each}}\r\n            {{else}}\r\n                <div class="div-h-30 mar-t-5" index="1">\r\n                    <p class="inline-flex">\r\n                        {{if editStatus == 2}}\r\n                           0\r\n                        {{else}}\r\n                            <select name="payType" {{if arrange.isConfirmAccount == 1 || arrange.badStatus == 1}}disabled="disabled"{{/if}}>\r\n                                <option value="0" {{if rs.realPayType == 0}}{{/if}}>现金</option>\r\n                                <option value="1" {{if rs.realPayType == 1}}selected=true{{/if}}>刷卡</option>\r\n                                <option value="2" {{if rs.realPayType == 2}}selected=true{{/if}}>签单</option>\r\n                            </select>\r\n                            <input name="guidePayedMoney" type="text" class="w-70 F-float F-money" {{if arrange.isConfirmAccount == 1 || arrange.badStatus == 1 }}readOnly="readOnly" {{/if}}/>\r\n                        {{/if}}\r\n                    </p>\r\n                    \r\n                </div>\r\n            {{/if}}\r\n        </td><!-- 金额 -->\r\n        \r\n        <td name="billImage">\r\n            {{if guideCount > 1}}\r\n                <div class="div-h-30"></div>\r\n            {{/if}}\r\n            {{if !!arrange.guideDetails && arrange.guideDetails.length}}\r\n                {{each arrange.guideDetails as rs index}}\r\n                    <div class="div-h-30 mar-t-5" index="{{index+1}}">\r\n                       {{if rs.billImage != null && rs.billImage != ""}}\r\n                        <a href="javascript:void(0);" url="{{rs.billImage}}" class="btn-view">查看</a>\r\n                    {{else}}\r\n                        <span style="color:#bbb;">查看</span>\r\n                    {{/if}}\r\n                    </div>\r\n                {{/each}}\r\n            {{else}}\r\n\r\n                <div class="div-h-30 mar-t-5" index="1">\r\n                    {{if editStatus == 2}}\r\n                        -\r\n                    {{else}}\r\n                        <span style="color:#bbb;">查看</span>\r\n                    {{/if}}\r\n                </div>\r\n                \r\n            {{/if}}\r\n        </td><!-- 单据 -->\r\n        \r\n        <td name="billRemark">\r\n            {{if guideCount > 1}}\r\n                <div class="div-h-30"></div>\r\n            {{/if}}\r\n            {{if !!arrange.guideDetails && arrange.guideDetails.length}}\r\n                {{each arrange.guideDetails as rs index}}\r\n                    <div class="div-h-30 mar-t-5" index="{{index+1}}">\r\n                        {{if editStatus == 2}}\r\n                            <span>{{rs.billRemark}}</span>\r\n                        {{else}}\r\n                            <input name="billRemark" value="{{rs.billRemark}}"\r\n                            {{if arrange.isConfirmAccount == 1 || arrange.badStatus == 1 }}readOnly="readOnly" {{/if}}/>\r\n                        {{/if}}\r\n                    </div>\r\n                {{/each}}\r\n            {{else}}\r\n                <div class="div-h-30 mar-t-5" index="1">\r\n                    {{if editStatus == 2}}\r\n                        -\r\n                    {{else}}\r\n                        <input name="billRemark" {{if arrange.isConfirmAccount == 1 || arrange.badStatus == 1 }}readOnly="readOnly" {{/if}}/>\r\n                    {{/if}}\r\n                </div>\r\n            {{/if}}\r\n        </td><!-- 备注 -->\r\n\r\n        <td>\r\n            {{if editStatus != 2 && guideCount > 1 && arrange.isConfirmAccount != 1 }}\r\n            <div class="div-h-30"></div>\r\n            {{/if}}\r\n            {{if arrange.isConfirmAccount == 0}}\r\n                <a class="{{if editStatus == 1}}T-toAccount T-check{{else}}black{{/if}}">未对账</a>\r\n            {{else}}\r\n                <a class="{{if editStatus == 1}}T-toAccount T-clear{{else}}black{{/if}}">已对账</a>\r\n            {{/if}}\r\n            {{if editStatus != 2}}\r\n                &nbsp;&nbsp;\r\n                {{if arrange.payedMoney == 0 &&　arrange.isConfirmAccount == 0}}\r\n                    <a href="javascript:void(0)" class="T-ticketArrDel">删除</a>\r\n                {{else}}\r\n                    <span style="color:#bbb;">删除</span>\r\n                {{/if}}\r\n            {{/if}}\r\n        </td>\r\n    </tr>\r\n{{/each}}\r\n{{/if}}\r\n</tbody>\r\n</table>\r\n</div>\r\n{{if tripPlan.billStatus > -1}}\r\n    <div style="width:60%;">\r\n        <div arrangeType="ticket"> \r\n            <label style="margin:5px 0px 0px 0px;">财务审核批注：</label>\r\n            <input name="accountFinancialCheckComment" {{if (!(tripPlan.billStatus == 1 && isFinance)) }}readonly="readonly"{{/if}} type="text" style="width:30%;" value="{{if remarkArrangeList.ticketRemark.length>0}}{{remarkArrangeList.ticketRemark[0].opCheckRemark}}{{/if}}" />\r\n            <label style="margin:5px 0px 0px 10px;">计调审核批注：</label>\r\n            <input name="accountOPCheckComment" {{if (!(tripPlan.billStatus == 0 && isOp)) }}readonly="readonly"{{/if}} type="text" style="width:30%;" value="{{if remarkArrangeList.ticketRemark.length>0}}{{remarkArrangeList.ticketRemark[0].financeCheckRemark}}{{/if}}" />\r\n        </div>\r\n    </div>\r\n{{/if}}'.split(/\n/)[$line - 1].replace(/^\s+/, "")
            };
        }
    });
});