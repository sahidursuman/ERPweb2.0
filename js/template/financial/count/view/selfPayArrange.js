/*TMODJS:{"debug":true,"version":13,"md5":"029c09cd69bad83f2364f7d3d6c491f4"}*/
define(function(require) {
    return require("../../../template")("financial/count/view/selfPayArrange", function($data, $filename) {
        try {
            var $utils = this, $helpers = $utils.$helpers, $line = 0, tripPlan = $data.tripPlan, $each = $utils.$each, dayList = $data.dayList, $escape = ($data.day, 
            $data.$index, $data.arrangeList, $data.arrange, $data.index, $utils.$escape), editStatus = $data.editStatus, isFinance = $data.isFinance, remarkArrangeList = $data.remarkArrangeList, isOp = $data.isOp, $out = "";
            return $out += '<div class="ui-sortable-handle widget-container-col"> <h5 class="title-size"> <i class="ace-icon fa fa-medkit"></i> 自费安排 <a href="javascript:void(0)" class="T-addSelf"> <button class="btn btn-sm btn-success T-add" style="margin-left: 20px"> <i class="ace-icon fa fa-plus"></i> 新增 </button> </a> </h5> </div> <table class="table table-striped table-bordered table-hover"> <thead> <tr> <th class="th-border" colspan="14">消费</th> <th class="th-border" colspan="2">社佣</th> <th class="th-border" colspan="2">导佣</th>  <th class="th-border" rowspan="2">导游报账备注</th> ', 
            $line = 20, 2 == tripPlan.billStatus && ($out += '<th class="th-border" rowspan="2">是否对账</th>', 
            $line = 20), $out += ' </tr> <tr> <th class="th-border"><span class="necessary">*</span>时间</th> <th class="th-border"><span class="necessary">*</span>自费商家</th> <th class="th-border"><span class="necessary">*</span>项目</th> <th class="th-border"><span class="necessary">*</span>单价</th> <th class="th-border"><span class="necessary">*</span>底价</th> <th class="th-border">人数返佣</th> <th class="th-border"><span class="necessary">*</span>数量</th> <th class="th-border">优惠</th> <th class="th-border">应收</th> <th class="th-border">应付</th> <th class="th-border">已付</th> <th class="th-border">导付</th> <th class="th-border">现收</th> <th class="th-border">单据</th> <th class="th-border"><span class="necessary">*</span>比例%</th> <th class="th-border">返佣</th> <th class="th-border"><span class="necessary">*</span>比例%</th> <th class="th-border">返佣</th> </tr></thead> <tbody class="T-count-selfPay"> ', 
            $line = 43, $each(dayList, function(day) {
                $out += " ", $line = 44, null != day.selfPayArrange && ($out += " ", $line = 45, 
                $each(day.selfPayArrange, function(arrangeList) {
                    $out += " ", $line = 46, $each(arrangeList.selfPayArrangeList, function(arrange, index) {
                        $out += " ", $line = 47, null != arrange && ($out += ' <tr selfPayArrangeId="', 
                        $line = 48, $out += $escape(arrange.id), $out += '" selfPayId="', $line = 48, $out += $escape(arrange.selfPayId), 
                        $out += '" badStatus = "', $line = 48, $out += $escape(arrange.badStatus), $out += '"> ', 
                        $line = 49, 0 == index && ($out += '<td rowspan="', $line = 49, $out += $escape(arrangeList.selfPayArrangeList.length), 
                        $out += '">第', $line = 49, $out += $escape(arrange.whichDay), $out += "天</td>", 
                        $line = 49), $out += " ", $line = 50, 0 == index && ($out += '<td rowspan="', $line = 50, 
                        $out += $escape(arrangeList.selfPayArrangeList.length), $out += '">', $line = 50, 
                        $out += $escape(arrange.selfPay.name), $out += "</td>", $line = 50), $out += " <td>", 
                        $line = 51, null != arrange.selfPayItem && ($line = 51, $out += $escape(arrange.selfPayItem.name), 
                        $line = 51), $out += "</td> <td> ", $line = 53, 1 == arrange.badStatus ? ($out += "<span>", 
                        $line = 53, $out += $escape(arrange.marketPrice), $out += "</span>", $line = 53) : ($out += "<span>", 
                        $line = 53, $out += $escape(arrange.marketPrice), $out += "</span>", $line = 53), 
                        $out += ' <input type="hidden" name="marketPrice" value="', $line = 54, $out += $escape(arrange.marketPrice), 
                        $out += '"/></td> <td>', $line = 55, 1 == arrange.badStatus ? ($out += "<span>", 
                        $line = 55, $out += $escape(arrange.price), $out += "</span>", $line = 55) : ($out += "<span>", 
                        $line = 55, $out += $escape(arrange.price), $out += "</span>", $line = 55), $out += ' <input type="hidden" name="price" value="', 
                        $line = 56, $out += $escape(arrange.price), $out += '" /></td> <td>', $line = 57, 
                        1 == arrange.badStatus ? ($out += "<span>", $line = 57, $out += $escape(arrange.customerRebateMoney), 
                        $out += "</span>", $line = 57) : ($out += "<span>", $line = 57, $out += $escape(arrange.customerRebateMoney), 
                        $out += "</span>", $line = 57), $out += "</td> <td>", $line = 58, 1 == arrange.badStatus ? ($out += "<span>", 
                        $line = 58, $out += $escape(arrange.memberCount), $out += "</span>", $line = 58) : ($out += '<input style="width:60px;" type="text" name="realCount" ', 
                        $line = 58, null != arrange.billUpdateTime ? ($out += 'value="', $line = 58, $out += $escape(arrange.realCount), 
                        $out += '"', $line = 58) : ($out += "value=0", $line = 58), $out += ' maxlength="5"/>', 
                        $line = 58), $out += '<input type="hidden" name="memberCount" value="', $line = 58, 
                        $out += $escape(arrange.memberCount), $out += '" ', $line = 58, 1 == arrange.isConfirmAccount && ($out += 'readOnly="readOnly"', 
                        $line = 58), $out += " /></td> <td>", $line = 59, 1 == arrange.badStatus ? ($out += "<span>", 
                        $line = 59, $out += $escape(arrange.realReduceMoney), $out += "</span>", $line = 59) : ($out += '<input type="text" name="realrealReduceMoney" value="', 
                        $line = 59, $out += $escape(arrange.realrealReduceMoney), $out += '" style="width:60px;"/>', 
                        $line = 59), $out += " </td> <td>", $line = 61, 1 == arrange.badStatus ? ($out += '<span class="needIncome"></span>', 
                        $line = 61) : ($out += '<span class="needIncome"></span>', $line = 61), $out += ' </td> <td><span class="needPayMoney" >', 
                        $line = 63, $out += $escape(arrange.payedMoney + arrange.realGuidePayMoney), $out += '</span><input type="hidden" class="selfMoney"></td> <td>', 
                        $line = 64, $out += $escape(arrange.payedMoney), $out += "</td> <td>", $line = 65, 
                        1 == arrange.badStatus ? ($out += "<span>", $line = 65, $out += $escape(arrange.realGuidePayMoney), 
                        $out += "</span>", $line = 65) : ($out += '<input style="width:60px;" type="text" name="realGuidePayMoney" ', 
                        $line = 65, null != arrange.billUpdateTime ? ($out += 'value="', $line = 65, $out += $escape(arrange.realGuidePayMoney), 
                        $out += '"', $line = 65) : ($out += "value=0 ", $line = 65), $out += ' old="', $line = 65, 
                        $out += $escape(arrange.realGuidePayMoney), $out += '" maxlength="11" ', $line = 65, 
                        1 == arrange.isConfirmAccount && ($out += 'readOnly="readOnly"', $line = 65), $out += " />", 
                        $line = 65), $out += ' <input type="hidden" name="payedMoney" value="', $line = 67, 
                        $out += $escape(arrange.payedMoney), $out += '" ', $line = 67, 1 == arrange.isConfirmAccount && ($out += 'readOnly="readOnly"', 
                        $line = 67), $out += ' /> <input type="hidden" name="guidePayMoney" value="', $line = 68, 
                        $out += $escape(arrange.guidePayMoney), $out += '" ', $line = 68, 1 == arrange.isConfirmAccount && ($out += 'readOnly="readOnly"', 
                        $line = 68), $out += " /> </td> <td>", $line = 70, 1 == arrange.badStatus ? ($out += "<span>", 
                        $line = 70, $out += $escape(arrange.realGetMoney), $out += "</span>", $line = 70) : ($out += '<input type="text" name="realGetMoney" value="', 
                        $line = 70, $out += $escape(arrange.realGetMoney), $out += '" style="width:60px;"/>', 
                        $line = 70), $out += " </td> <td>", $line = 72, null != arrange.billImage && "" != arrange.billImage ? ($out += ' <a href="javascript:void(0);" url="', 
                        $line = 73, $out += $escape(arrange.billImage), $out += '" class="btn-view">查看</a> ', 
                        $line = 74) : ($out += ' <span style="color:#bbb;">查看</span> ', $line = 76), $out += " </td> <td>", 
                        $line = 78, 1 == arrange.badStatus ? ($out += "<span>", $line = 78, $out += $escape($helpers.parseInt(100 * arrange.travelAgencyRate)), 
                        $out += "</span>", $line = 78) : ($out += '<input style="width:90px;" type="text" name="travelAgencyRate" value="', 
                        $line = 78, $out += $escape($helpers.parseInt(100 * arrange.travelAgencyRate)), 
                        $out += '" old="', $line = 78, $out += $escape(arrange.travelAgencyRate), $out += '" maxlength="5" ', 
                        $line = 78, 1 == arrange.isConfirmAccount && ($out += 'readOnly="readOnly"', $line = 78), 
                        $out += " />", $line = 78), $out += " </td> <td>", $line = 80, 1 == arrange.badStatus ? ($out += "<span>", 
                        $line = 80, $out += $escape(arrange.travelAgencyRebateMoney), $out += "</span>", 
                        $line = 80) : ($out += '<span class="travelAgencyRebateMoney">', $line = 80, $out += $escape(arrange.travelAgencyRebateMoney), 
                        $out += "</span>", $line = 80), $out += ' <input type="hidden" name="travelAgencyRebateMoney" value="', 
                        $line = 81, $out += $escape(arrange.travelAgencyRebateMoney), $out += '" ', $line = 81, 
                        1 == arrange.isConfirmAccount && ($out += 'readOnly="readOnly"', $line = 81), $out += " /></td> <td>", 
                        $line = 82, 1 == arrange.badStatus ? ($out += "<span>", $line = 82, $out += $escape($helpers.parseInt(100 * arrange.guideRate)), 
                        $out += "</span>", $line = 82) : ($out += '<input style="width:90px;" type="text" name="guideRate" value="', 
                        $line = 82, $out += $escape($helpers.parseInt(100 * arrange.guideRate)), $out += '" old="', 
                        $line = 82, $out += $escape(arrange.guideRate), $out += '" maxlength="5"/>', $line = 82), 
                        $out += " </td> <td>", $line = 84, 1 == arrange.badStatus ? ($out += "<span>", $line = 84, 
                        $out += $escape(arrange.guideRebateMoney), $out += "</span>", $line = 84) : ($out += ' <span class="guideRebateMoney">', 
                        $line = 84, $out += $escape(arrange.guideRebateMoney), $out += "</span>", $line = 84), 
                        $out += ' <input type="hidden" name="guideRebateMoney" value="', $line = 86, $out += $escape(arrange.guideRebateMoney), 
                        $out += '" ', $line = 86, 1 == arrange.isConfirmAccount && ($out += 'readOnly="readOnly"', 
                        $line = 86), $out += ' /></td> <!-- <td> <span class="guideRate">', $line = 88, 
                        $out += $escape(arrange.customerRebateMoney), $out += '</span> <input type="hidden" name="guideRate" value="', 
                        $line = 89, $out += $escape(arrange.customerRebateMoney), $out += '" ', $line = 89, 
                        1 == arrange.isConfirmAccount && ($out += 'readOnly="readOnly"', $line = 89), $out += " /></td> ", 
                        $line = 90, 0 == index && ($out += '<td rowspan="', $line = 90, $out += $escape(arrangeList.selfPayArrangeList.length), 
                        $out += '">', $line = 90, $out += $escape(arrange.customerRebateMoney * tripPlan.touristAdultCount), 
                        $out += "</td>", $line = 90), $out += " --> <td>", $line = 91, 1 == editStatus ? ($out += '<input name="billRemark" value="', 
                        $line = 91, $out += $escape(arrange.billRemark), $out += '" maxlength="1000" />', 
                        $line = 91) : ($line = 91, $out += $escape(arrange.billRemark), $line = 91), $out += "</td> ", 
                        $line = 92, 2 == tripPlan.billStatus && ($out += "<td>", $line = 92, 0 == arrange.isConfirmAccount ? ($out += "未对账", 
                        $line = 92) : ($out += "已对账", $line = 92), $out += "</td>", $line = 92), $out += " </tr> ", 
                        $line = 94), $out += " ", $line = 95;
                    }), $out += " ", $line = 96;
                }), $out += " ", $line = 97), $out += " ", $line = 98;
            }), $out += " </tbody> </table> ", $line = 102, tripPlan.billStatus > -1 && ($out += ' <div style="width:60%;"> <div> <label style="margin:5px 0px 0px 0px;">财务审核批注：</label> <input name="accountFinancialCheckComment" ', 
            $line = 106, 1 == tripPlan.billStatus && isFinance || ($out += 'readonly="readonly"', 
            $line = 106), $out += ' type="text" style="width:30%;" value="', $line = 106, null != remarkArrangeList[2] && ($line = 106, 
            $out += $escape(remarkArrangeList[2].opCheckRemark), $line = 106), $out += '" /> <label style="margin:5px 0px 0px 10px;">计调审核批注：</label> <input name="accountOPCheckComment" ', 
            $line = 109, 0 == tripPlan.billStatus && isOp || ($out += 'readonly="readonly"', 
            $line = 109), $out += ' type="text" style="width:30%;" value="', $line = 109, null != remarkArrangeList[2] && ($line = 109, 
            $out += $escape(remarkArrangeList[2].financeCheckRemark), $line = 109), $out += '" /> </div> </div> ', 
            $line = 112), new String($out);
        } catch (e) {
            throw {
                filename: $filename,
                name: "Render Error",
                message: e.message,
                line: $line,
                source: '<div class="ui-sortable-handle widget-container-col">\r\n    <h5 class="title-size">\r\n        <i class="ace-icon fa fa-medkit"></i> 自费安排\r\n        <a href="javascript:void(0)" class="T-addSelf">\r\n            <button class="btn btn-sm btn-success T-add" style="margin-left: 20px">\r\n                <i class="ace-icon fa fa-plus"></i>\r\n                新增\r\n            </button>\r\n        </a>\r\n    </h5>\r\n</div>\r\n<table class="table table-striped table-bordered table-hover">\r\n    <thead>\r\n    <tr>\r\n        <th class="th-border" colspan="14">消费</th>\r\n        <th class="th-border" colspan="2">社佣</th>\r\n        <th class="th-border" colspan="2">导佣</th>\r\n        <!-- <th class="th-border" colspan="2">人数返佣</th> -->\r\n        <th class="th-border" rowspan="2">导游报账备注</th>\r\n        {{if tripPlan.billStatus == 2 }}<th class="th-border" rowspan="2">是否对账</th>{{/if}}\r\n    </tr>\r\n    <tr>\r\n      <th class="th-border"><span class="necessary">*</span>时间</th>\r\n      <th class="th-border"><span class="necessary">*</span>自费商家</th>\r\n      <th class="th-border"><span class="necessary">*</span>项目</th>\r\n      <th class="th-border"><span class="necessary">*</span>单价</th>\r\n      <th class="th-border"><span class="necessary">*</span>底价</th>\r\n      <th class="th-border">人数返佣</th>\r\n      <th class="th-border"><span class="necessary">*</span>数量</th>\r\n      <th class="th-border">优惠</th>\r\n      <th class="th-border">应收</th>\r\n      <th class="th-border">应付</th>\r\n      <th class="th-border">已付</th>\r\n      <th class="th-border">导付</th>\r\n      <th class="th-border">现收</th>\r\n      <th class="th-border">单据</th>\r\n      <th class="th-border"><span class="necessary">*</span>比例%</th>\r\n      <th class="th-border">返佣</th>\r\n      <th class="th-border"><span class="necessary">*</span>比例%</th>\r\n      <th class="th-border">返佣</th>\r\n    </tr></thead>\r\n    <tbody class="T-count-selfPay">\r\n    {{each dayList as day}}\r\n    {{if day.selfPayArrange != null}}\r\n    {{each day.selfPayArrange as arrangeList}}\r\n    {{each arrangeList.selfPayArrangeList as arrange index}}\r\n    {{if arrange != null}}\r\n    <tr selfPayArrangeId="{{arrange.id}}" selfPayId="{{arrange.selfPayId}}" badStatus = "{{arrange.badStatus}}">\r\n            {{if index == 0 }}<td rowspan="{{arrangeList.selfPayArrangeList.length}}">第{{arrange.whichDay}}天</td>{{/if}}\r\n            {{if index == 0 }}<td rowspan="{{arrangeList.selfPayArrangeList.length}}">{{arrange.selfPay.name}}</td>{{/if}}\r\n            <td>{{if arrange.selfPayItem != null }}{{arrange.selfPayItem.name}}{{/if}}</td>\r\n            <td>\r\n            {{if arrange.badStatus == 1}}<span>{{arrange.marketPrice}}</span>{{else}}<span>{{arrange.marketPrice}}</span>{{/if}}\r\n            <input type="hidden" name="marketPrice" value="{{arrange.marketPrice}}"/></td>\r\n            <td>{{if arrange.badStatus == 1}}<span>{{arrange.price}}</span>{{else}}<span>{{arrange.price}}</span>{{/if}}\r\n            <input type="hidden" name="price" value="{{arrange.price}}" /></td>\r\n            <td>{{if arrange.badStatus == 1}}<span>{{arrange.customerRebateMoney}}</span>{{else}}<span>{{arrange.customerRebateMoney}}</span>{{/if}}</td>\r\n            <td>{{if arrange.badStatus == 1}}<span>{{arrange.memberCount}}</span>{{else}}<input style="width:60px;" type="text" name="realCount" {{if arrange.billUpdateTime != null}}value="{{arrange.realCount}}"{{else}}value=0{{/if}} maxlength="5"/>{{/if}}<input type="hidden" name="memberCount" value="{{arrange.memberCount}}" {{if arrange.isConfirmAccount == 1}}readOnly="readOnly"{{/if}} /></td>\r\n            <td>{{if arrange.badStatus == 1}}<span>{{arrange.realReduceMoney}}</span>{{else}}<input type="text" name="realrealReduceMoney" value="{{arrange.realrealReduceMoney}}" style="width:60px;"/>{{/if}}\r\n            </td>\r\n            <td>{{if arrange.badStatus == 1}}<span class="needIncome"></span>{{else}}<span class="needIncome"></span>{{/if}}\r\n            </td>\r\n            <td><span class="needPayMoney" >{{arrange.payedMoney+arrange.realGuidePayMoney}}</span><input type="hidden" class="selfMoney"></td>\r\n            <td>{{arrange.payedMoney}}</td>\r\n            <td>{{if arrange.badStatus == 1}}<span>{{arrange.realGuidePayMoney}}</span>{{else}}<input style="width:60px;" type="text" name="realGuidePayMoney" {{if arrange.billUpdateTime!=null}}value="{{arrange.realGuidePayMoney}}"{{else}}value=0 {{/if}} old="{{arrange.realGuidePayMoney}}" maxlength="11" {{if arrange.isConfirmAccount == 1}}readOnly="readOnly"{{/if}} />{{/if}}\r\n                \r\n                <input type="hidden" name="payedMoney" value="{{arrange.payedMoney}}" {{if arrange.isConfirmAccount == 1}}readOnly="readOnly"{{/if}} />\r\n                <input type="hidden" name="guidePayMoney" value="{{arrange.guidePayMoney}}" {{if arrange.isConfirmAccount == 1}}readOnly="readOnly"{{/if}} />\r\n                </td>\r\n            <td>{{if arrange.badStatus == 1}}<span>{{arrange.realGetMoney}}</span>{{else}}<input type="text" name="realGetMoney" value="{{arrange.realGetMoney}}" style="width:60px;"/>{{/if}}\r\n            </td>\r\n            <td>{{if arrange.billImage != null && arrange.billImage != ""}}\r\n                    <a href="javascript:void(0);" url="{{arrange.billImage}}" class="btn-view">查看</a>\r\n                {{else}}\r\n                    <span style="color:#bbb;">查看</span>\r\n                {{/if}}\r\n            </td>\r\n            <td>{{if arrange.badStatus == 1}}<span>{{arrange.travelAgencyRate*100 | parseInt}}</span>{{else}}<input style="width:90px;" type="text" name="travelAgencyRate" value="{{arrange.travelAgencyRate*100 | parseInt}}" old="{{arrange.travelAgencyRate}}" maxlength="5" {{if arrange.isConfirmAccount == 1}}readOnly="readOnly"{{/if}} />{{/if}}\r\n                </td>\r\n            <td>{{if arrange.badStatus == 1}}<span>{{arrange.travelAgencyRebateMoney}}</span>{{else}}<span class="travelAgencyRebateMoney">{{arrange.travelAgencyRebateMoney}}</span>{{/if}}\r\n                <input type="hidden" name="travelAgencyRebateMoney" value="{{arrange.travelAgencyRebateMoney}}" {{if arrange.isConfirmAccount == 1}}readOnly="readOnly"{{/if}} /></td>\r\n            <td>{{if arrange.badStatus == 1}}<span>{{arrange.guideRate*100 | parseInt}}</span>{{else}}<input style="width:90px;" type="text" name="guideRate" value="{{arrange.guideRate*100 | parseInt}}" old="{{arrange.guideRate}}" maxlength="5"/>{{/if}}\r\n            </td>\r\n            <td>{{if arrange.badStatus == 1}}<span>{{arrange.guideRebateMoney}}</span>{{else}} <span class="guideRebateMoney">{{arrange.guideRebateMoney}}</span>{{/if}}\r\n               \r\n                <input type="hidden" name="guideRebateMoney" value="{{arrange.guideRebateMoney}}" {{if arrange.isConfirmAccount == 1}}readOnly="readOnly"{{/if}} /></td>\r\n            <!-- <td>\r\n                <span class="guideRate">{{arrange.customerRebateMoney}}</span>\r\n                <input type="hidden" name="guideRate" value="{{arrange.customerRebateMoney}}" {{if arrange.isConfirmAccount == 1}}readOnly="readOnly"{{/if}} /></td>\r\n            {{if index == 0 }}<td rowspan="{{arrangeList.selfPayArrangeList.length}}">{{arrange.customerRebateMoney * tripPlan.touristAdultCount}}</td>{{/if}} -->\r\n            <td>{{if editStatus == 1}}<input name="billRemark" value="{{arrange.billRemark}}" maxlength="1000" />{{else}}{{arrange.billRemark}}{{/if}}</td>\r\n            {{if tripPlan.billStatus == 2}}<td>{{if arrange.isConfirmAccount == 0}}未对账{{else}}已对账{{/if}}</td>{{/if}}                              \r\n    </tr>\r\n    {{/if}}\r\n    {{/each}}\r\n    {{/each}}\r\n    {{/if}}\r\n    {{/each}}\r\n    </tbody>\r\n</table>\r\n\r\n{{if tripPlan.billStatus > -1}}\r\n    <div style="width:60%;">\r\n        <div> \r\n            <label style="margin:5px 0px 0px 0px;">财务审核批注：</label>\r\n            <input name="accountFinancialCheckComment" {{if (!(tripPlan.billStatus == 1 && isFinance)) }}readonly="readonly"{{/if}} type="text" style="width:30%;" value="{{if remarkArrangeList[2] != null}}{{remarkArrangeList[2].opCheckRemark}}{{/if}}" />\r\n        \r\n            <label style="margin:5px 0px 0px 10px;">计调审核批注：</label>\r\n            <input name="accountOPCheckComment" {{if (!(tripPlan.billStatus == 0 && isOp)) }}readonly="readonly"{{/if}} type="text" style="width:30%;" value="{{if remarkArrangeList[2] != null}}{{remarkArrangeList[2].financeCheckRemark}}{{/if}}" />\r\n        </div>\r\n    </div>\r\n{{/if}}'.split(/\n/)[$line - 1].replace(/^\s+/, "")
            };
        }
    });
});