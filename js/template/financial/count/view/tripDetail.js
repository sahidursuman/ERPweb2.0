/*TMODJS:{"debug":true,"version":171,"md5":"eddc3636fca3c21cb8dd6a1358c683d8"}*/
define(function(require) {
    return require("../../../template")("financial/count/view/tripDetail", function($data, $filename) {
        try {
            var $utils = this, $helpers = $utils.$helpers, $line = 0, $escape = $utils.$escape, tripPlan = $data.tripPlan, user = $data.user, touristGroup = $data.touristGroup, guideArrange = $data.guideArrange, insuranceArrange = $data.insuranceArrange, WEB_IMG_URL_BIG = $data.WEB_IMG_URL_BIG, WEB_IMG_URL_SMALL = $data.WEB_IMG_URL_SMALL, $each = $utils.$each, dayList = $data.dayList, arrangeIncomePaymentList = ($data.day, 
            $data.$index, $data.shopArrangeList, $data.arrange, $data.index, $data.arrangeList, 
            $data.arrangeIncomePaymentList), busCompanyArrange = ($data.otherInCome, $data.busCompanyArrange), ticketArrangeList = ($data.busCompany, 
            $data.ticketArrangeList), $out = ($data.ticketArrange, "");
            return $out += '<div class="col-sm-12 financialTripDetail"> <div> <button data-entity-id="', 
            $line = 3, $out += $escape(tripPlan.id), $out += '" class="btn btn-xs btn-success btn-transfter btn-download" style="margin: 0px 10px 20px 0px;width:110px;height:35px;float: right;display: none;"> <i class="ace-icon fa fa-file-excel-o"></i>导出电子表格 </button> </div> <div class="col-xs-12 border"> <form class="form-horizontal" role="form" onsubmit="return false"> <div class="search-area editable editable-click" style="margin-top: 10px;cursor: default;"> <div class="form-group"> <label class="col-sm-3" style="font-weight: bold;">线路: ', 
            $line = 11, $out += $escape(tripPlan.lineProduct.name), $out += '</label> <label class="col-sm-2" style="font-weight: bold;">类别: ', 
            $line = 12, $out += $escape(tripPlan.lineProduct.type), $out += '</label> <label class="col-sm-2" style="font-weight: bold;">应用范围: ', 
            $line = 13, 1 == tripPlan.lineProduct.customerType ? ($out += "团体", $line = 13) : 0 == tripPlan.lineProduct.customerType && ($out += "散客", 
            $line = 13), $out += '</label> <label class="col-sm-2" style="font-weight: bold;">天数: ', 
            $line = 14, $out += $escape(tripPlan.lineProduct.days), $out += '</label> </div> </div> </form> <form class="form-horizontal" role="form" onsubmit="return false"> <div class="search-area editable editable-click" style="margin-top: 10px;cursor: default;"> <div class="form-group"> <label class="col-sm-3" style="font-weight: bold;">团号：', 
            $line = 22, $out += $escape(tripPlan.tripNumber), $out += '</label> <label class="col-sm-2" style="font-weight: bold;">出团日期：', 
            $line = 23, $out += $escape($helpers.dateFormat(tripPlan.startTime, "yyyy-MM-dd")), 
            $out += '</label> <label class="col-sm-2" style="font-weight: bold;">完团日期：', $line = 24, 
            $out += $escape($helpers.dateFormat(tripPlan.endTime, "yyyy-MM-dd")), $out += '</label> <label class="col-sm-2" style="font-weight: bold;">团队人数：', 
            $line = 25, $out += $escape(tripPlan.touristAdultCount), $out += "大", $line = 25, 
            $out += $escape(tripPlan.touristChildCount), $out += '小</label> </div> </div> </form> <form class="form-horizontal" role="form" onsubmit="return false"> <div class="search-area editable editable-click" style="margin-top: 10px;border-bottom:0px;cursor: default;"> <div class="form-group"> <label class="col-sm-3" style="font-weight: bold;">导游：', 
            $line = 32, null != tripPlan.guide && ($line = 32, $out += $escape(tripPlan.guide.realname), 
            $line = 32), $out += '</label> <label class="col-sm-2" style="font-weight: bold;">全陪：', 
            $line = 33, $out += $escape(tripPlan.accompanyGuideName), $out += '</label> <label class="col-sm-2" style="font-weight: bold;"></label> <label class="col-sm-2" style="font-weight: bold;"></label> </div> </div> </form> </div> <div class="col-sm-12 " style="margin: 20px 0px 20px 0px;"> <div style="float: left"> </div> <div style="width:60%;float:right;"><div> <label style="margin:5px 0px 0px 0px;">财务审核批注：</label> <input name="accountFinancialCheckComment" ', 
            $line = 46, 2 != user.roleType && ($out += 'readonly="readonly"', $line = 46), $out += " ", 
            $line = 46, 2 == user.roleType && 1 != tripPlan.billStatus && ($out += 'readonly="readonly"', 
            $line = 46), $out += ' type="text" style="width:30%;" value="', $line = 46, null != tripPlan.financialCheckRemark && ($line = 46, 
            $out += $escape(tripPlan.financialCheckRemark), $line = 46), $out += '" /> <label style="margin:5px 0px 0px 10px;">计调审核批注：</label> <input name="accountOPCheckComment" ', 
            $line = 49, 3 != user.roleType && ($out += 'readonly="readonly"', $line = 49), $out += " ", 
            $line = 49, 3 == user.roleType && 0 != tripPlan.billStatus && ($out += 'readonly="readonly"', 
            $line = 49), $out += ' type="text" style="width:30%;" value="', $line = 49, null != tripPlan.opCheckRemark && ($line = 49, 
            $out += $escape(tripPlan.opCheckRemark), $line = 49), $out += '" /> </div> </div><div style="clear: both;"></div> </div> <table class="table table-striped table-bordered table-hover all main-table" style="margin-top: 30px;"> <tbody> <tr > <td colspan="7"> <div style="float: left;margin-left:10px;"> <input type="hidden" class="financial-tripPlanId" value="', 
            $line = 58, $out += $escape(tripPlan.id), $out += '" /> <input type="hidden" class="tripPlanAdultCount" value="', 
            $line = 59, $out += $escape(tripPlan.touristAdultCount), $out += '" /> <input type="hidden" class="tripPlanChildCount" value="', 
            $line = 60, $out += $escape(tripPlan.touristChildCount), $out += '" /> <label style="margin-left:50px;font-weight: bold;">毛利：<span class="grossProfitMoney"></span></label> <label style="margin-left:50px;font-weight: bold;">人均毛利：<span class="perGrossProfitMoney"></span></label> </div></td> </tr> <tr > <td colspan="2"><label style="font-weight: bold;">收入：<span class="tripIncome"></span></label></td> <td colspan="3"><label style="font-weight: bold;">团成本：<span class="tripCost"></span></label></td> <td><label style="font-weight: bold;">其他：<span class="tripOther"></span></label></td> <td><label style="font-weight: bold;">中转成本：<span class="tripTransitCost"></span></label></td> </tr> <tr> <td><label>应收团款：<span class="tripIncome-getAllMoney">', 
            $line = 75, $out += $escape(touristGroup.needPayAllMoney), $out += '</span></label></td> <td><label>自费返佣：<span class="tripIncome-selfPayTravelAgencyRebateMoney"></span></label></td> <td><label>导服费：<span class="tripCost-guideArrangePrice">', 
            $line = 77, $out += $escape(guideArrange.price), $out += '</span></label></td> <td><label>保险：<span class="tripCost-insuranceArrangeNeedPayMoney">', 
            $line = 78, $out += $escape(insuranceArrange.needPayMoney), $out += '</span></label></td> <td><label>车费：<span class="tripCost-busCompanyNeedPayMoney"></span></label></td> <td><label>导游管理费：<span class="tripOther-guideArrangeManageFee">', 
            $line = 80, $out += $escape(guideArrange.manageFee), $out += '</span></label></td> <td><label>车费：<span class="tripTransitCost-busCompanyNeedPayMoney">', 
            $line = 81, $out += $escape(touristGroup.outBusMoney), $out += '</span></label></td> </tr> <tr> <td><label>购物返佣：<span class="tripIncome-shopTravelAgencyRateMoney"></span></label></td> <td><label>其他收入：<span class="tripIncome-otherInCome"></span></label></td> <td><label>餐费：<span class="tripCost-restaurantArrangeNeedPayMoney"></span></label></td> <td><label>房费：<span class="tripCost-hotelArrangeNeedPayMoney"></span></label></td> <td><label>景区费用：<span class="tripCost-scenicArrangeNeedPayMoney"></span></label></td> <td><label>导游预支金额：<span class="tripOther-guideAllPreMoney">', 
            $line = 90, $out += $escape(tripPlan.guideAllPreMoney), $out += '</span></label></td> <td><label>房费：<span class="tripTransitCost-hotelArrangeNeedPayMoney">', 
            $line = 91, $out += $escape(touristGroup.outHotelMoney), $out += '</span></label></td> </tr> <tr> <td></td> <td></td> <td><label>票务费用：<span class="tripCost-ticketArrangeNeedPayMoney"></span></label></td> <td><label>其他费用：<span class="tripCost-otherArrangeNeedPayMoney"></span></label></td> <td><label style="display: none;">地接费用：<span class="tripCost-groundArrangeNeedPayMoney"></span></label></td> <td></td> <td><label>票务费用：<span class="tripTransitCost-ticketArrangeNeedPayMoney">', 
            $line = 100, $out += $escape(touristGroup.outTicketMoney), $out += '</span></label></td> </tr> </tbody> </table> <input type="hidden" value="', 
            $line = 104, $out += $escape(WEB_IMG_URL_BIG), $out += '" name="WEB_IMG_URL_BIG" /> <input type="hidden" value="', 
            $line = 105, $out += $escape(WEB_IMG_URL_SMALL), $out += '" name="WEB_IMG_URL_SMALL" /> <div class="col-sm-13 widget-container-col"> <div class="widget-box ui-sortable-handle"> <div class="widget-header"> <h5 class="widget-title"><i class="ace-icon fa fa-sitemap"></i>团款</h5> </div> <div class="widget-body"> <div class="widget-main"> <table class="table table-striped table-bordered table-hover" style="margin-top: 30px"> <tbody> <tr> <td>应收</td> <td>已收</td> <td>现收</td> <td>明细</td> <tr> <td><span class="">', 
            $line = 121, $out += $escape(touristGroup.needPayAllMoney), $out += '</span></td> <td><span class="">', 
            $line = 122, $out += $escape(touristGroup.payedMoney), $out += '</span></td> <td><span class="">', 
            $line = 123, $out += $escape(touristGroup.currentNeedPayMoney), $out += '</span></td> <td><a href="javascript:void(0);" data-entity-id="', 
            $line = 124, $out += $escape(tripPlan.id), $out += '" class="btn-viewGroupDetail">查看</a></td> </tr> </tbody> </table> </div> </div> </div> </div> <div class="col-sm-13 widget-container-col"> <div style="float: right; margin: 10px 20px 10px 0px;"><a href="javascript:void(0);" class="btn-financialLog">操作记录</a></div><div style="clear:both;"></div> <div style="float: right; margin: 20px 20px 20px 0px;"><a href="javascript:void(0);" class="btn-tripPlanArrange">安排预算表</a></div><div style="clear:both;"></div> </div> <div class="col-sm-13 widget-container-col"> <div class="widget-box ui-sortable-handle"> <div class="widget-header"> <h5 class="widget-title"><i class="ace-icon fa fa-shopping-cart"></i>购物</h5> </div> <div class="widget-body"> <div class="widget-main"> <table class="table table-striped table-bordered table-hover" style="margin-top: 30px"> <thead> <tr> <th colspan="6">打单</th> <th colspan="2">社佣</th> <th colspan="2">导佣</th> <th rowspan="2">人数返佣</th> <th rowspan="2">停车返佣</th> <th rowspan="2">导游报账备注</th> </tr> <tr> <th>时间</th> <th>购物店</th> <th>商品</th> <th>金额</th> <th>单据</th> <th>总金额</th> <th>比例%</th> <th>返佣</th> <th>比例%</th> <th>返佣</th> </tr></thead> <tbody id="shopping"> ', 
            $line = 166, $each(dayList, function(day) {
                $out += " ", $line = 167, null != day.shopArrange && ($out += " ", $line = 168, 
                $each(day.shopArrange, function(shopArrangeList) {
                    $out += " ", $line = 169, $each(shopArrangeList.shopArrangePolicy, function(arrange, index) {
                        $out += " ", $line = 170, null != arrange && ($out += ' <tr shopArrangeId="', $line = 171, 
                        $out += $escape(arrange.id), $out += '" shopId="', $line = 171, $out += $escape(arrange.whichDay), 
                        $out += "_", $line = 171, $out += $escape(arrange.shopId), $out += '"> ', $line = 172, 
                        0 == index && ($out += '<td rowspan="', $line = 172, $out += $escape(shopArrangeList.shopArrangePolicy.length), 
                        $out += '">第', $line = 172, $out += $escape(arrange.whichDay), $out += "天</td>", 
                        $line = 172), $out += " ", $line = 173, 0 == index && ($out += '<td rowspan="', 
                        $line = 173, $out += $escape(shopArrangeList.shopArrangePolicy.length), $out += '">', 
                        $line = 173, null != arrange.shop && ($line = 173, $out += $escape(arrange.shop.name), 
                        $line = 173), $out += "</td>", $line = 173), $out += " <td>", $line = 174, null != arrange.shopPolicy && ($line = 174, 
                        $out += $escape(arrange.shopPolicy.name), $line = 174), $out += "</td> <td>", $line = 175, 
                        $out += $escape(arrange.consumeMoney), $out += '<input name="consumeMoney" type="hidden" value="', 
                        $line = 175, $out += $escape(arrange.consumeMoney), $out += '" /></td> <td><a href="javascript:void(0);" url="', 
                        $line = 176, $out += $escape(arrange.billImage), $out += '" class="btn-view">查看</a></td> ', 
                        $line = 177, 0 == index && ($out += '<td rowspan="', $line = 177, $out += $escape(shopArrangeList.shopArrangePolicy.length), 
                        $out += '"><span class="sumMoney', $line = 177, $out += $escape(arrange.whichDay), 
                        $out += "_", $line = 177, $out += $escape(arrange.shopId), $out += '"></span></td>', 
                        $line = 177), $out += " <td>", $line = 178, $out += $escape($helpers.parseInt(100 * arrange.travelAgencyRate)), 
                        $out += '<input name="travelAgencyRate" style="display: none;" type="text" value="', 
                        $line = 178, $out += $escape(100 * arrange.travelAgencyRate), $out += '" /></td> <td><span>', 
                        $line = 179, $out += $escape(arrange.travelAgencyRateMoney), $out += '</span><input type="hidden" name="travelAgencyRateMoney" value="', 
                        $line = 179, $out += $escape(arrange.travelAgencyRateMoney), $out += '" /></td> <td>', 
                        $line = 180, $out += $escape($helpers.parseInt(100 * arrange.guideRate)), $out += '<input name="guideRate" style="display: none;" type="text" value="', 
                        $line = 180, $out += $escape(100 * arrange.guideRate), $out += '" /></td> <td><span>', 
                        $line = 181, $out += $escape(arrange.guideRateMoney), $out += '</span><input type="hidden" name="guideRateMoney" value="', 
                        $line = 181, $out += $escape(arrange.guideRateMoney), $out += '" /></td> ', $line = 182, 
                        0 == index && ($out += '<td rowspan="', $line = 182, $out += $escape(shopArrangeList.shopArrangePolicy.length), 
                        $out += '" class="sumCustomerRebateMoney">', $line = 182, arrange.customerRebateMoney < 1 ? ($line = 182, 
                        $out += $escape(arrange.shop.customerRebateMoney), $line = 182) : ($line = 182, 
                        $out += $escape(arrange.customerRebateMoney), $line = 182), $out += "</td>", $line = 182), 
                        $out += " ", $line = 183, 0 == index && ($out += '<td rowspan="', $line = 183, $out += $escape(shopArrangeList.shopArrangePolicy.length), 
                        $out += '" class="sumParkingRebateMoney">', $line = 183, arrange.parkingRebateMoney < 1 ? ($line = 183, 
                        $out += $escape(arrange.shop.parkingRebateMoney), $line = 183) : ($line = 183, $out += $escape(arrange.parkingRebateMoney), 
                        $line = 183), $out += "</td>", $line = 183), $out += " <td>", $line = 184, $out += $escape(arrange.billRemark), 
                        $out += "</td> </tr> ", $line = 186), $out += " ", $line = 187;
                    }), $out += " ", $line = 188;
                }), $out += " ", $line = 189), $out += " ", $line = 190;
            }), $out += ' </tbody> </table> </div> </div> </div> </div> <div class="col-sm-13 widget-container-col"> <div class="widget-box ui-sortable-handle"> <div class="widget-header"> <h5 class="widget-title"><i class="ace-icon fa fa-credit-card"></i>自费</h5> </div> <div class="widget-body"> <div class="widget-main"> <table class="table table-striped table-bordered table-hover" style="margin-top: 30px"> <thead> <tr> <th colspan="12">消费</th> <th colspan="2">社佣</th> <th colspan="2">导佣</th> <th rowspan="2">导游报账备注</th> </tr> <tr> <th>时间</th> <th>自费商家</th> <th>项目</th> <th>单价</th> <th>底价</th> <th>数量</th> <th>优惠</th> <th>应付</th> <th>已付</th> <th>导付</th> <th>现收</th> <th>单据</th> <th>比例%</th> <th>返佣</th> <th>比例%</th> <th>返佣</th> </tr></thead> <tbody id="selfPay"> ', 
            $line = 233, $each(dayList, function(day) {
                $out += " ", $line = 234, null != day.selfPayArrange && ($out += " ", $line = 235, 
                $each(day.selfPayArrange, function(arrangeList) {
                    $out += " ", $line = 236, $each(arrangeList.selfPayArrangeList, function(arrange, index) {
                        $out += " ", $line = 237, null != arrange && ($out += ' <tr selfPayArrangeId="', 
                        $line = 238, $out += $escape(arrange.id), $out += '" selfPayId="', $line = 238, 
                        $out += $escape(arrange.selfPayId), $out += '"> ', $line = 239, 0 == index && ($out += '<td rowspan="', 
                        $line = 239, $out += $escape(arrangeList.selfPayArrangeList.length), $out += '">第', 
                        $line = 239, $out += $escape(arrange.whichDay), $out += "天</td>", $line = 239), 
                        $out += " ", $line = 240, 0 == index && ($out += '<td rowspan="', $line = 240, $out += $escape(arrangeList.selfPayArrangeList.length), 
                        $out += '">', $line = 240, null != arrange.selfPay && ($line = 240, $out += $escape(arrange.selfPay.name), 
                        $line = 240), $out += "</td>", $line = 240), $out += " <td>", $line = 241, null != arrange.selfPayItem && ($line = 241, 
                        $out += $escape(arrange.selfPayItem.name), $line = 241), $out += "</td> <td>", $line = 242, 
                        $out += $escape(arrange.marketPrice), $out += '<input type="hidden" name="marketPrice" value="', 
                        $line = 242, $out += $escape(arrange.marketPrice), $out += '" /></td> <td>', $line = 243, 
                        $out += $escape(arrange.price), $out += '<input type="hidden" name="price" value="', 
                        $line = 243, $out += $escape(arrange.price), $out += '" /></td> <td>', $line = 244, 
                        tripPlan.billStatus < 0 ? ($line = 244, $out += $escape(arrange.memberCount), $line = 244) : ($line = 244, 
                        $out += $escape(arrange.realCount), $line = 244), $out += '<input type="hidden" name="realCount" value="', 
                        $line = 244, tripPlan.billStatus < 0 ? ($line = 244, $out += $escape(arrange.memberCount), 
                        $line = 244) : ($line = 244, $out += $escape(arrange.realCount), $line = 244), $out += '" /><input type="hidden" name="memberCount" value="', 
                        $line = 244, $out += $escape(arrange.memberCount), $out += '" /></td> <td>', $line = 245, 
                        $out += $escape(arrange.reduceMoney), $out += '<input type="hidden" name="reduceMoney" value="', 
                        $line = 245, $out += $escape(arrange.reduceMoney), $out += '" /></td> <td><span class="needPayMoney">', 
                        $line = 246, $out += $escape(arrange.needPayMoney), $out += "</span></td> <td>", 
                        $line = 247, $out += $escape(arrange.payedMoney), $out += "</td> <td> ", $line = 249, 
                        tripPlan.billStatus < 0 ? ($line = 249, $out += $escape(arrange.guidePayMoney), 
                        $line = 249) : ($line = 249, $out += $escape(arrange.realGuidePayMoney), $line = 249), 
                        $out += ' <input style="display: none;" type="text" name="realGuidePayMoney" value="', 
                        $line = 250, $out += $escape(arrange.realGuidePayMoney), $out += '" /> <input type="hidden" name="payedMoney" value="', 
                        $line = 251, $out += $escape(arrange.payedMoney), $out += '" /> <input type="hidden" name="guidePayMoney" value="', 
                        $line = 252, $out += $escape(arrange.guidePayMoney), $out += '" /> </td> <td>', 
                        $line = 254, $out += $escape(arrange.realGetMoney), $out += '</td> <td><a href="javascript:void(0);" url="', 
                        $line = 255, $out += $escape(arrange.billImage), $out += '" class="btn-view">查看</a></td> <td> <span class="travelAgencyRate">', 
                        $line = 257, $out += $escape($helpers.parseInt(100 * arrange.travelAgencyRate)), 
                        $out += '</span> <input type="hidden" name="travelAgencyRate" value="', $line = 258, 
                        $out += $escape($helpers.parseInt(100 * arrange.travelAgencyRate)), $out += '" /></td> <td> <span class="travelAgencyRebateMoney">', 
                        $line = 260, $out += $escape(arrange.travelAgencyRebateMoney), $out += '</span> <input type="hidden" name="travelAgencyRebateMoney" value="', 
                        $line = 261, $out += $escape(arrange.travelAgencyRebateMoney), $out += '" /></td> <td> <span class="guideRate">', 
                        $line = 263, $out += $escape($helpers.parseInt(100 * arrange.guideRate)), $out += '</span> <input type="hidden" name="guideRate" value="', 
                        $line = 264, $out += $escape($helpers.parseInt(100 * arrange.guideRate)), $out += '" /></td> <td> <span class="guideRebateMoney">', 
                        $line = 266, $out += $escape(arrange.guideRebateMoney), $out += '</span> <input type="hidden" name="guideRebateMoney" value="', 
                        $line = 267, $out += $escape(arrange.guideRebateMoney), $out += '" /></td> <td>', 
                        $line = 268, $out += $escape(arrange.billRemark), $out += "</td> </tr> ", $line = 270), 
                        $out += " ", $line = 271;
                    }), $out += " ", $line = 272;
                }), $out += " ", $line = 273), $out += " ", $line = 274;
            }), $out += ' </tbody> </table> </div> </div> </div> </div> <div class="col-sm-13 widget-container-col"> <div class="widget-box ui-sortable-handle"> <div class="widget-header"> <h5 class="widget-title"><i class="ace-icon fa fa-line-chart"></i>其他收入</h5> </div> <div class="widget-body"> <div class="widget-main"> <table class="table table-striped table-bordered table-hover" style="margin-top: 30px"> <thead> <tr> <th>时间</th> <th>项目</th> <th>单价</th> <th>数量</th> <th>金额</th> <th>单据</th> <th>导游报账备注</th> </tr> </thead> <tbody id="otherIn"> ', 
            $line = 302, $each(arrangeIncomePaymentList, function(otherInCome) {
                $out += " ", $line = 303, null != otherInCome && ($out += ' <tr otherInId="', $line = 304, 
                $out += $escape(otherInCome.id), $out += '" otherIn="', $line = 304, $out += $escape(otherInCome.id), 
                $out += '"> <td>第', $line = 305, $out += $escape(otherInCome.whichDay), $out += "天</td> <td>", 
                $line = 306, $out += $escape(otherInCome.title), $out += '<input style="display: none;" type="text" name="title" reset="true" value="', 
                $line = 306, $out += $escape(otherInCome.title), $out += '" /></td> <td>', $line = 307, 
                $out += $escape(otherInCome.price), $out += '<input style="display: none;" type="text" name="price" value="', 
                $line = 307, $out += $escape(otherInCome.price), $out += '" /></td> <td>', $line = 308, 
                $out += $escape(otherInCome.count), $out += '<input style="display: none;" type="text" name="count" value="', 
                $line = 308, $out += $escape(otherInCome.count), $out += '" /></td> <td><span class="needPayMoney"></span></td> <td><a href="javascript:void(0);" url="', 
                $line = 310, $out += $escape(otherInCome.billImage), $out += '" class="btn-view">查看</a></td> <td>', 
                $line = 311, $out += $escape(otherInCome.remark), $out += "</td> </tr> ", $line = 313), 
                $out += " ", $line = 314;
            }), $out += ' </tbody> </table> </div> </div> </div> </div> <div class="col-sm-13 widget-container-col"> <div class="widget-box ui-sortable-handle"> <div class="widget-header"> <h5 class="widget-title"><i class="ace-icon fa fa-bus"></i>车费</h5> </div> <div class="widget-body"> <div class="widget-main"> <table class="table table-striped table-bordered table-hover" style="margin-top: 30px"> <thead> <tr> <th>车主</th> <th>车牌号</th> <th>座位数</th> <th>车费</th> <th>优惠</th> <th>应付</th> <th>已付</th> <th>导付</th> <th>单据</th> <th>差额</th> <th>导游报账备注</th> </tr> </thead> <tbody id="bus"> ', 
            $line = 347, $each(busCompanyArrange, function(busCompany) {
                $out += " ", $line = 348, null != busCompany && ($out += ' <tr busCompanyArrangeId="', 
                $line = 349, $out += $escape(busCompany.id), $out += '" > <td>', $line = 350, null != busCompany.busCompany && ($line = 350, 
                $out += $escape(busCompany.busCompany.companyName), $line = 350), $out += "</td> <td>", 
                $line = 351, null != busCompany.bus && ($line = 351, $out += $escape(busCompany.bus.licenseNumber), 
                $line = 351), $out += "</td> <td>", $line = 352, null != busCompany.bus && ($line = 352, 
                $out += $escape(busCompany.bus.seatCount), $line = 352), $out += "</td> <td>", $line = 353, 
                $out += $escape(busCompany.price), $out += '<input type="hidden" name="price" value="', 
                $line = 353, $out += $escape(busCompany.price), $out += '" /><input type="hidden" name="realCount" value="1" /></td> <td>', 
                $line = 354, $out += $escape(busCompany.reduceMoney), $out += '<input type="hidden" name="reduceMoney" value="', 
                $line = 354, $out += $escape(busCompany.reduceMoney), $out += '" /></td> <td><span class="needPayMoney">', 
                $line = 355, $out += $escape(busCompany.needPayMoney), $out += "</span></td> <td>", 
                $line = 356, $out += $escape(busCompany.payedMoney), $out += "</td> <td> ", $line = 358, 
                tripPlan.billStatus < 0 ? ($line = 358, $out += $escape(busCompany.guidePayMoney), 
                $line = 358) : ($line = 358, $out += $escape(busCompany.realGuidePayMoney), $line = 358), 
                $out += ' <input style="display: none;" type="text" name="realGuidePayMoney" value="', 
                $line = 359, $out += $escape(busCompany.realGuidePayMoney), $out += '" /> <input type="hidden" name="payedMoney" value="', 
                $line = 360, $out += $escape(busCompany.payedMoney), $out += '" /> <input type="hidden" name="guidePayMoney" value="', 
                $line = 361, $out += $escape(busCompany.guidePayMoney), $out += '" /></td> <td><a href="javascript:void(0);" url="', 
                $line = 362, $out += $escape(busCompany.billImage), $out += '" class="btn-view">查看</a></td> <td><span class="difference"></span></td> <td>', 
                $line = 364, $out += $escape(busCompany.billRemark), $out += "</td> </tr> ", $line = 366), 
                $out += " ", $line = 367;
            }), $out += ' </tbody> </table> </div> </div> </div> </div> <div class="col-sm-13 widget-container-col"> <div class="widget-box ui-sortable-handle"> <div class="widget-header"> <h5 class="widget-title"><i class="ace-icon fa fa-cutlery"></i>餐费</h5> </div> <div class="widget-body"> <div class="widget-main"> <table class="table table-striped table-bordered table-hover" style="margin-top: 30px"> <thead> <tr> <th>时间</th> <th>餐厅</th> <th>类型</th> <th>餐标</th> <th>人数</th> <th>优惠</th> <th>应付</th> <th>已付</th> <th>导付</th> <th>单据</th> <th>差额</th> <th>导游报账备注</th> </thead> <tbody id="restaurant"> ', 
            $line = 400, $each(dayList, function(day) {
                $out += " ", $line = 401, null != day.restaurantArrange && ($out += " ", $line = 402, 
                $each(day.restaurantArrange, function(arrangeList) {
                    $out += " ", $line = 403, $each(arrangeList.restaurantArrangeList, function(arrange, index) {
                        $out += " ", $line = 404, null != arrange && ($out += ' <tr restaurantArrangeId="', 
                        $line = 405, $out += $escape(arrange.id), $out += '" restaurantId="', $line = 405, 
                        null != arrange.restaurant && ($line = 405, $out += $escape(arrange.restaurant.id), 
                        $line = 405), $out += '" restaurantStandardId="', $line = 405, null != arrange.restaurantStandard && ($line = 405, 
                        $out += $escape(arrange.restaurantStandard.id), $line = 405), $out += '"> ', $line = 406, 
                        0 == index && ($out += '<td rowspan="', $line = 406, $out += $escape(arrangeList.restaurantArrangeList.length), 
                        $out += '">第', $line = 406, $out += $escape(arrange.whichDay), $out += "天</td>", 
                        $line = 406), $out += " ", $line = 407, 0 == index && ($out += '<td rowspan="', 
                        $line = 407, $out += $escape(arrangeList.restaurantArrangeList.length), $out += '">', 
                        $line = 407, null != arrange.restaurant && ($line = 407, $out += $escape(arrange.restaurant.name), 
                        $line = 407), $out += "</td>", $line = 407), $out += " <td>", $line = 408, null != arrange.restaurantStandard && ($line = 408, 
                        $out += $escape(arrange.restaurantStandard.type), $line = 408), $out += "</td> <td>", 
                        $line = 409, null != arrange.restaurantStandard && ($line = 409, $out += $escape(arrange.restaurantStandard.price), 
                        $out += '<input type="hidden" name="price" value="', $line = 409, $out += $escape(arrange.restaurantStandard.price), 
                        $out += '" />', $line = 409), $out += "</td> <td>", $line = 410, tripPlan.billStatus < 0 ? ($line = 410, 
                        $out += $escape(arrange.memberCount), $line = 410) : ($line = 410, $out += $escape(arrange.realCount), 
                        $line = 410), $out += '<input style="display: none;" type="text" name="realCount" value="', 
                        $line = 410, tripPlan.billStatus < 0 ? ($line = 410, $out += $escape(arrange.memberCount), 
                        $line = 410) : ($line = 410, $out += $escape(arrange.realCount), $line = 410), $out += '"/></td> <td>', 
                        $line = 411, $out += $escape(arrange.reduceMoney), $out += '<input type="hidden" name="reduceMoney" value="', 
                        $line = 411, $out += $escape(arrange.reduceMoney), $out += '" /></td> <td><span class="needPayMoney">', 
                        $line = 412, $out += $escape(arrange.needPayMoney), $out += "</span></td> <td>", 
                        $line = 413, $out += $escape(arrange.payedMoney), $out += "</td> <td> ", $line = 415, 
                        tripPlan.billStatus < 0 ? ($line = 415, $out += $escape(arrange.guidePayMoney), 
                        $line = 415) : ($line = 415, $out += $escape(arrange.realGuidePayMoney), $line = 415), 
                        $out += ' <input style="display: none;" type="text" name="realGuidePayMoney" value="', 
                        $line = 416, $out += $escape(arrange.realGuidePayMoney), $out += '" /> <input type="hidden" name="payedMoney" value="', 
                        $line = 417, $out += $escape(arrange.payedMoney), $out += '" /> <input type="hidden" name="guidePayMoney" value="', 
                        $line = 418, $out += $escape(arrange.guidePayMoney), $out += '" /></td> <td><a href="javascript:void(0);" url="', 
                        $line = 419, $out += $escape(arrange.billImage), $out += '" class="btn-view">查看</a></td> <td><span class="difference"></span></td> <td>', 
                        $line = 421, $out += $escape(arrange.billRemark), $out += "</td> </tr> ", $line = 423), 
                        $out += " ", $line = 424;
                    }), $out += " ", $line = 425;
                }), $out += " ", $line = 426), $out += " ", $line = 427;
            }), $out += ' </tbody> </table> </div> </div> </div> </div> <div class="col-sm-13 widget-container-col"> <div class="widget-box ui-sortable-handle"> <div class="widget-header"> <h5 class="widget-title"><i class="ace-icon fa fa-hotel"></i>房费</h5> </div> <div class="widget-body"> <div class="widget-main"> <table class="table table-striped table-bordered table-hover" style="margin-top: 30px"> <thead> <tr> <th>时间</th> <th>酒店</th> <th>房型</th> <th>单价</th> <th>间数</th> <th>优惠</th> <th>应付</th> <th>已付</th> <th>导付</th> <th>单据</th> <th>差额</th> <th>导游报账备注</th> </tr> </thead> <tbody id="hotelArrange"> ', 
            $line = 461, $each(dayList, function(day) {
                $out += " ", $line = 462, null != day.hotelArrange && ($out += " ", $line = 463, 
                $each(day.hotelArrange, function(arrangeList) {
                    $out += " ", $line = 464, $each(arrangeList.hotelArrangeList, function(arrange, index) {
                        $out += " ", $line = 465, null != arrange && ($out += ' <tr hotelArrangeId="', $line = 466, 
                        $out += $escape(arrange.id), $out += '" hotelId="', $line = 466, $out += $escape(arrange.hotel.id), 
                        $out += '" restaurantStandardId="', $line = 466, null != arrange.hotelRoom && ($line = 466, 
                        $out += $escape(arrange.hotelRoom.id), $line = 466), $out += '"> ', $line = 467, 
                        0 == index && ($out += '<td rowspan="', $line = 467, $out += $escape(arrangeList.hotelArrangeList.length), 
                        $out += '">第', $line = 467, $out += $escape(arrange.whichDay), $out += "天</td>", 
                        $line = 467), $out += " ", $line = 468, 0 == index && ($out += '<td rowspan="', 
                        $line = 468, $out += $escape(arrangeList.hotelArrangeList.length), $out += '">', 
                        $line = 468, null != arrange.hotel && ($line = 468, $out += $escape(arrange.hotel.name), 
                        $line = 468), $out += "</td>", $line = 468), $out += " <td>", $line = 469, null != arrange.hotelRoom && ($line = 469, 
                        $out += $escape(arrange.hotelRoom.type), $line = 469), $out += "</td> <td>", $line = 470, 
                        $out += $escape(arrange.price), $out += '<input type="hidden" name="price" value="', 
                        $line = 470, $out += $escape(arrange.price), $out += '" /></td> <td>', $line = 471, 
                        tripPlan.billStatus < 0 ? ($line = 471, $out += $escape(arrange.memberCount), $line = 471) : ($line = 471, 
                        $out += $escape(arrange.realCount), $line = 471), $out += '<input style="display: none;" type="text" name="realCount" value="', 
                        $line = 471, tripPlan.billStatus < 0 ? ($line = 471, $out += $escape(arrange.memberCount), 
                        $line = 471) : ($line = 471, $out += $escape(arrange.realCount), $line = 471), $out += '"/></td> <td>', 
                        $line = 472, $out += $escape(arrange.reduceMoney), $out += '<input type="hidden" name="reduceMoney" value="', 
                        $line = 472, $out += $escape(arrange.reduceMoney), $out += '" /></td> <td><span class="needPayMoney">', 
                        $line = 473, $out += $escape(arrange.needPayMoney), $out += "</span></td> <td>", 
                        $line = 474, $out += $escape(arrange.payedMoney), $out += "</td> <td> ", $line = 476, 
                        tripPlan.billStatus < 0 ? ($line = 476, $out += $escape(arrange.guidePayMoney), 
                        $line = 476) : ($line = 476, $out += $escape(arrange.realGuidePayMoney), $line = 476), 
                        $out += ' <input style="display: none;" type="text" name="realGuidePayMoney" value="', 
                        $line = 477, $out += $escape(arrange.realGuidePayMoney), $out += '" /> <input type="hidden" name="payedMoney" value="', 
                        $line = 478, $out += $escape(arrange.payedMoney), $out += '" /> <input type="hidden" name="guidePayMoney" value="', 
                        $line = 479, $out += $escape(arrange.guidePayMoney), $out += '" /></td> <td><a href="javascript:void(0);" url="', 
                        $line = 480, $out += $escape(arrange.billImage), $out += '" class="btn-view">查看</a></td> <td><span class="difference"></span></td> <td>', 
                        $line = 482, $out += $escape(arrange.billRemark), $out += "</td> </tr> ", $line = 484), 
                        $out += " ", $line = 485;
                    }), $out += " ", $line = 486;
                }), $out += " ", $line = 487), $out += " ", $line = 488;
            }), $out += ' </tbody> </table> </div> </div> </div> </div> <div class="col-sm-13 widget-container-col"> <div class="widget-box ui-sortable-handle"> <div class="widget-header"> <h5 class="widget-title"><i class="ace-icon fa fa-tree"></i>景区</h5> </div> <div class="widget-body"> <div class="widget-main"> <table class="table table-striped table-bordered table-hover" style="margin-top: 30px"> <thead> <tr> <th>时间</th> <th>景区</th> <th>收费项目</th> <th>单价</th> <th>数量</th> <th>优惠</th> <th>应付</th> <th>已付</th> <th>导付</th> <th>单据</th> <th>差额</th> <th>导游报账备注</th> </tr> </thead> <tbody id="scenic"> ', 
            $line = 523, $each(dayList, function(day) {
                $out += " ", $line = 524, null != day.scenicArrange && ($out += " ", $line = 525, 
                $each(day.scenicArrange, function(arrangeList) {
                    $out += " ", $line = 526, $each(arrangeList.scenicArrangeList, function(arrange, index) {
                        $out += " ", $line = 527, null != arrange && ($out += ' <tr scenicArrangeId="', 
                        $line = 528, $out += $escape(arrange.id), $out += '" scenicId="', $line = 528, $out += $escape(arrange.scenicId), 
                        $out += '" scenicItemId="', $line = 528, $out += $escape(arrange.hotelRoomId), $out += '"> ', 
                        $line = 529, 0 == index && ($out += '<td rowspan="', $line = 529, $out += $escape(arrangeList.scenicArrangeList.length), 
                        $out += '">第', $line = 529, $out += $escape(arrange.whichDay), $out += "天</td>", 
                        $line = 529), $out += " ", $line = 530, 0 == index && ($out += '<td rowspan="', 
                        $line = 530, $out += $escape(arrangeList.scenicArrangeList.length), $out += '">', 
                        $line = 530, null != arrange.scenic && ($line = 530, $out += $escape(arrange.scenic.name), 
                        $line = 530), $out += "</td>", $line = 530), $out += " <td>", $line = 531, null != arrange.scenicItem && ($line = 531, 
                        $out += $escape(arrange.scenicItem.name), $line = 531), $out += "</td> <td>", $line = 532, 
                        $out += $escape(arrange.price), $out += '<input type="hidden" name="price" value="', 
                        $line = 532, $out += $escape(arrange.price), $out += '" /></td> <td>', $line = 533, 
                        tripPlan.billStatus < 0 ? ($line = 533, $out += $escape(arrange.memberCount), $line = 533) : ($line = 533, 
                        $out += $escape(arrange.realCount), $line = 533), $out += '<input style="display: none;" type="text" name="realCount" value="', 
                        $line = 533, tripPlan.billStatus < 0 ? ($line = 533, $out += $escape(arrange.memberCount), 
                        $line = 533) : ($line = 533, $out += $escape(arrange.realCount), $line = 533), $out += '"/></td> <td>', 
                        $line = 534, $out += $escape(arrange.reduceMoney), $out += '<input type="hidden" name="reduceMoney" value="', 
                        $line = 534, $out += $escape(arrange.reduceMoney), $out += '" /></td> <td><span class="needPayMoney">', 
                        $line = 535, $out += $escape(arrange.needPayMoney), $out += "</span></td> <td>", 
                        $line = 536, $out += $escape(arrange.payedMoney), $out += "</td> <td> ", $line = 538, 
                        tripPlan.billStatus < 0 ? ($line = 538, $out += $escape(arrange.guidePayMoney), 
                        $line = 538) : ($line = 538, $out += $escape(arrange.realGuidePayMoney), $line = 538), 
                        $out += ' <input style="display: none;" type="text" name="realGuidePayMoney" value="', 
                        $line = 539, $out += $escape(arrange.realGuidePayMoney), $out += '" /> <input type="hidden" name="payedMoney" value="', 
                        $line = 540, $out += $escape(arrange.payedMoney), $out += '" /> <input type="hidden" name="guidePayMoney" value="', 
                        $line = 541, $out += $escape(arrange.guidePayMoney), $out += '" /></td> <td><a href="javascript:void(0);" url="', 
                        $line = 542, $out += $escape(arrange.billImage), $out += '" class="btn-view">查看</a></td> <td><span class="difference"></span></td> <td>', 
                        $line = 544, $out += $escape(arrange.billRemark), $out += "</td> </tr> ", $line = 546), 
                        $out += " ", $line = 547;
                    }), $out += " ", $line = 548;
                }), $out += " ", $line = 549), $out += " ", $line = 550;
            }), $out += ' </tbody> </table> </div> </div> </div> </div> <div class="col-sm-13 widget-container-col"> <div class="widget-box ui-sortable-handle"> <div class="widget-header"> <h5 class="widget-title"><i class="ace-icon fa fa-car"></i>票务</h5> </div> <div class="widget-body"> <div class="widget-main"> <table class="table table-striped table-bordered table-hover" style="margin-top: 30px"> <thead> <tr> <th>票务商家</th> <th>类型</th> <th>日期</th> <th>出发地</th> <th>目的地</th> <th>座席</th> <th>单价</th> <th>数量</th> <th>优惠</th> <th>应付</th> <th>已付</th> <th>导付</th> <th>单据</th> <th>差额</th> <th>导游报账备注</th> </tr> </thead> <tbody id="ticket"> ', 
            $line = 588, $each(ticketArrangeList, function(ticketArrange) {
                $out += " ", $line = 589, $each(ticketArrange.ticketArrangeList, function(arrange, index) {
                    $out += ' <tr ticketArrangeId="', $line = 590, $out += $escape(arrange.id), $out += '" ticketId="', 
                    $line = 590, $out += $escape(arrange.ticket.id), $out += '" itemId="', $line = 590, 
                    $out += $escape(arrange.id), $out += '"> ', $line = 591, 0 == index && ($out += '<td rowspan="', 
                    $line = 591, $out += $escape(ticketArrange.ticketArrangeList.length), $out += '">', 
                    $line = 591, null != arrange.ticket && ($line = 591, $out += $escape(arrange.ticket.name), 
                    $line = 591), $out += "</td>", $line = 591), $out += " ", $line = 592, 0 == index && ($out += '<td rowspan="', 
                    $line = 592, $out += $escape(ticketArrange.ticketArrangeList.length), $out += '">', 
                    $line = 592, 1 == arrange.type ? ($out += "机票", $line = 592) : 2 == arrange.type ? ($out += "汽车票", 
                    $line = 592) : 3 == arrange.type ? ($out += "火车票", $line = 592) : 4 == arrange.type && ($out += "轮船票", 
                    $line = 592), $out += "</td>", $line = 592), $out += " ", $line = 593, 0 == index && ($out += '<td rowspan="', 
                    $line = 593, $out += $escape(ticketArrange.ticketArrangeList.length), $out += '">', 
                    $line = 593, $out += $escape(arrange.startTime), $out += "</td>", $line = 593), 
                    $out += " ", $line = 594, 0 == index && ($out += '<td rowspan="', $line = 594, $out += $escape(ticketArrange.ticketArrangeList.length), 
                    $out += '">', $line = 594, $out += $escape(arrange.startingCity), $out += "</td>", 
                    $line = 594), $out += " ", $line = 595, 0 == index && ($out += '<td rowspan="', 
                    $line = 595, $out += $escape(ticketArrange.ticketArrangeList.length), $out += '">', 
                    $line = 595, $out += $escape(arrange.arriveCity), $out += "</td>", $line = 595), 
                    $out += " <td>", $line = 596, $out += $escape(arrange.seatLevel), $out += "</td> <td><span>", 
                    $line = 597, $out += $escape(arrange.price), $out += '</span><input type="hidden" name="price" value="', 
                    $line = 597, $out += $escape(arrange.price), $out += '" /></td> <td>', $line = 598, 
                    tripPlan.billStatus < 0 ? ($line = 598, $out += $escape(arrange.memberCount), $line = 598) : ($line = 598, 
                    $out += $escape(arrange.realCount), $line = 598), $out += '<input style="display: none;" name="realCount" type="text" value="', 
                    $line = 598, tripPlan.billStatus < 0 ? ($line = 598, $out += $escape(arrange.memberCount), 
                    $line = 598) : ($line = 598, $out += $escape(arrange.realCount), $line = 598), $out += '"/></td> <td>', 
                    $line = 599, $out += $escape(arrange.reduceMoney), $out += '<input type="hidden" name="reduceMoney" value="', 
                    $line = 599, $out += $escape(arrange.reduceMoney), $out += '" /></td> <td><span class="needPayMoney">', 
                    $line = 600, $out += $escape(arrange.needPayMoney), $out += "</span></td> <td>", 
                    $line = 601, $out += $escape(arrange.payedMoney), $out += "</td> <td> ", $line = 603, 
                    tripPlan.billStatus < 0 ? ($line = 603, $out += $escape(arrange.guidePayMoney), 
                    $line = 603) : ($line = 603, $out += $escape(arrange.realGuidePayMoney), $line = 603), 
                    $out += ' <input style="display: none;" type="text" name="realGuidePayMoney" value="', 
                    $line = 604, $out += $escape(arrange.realGuidePayMoney), $out += '" /> <input type="hidden" name="payedMoney" value="', 
                    $line = 605, $out += $escape(arrange.payedMoney), $out += '" /> <input type="hidden" name="guidePayMoney" value="', 
                    $line = 606, $out += $escape(arrange.guidePayMoney), $out += '" /></td> <td><a href="javascript:void(0);" url="', 
                    $line = 607, $out += $escape(arrange.billImage), $out += '" class="btn-view">查看</a></td> <td><span class="difference"></span></td> <td>', 
                    $line = 609, $out += $escape(arrange.billRemark), $out += "</td> </tr> ", $line = 611;
                }), $out += " ", $line = 612;
            }), $out += ' </tbody> </table> </div> </div> </div> </div> <div class="col-sm-13 widget-container-col"> <div class="widget-box ui-sortable-handle"> <div class="widget-header"> <h5 class="widget-title"><i class="ace-icon fa fa-smile-o"></i>其他支出</h5> </div> <div class="widget-body"> <div class="widget-main"> <table class="table table-striped table-bordered table-hover" style="margin-top: 30px"> <thead> <tr> <th>时间</th> <th>项目</th> <th>单价</th> <th>数量</th> <th>优惠</th> <th>应付</th> <th>已付</th> <th>导付</th> <th>单据</th> <th>差额</th> <th>导游报账备注</th> </tr> </thead> <tbody id="other"> ', 
            $line = 649, $each(dayList, function(day) {
                $out += " ", $line = 650, null != day.otherArrange && ($out += " ", $line = 651, 
                $each(day.otherArrange, function(arrange) {
                    $out += " ", $line = 652, null != arrange && ($out += ' <tr otherArrangeId="', $line = 653, 
                    $out += $escape(arrange.id), $out += '"> <td>第', $line = 654, $out += $escape(arrange.whichDay), 
                    $out += "天</td> <td>", $line = 655, $out += $escape(arrange.name), $out += "</td> <td>", 
                    $line = 656, $out += $escape(arrange.price), $out += '<input type="hidden" name="price" value="', 
                    $line = 656, $out += $escape(arrange.price), $out += '" /></td> <td>', $line = 657, 
                    tripPlan.billStatus < 0 ? ($line = 657, $out += $escape(arrange.memberCount), $line = 657) : ($line = 657, 
                    $out += $escape(arrange.realCount), $line = 657), $out += '<input style="display: none;" type="text" name="realCount" value="', 
                    $line = 657, tripPlan.billStatus < 0 ? ($line = 657, $out += $escape(arrange.memberCount), 
                    $line = 657) : ($line = 657, $out += $escape(arrange.realCount), $line = 657), $out += '"/></td> <td>', 
                    $line = 658, $out += $escape(arrange.reduceMoney), $out += '<input type="hidden" name="reduceMoney" value="', 
                    $line = 658, $out += $escape(arrange.reduceMoney), $out += '" /></td> <td><span class="needPayMoney">', 
                    $line = 659, $out += $escape(arrange.needPayMoney), $out += "</span></td> <td>", 
                    $line = 660, $out += $escape(arrange.payedMoney), $out += "</td> <td> ", $line = 662, 
                    tripPlan.billStatus < 0 ? ($line = 662, $out += $escape(arrange.guidePayMoney), 
                    $line = 662) : ($line = 662, $out += $escape(arrange.realGuidePayMoney), $line = 662), 
                    $out += ' <input style="display: none;" type="text" name="realGuidePayMoney" value="', 
                    $line = 663, $out += $escape(arrange.realGuidePayMoney), $out += '" /> <input type="hidden" name="payedMoney" value="', 
                    $line = 664, $out += $escape(arrange.payedMoney), $out += '" /> <input type="hidden" name="guidePayMoney" value="', 
                    $line = 665, $out += $escape(arrange.guidePayMoney), $out += '" /></td> <td><a href="javascript:void(0);" url="', 
                    $line = 666, $out += $escape(arrange.billImage), $out += '" class="btn-view">查看</a></td> <td><span class="difference"></span></td> <td>', 
                    $line = 668, $out += $escape(arrange.billRemark), $out += "</td> </tr> ", $line = 670), 
                    $out += " ", $line = 671;
                }), $out += " ", $line = 672), $out += " ", $line = 673;
            }), $out += " </tbody> </table> </div> </div> </div> </div> ", $line = 681, null != touristGroup && ($out += ' <div class="col-sm-13 widget-container-col"> <div class="widget-box ui-sortable-handle"> <div class="widget-header"> <h5 class="widget-title"><i class="ace-icon fa fa-exchange"></i>中转</h5> </div> <div class="widget-body"> <div class="widget-main"> <table class="table table-striped table-bordered table-hover" style="margin-top: 30px"> <thead> <tr> <th>接团</th> <th>小车</th> <th>送团</th> <th>明细</th> </tr> </thead> <tbody> <tr> <td>', 
            $line = 700, $out += $escape(touristGroup.outCarMoney), $out += "</td> <td>", $line = 701, 
            $out += $escape(touristGroup.outReciveMoney), $out += "</td> <td>", $line = 702, 
            $out += $escape(touristGroup.outSendMoney), $out += '</td> <td><a href="javascript:void(0);" data-entity-id="', 
            $line = 703, $out += $escape(tripPlan.id), $out += '" class="btn-viewTripTransit">查看</a></td> </tr> </tbody> </table> </div> </div> </div> </div> ', 
            $line = 711), $out += ' <div style="height:30px;"></div> </div>', new String($out);
        } catch (e) {
            throw {
                filename: $filename,
                name: "Render Error",
                message: e.message,
                line: $line,
                source: '<div class="col-sm-12 financialTripDetail">\r\n	<div>\r\n		<button data-entity-id="{{tripPlan.id}}" class="btn btn-xs btn-success btn-transfter btn-download" style="margin: 0px 10px 20px 0px;width:110px;height:35px;float: right;display: none;">\r\n			<i class="ace-icon fa fa-file-excel-o"></i>导出电子表格\r\n		</button>\r\n	</div>\r\n    <div class="col-xs-12 border">\r\n        <form class="form-horizontal" role="form" onsubmit="return false">\r\n            <div class="search-area  editable editable-click" style="margin-top: 10px;cursor: default;">\r\n                <div class="form-group">\r\n                    <label class="col-sm-3" style="font-weight: bold;">线路: {{tripPlan.lineProduct.name}}</label>\r\n                    <label class="col-sm-2" style="font-weight: bold;">类别: {{tripPlan.lineProduct.type}}</label>\r\n                    <label class="col-sm-2" style="font-weight: bold;">应用范围: {{if tripPlan.lineProduct.customerType == 1}}团体{{else if tripPlan.lineProduct.customerType == 0}}散客{{/if}}</label>\r\n                    <label class="col-sm-2" style="font-weight: bold;">天数: {{tripPlan.lineProduct.days}}</label>\r\n                </div>\r\n            </div>\r\n        </form> \r\n \r\n        <form class="form-horizontal" role="form" onsubmit="return false">\r\n            <div class="search-area  editable editable-click" style="margin-top: 10px;cursor: default;">\r\n                <div class="form-group">\r\n                    <label class="col-sm-3" style="font-weight: bold;">团号：{{tripPlan.tripNumber}}</label>\r\n                    <label class="col-sm-2" style="font-weight: bold;">出团日期：{{tripPlan.startTime | dateFormat:\'yyyy-MM-dd\'}}</label>\r\n                    <label class="col-sm-2" style="font-weight: bold;">完团日期：{{tripPlan.endTime | dateFormat:\'yyyy-MM-dd\'}}</label>\r\n                    <label class="col-sm-2" style="font-weight: bold;">团队人数：{{tripPlan.touristAdultCount}}大{{tripPlan.touristChildCount}}小</label>\r\n                </div>\r\n            </div>\r\n        </form>\r\n        <form class="form-horizontal" role="form" onsubmit="return false">\r\n            <div class="search-area  editable editable-click" style="margin-top: 10px;border-bottom:0px;cursor: default;">\r\n                <div class="form-group">\r\n                    <label class="col-sm-3" style="font-weight: bold;">导游：{{if tripPlan.guide != null}}{{tripPlan.guide.realname}}{{/if}}</label>\r\n                    <label class="col-sm-2" style="font-weight: bold;">全陪：{{tripPlan.accompanyGuideName}}</label>\r\n                    <label class="col-sm-2" style="font-weight: bold;"></label>\r\n                    <label class="col-sm-2" style="font-weight: bold;"></label>\r\n                </div>\r\n            </div>\r\n        </form>\r\n    </div>\r\n    <div  class="col-sm-12 " style="margin: 20px 0px 20px 0px;">\r\n        <div style="float: left">\r\n        	\r\n        </div>\r\n        <div style="width:60%;float:right;"><div> \r\n            <label style="margin:5px 0px 0px 0px;">财务审核批注：</label>\r\n            <input name="accountFinancialCheckComment" {{if user.roleType != 2 }}readonly="readonly"{{/if}} {{if user.roleType == 2 && tripPlan.billStatus != 1 }}readonly="readonly"{{/if}} type="text" style="width:30%;" value="{{if tripPlan.financialCheckRemark != null}}{{tripPlan.financialCheckRemark}}{{/if}}" />\r\n			\r\n            <label style="margin:5px 0px 0px 10px;">计调审核批注：</label>\r\n            <input name="accountOPCheckComment" {{if user.roleType != 3 }}readonly="readonly"{{/if}} {{if user.roleType == 3 && tripPlan.billStatus != 0 }}readonly="readonly"{{/if}} type="text" style="width:30%;" value="{{if tripPlan.opCheckRemark != null}}{{tripPlan.opCheckRemark}}{{/if}}" />\r\n        </div>\r\n        </div><div style="clear: both;"></div>\r\n    </div>\r\n    <table class="table table-striped table-bordered table-hover all main-table" style="margin-top: 30px;">\r\n        <tbody>\r\n        <tr >\r\n            <td colspan="7">\r\n            <div style="float: left;margin-left:10px;">\r\n            	<input type="hidden" class="financial-tripPlanId" value="{{tripPlan.id}}" />\r\n            	<input type="hidden" class="tripPlanAdultCount" value="{{tripPlan.touristAdultCount}}" />\r\n            	<input type="hidden" class="tripPlanChildCount" value="{{tripPlan.touristChildCount}}" />\r\n            	\r\n            	<label style="margin-left:50px;font-weight: bold;">毛利：<span class="grossProfitMoney"></span></label>\r\n            	<label style="margin-left:50px;font-weight: bold;">人均毛利：<span class="perGrossProfitMoney"></span></label>\r\n           	</div></td> \r\n        </tr>\r\n        <tr >\r\n            <td colspan="2"><label style="font-weight: bold;">收入：<span class="tripIncome"></span></label></td>\r\n            <td colspan="3"><label style="font-weight: bold;">团成本：<span class="tripCost"></span></label></td>\r\n            <td><label style="font-weight: bold;">其他：<span class="tripOther"></span></label></td>\r\n            <td><label style="font-weight: bold;">中转成本：<span class="tripTransitCost"></span></label></td>\r\n\r\n        </tr>\r\n\r\n        <tr>\r\n            <td><label>应收团款：<span class="tripIncome-getAllMoney">{{touristGroup.needPayAllMoney}}</span></label></td>\r\n            <td><label>自费返佣：<span class="tripIncome-selfPayTravelAgencyRebateMoney"></span></label></td>\r\n            <td><label>导服费：<span class="tripCost-guideArrangePrice">{{guideArrange.price}}</span></label></td>\r\n            <td><label>保险：<span class="tripCost-insuranceArrangeNeedPayMoney">{{insuranceArrange.needPayMoney}}</span></label></td>\r\n            <td><label>车费：<span class="tripCost-busCompanyNeedPayMoney"></span></label></td>\r\n            <td><label>导游管理费：<span class="tripOther-guideArrangeManageFee">{{guideArrange.manageFee}}</span></label></td>\r\n            <td><label>车费：<span class="tripTransitCost-busCompanyNeedPayMoney">{{touristGroup.outBusMoney}}</span></label></td>\r\n\r\n        </tr>\r\n        <tr> \r\n            <td><label>购物返佣：<span class="tripIncome-shopTravelAgencyRateMoney"></span></label></td>\r\n            <td><label>其他收入：<span class="tripIncome-otherInCome"></span></label></td>\r\n            <td><label>餐费：<span class="tripCost-restaurantArrangeNeedPayMoney"></span></label></td>\r\n            <td><label>房费：<span class="tripCost-hotelArrangeNeedPayMoney"></span></label></td>\r\n            <td><label>景区费用：<span class="tripCost-scenicArrangeNeedPayMoney"></span></label></td>\r\n            <td><label>导游预支金额：<span class="tripOther-guideAllPreMoney">{{tripPlan.guideAllPreMoney}}</span></label></td>\r\n            <td><label>房费：<span class="tripTransitCost-hotelArrangeNeedPayMoney">{{touristGroup.outHotelMoney}}</span></label></td>\r\n        </tr>\r\n        <tr>\r\n            <td></td>\r\n            <td></td>\r\n            <td><label>票务费用：<span class="tripCost-ticketArrangeNeedPayMoney"></span></label></td>\r\n            <td><label>其他费用：<span class="tripCost-otherArrangeNeedPayMoney"></span></label></td>\r\n            <td><label style="display: none;">地接费用：<span class="tripCost-groundArrangeNeedPayMoney"></span></label></td>\r\n            <td></td>\r\n            <td><label>票务费用：<span class="tripTransitCost-ticketArrangeNeedPayMoney">{{touristGroup.outTicketMoney}}</span></label></td>\r\n        </tr>\r\n        </tbody>\r\n    </table>\r\n    <input type="hidden" value="{{WEB_IMG_URL_BIG}}" name="WEB_IMG_URL_BIG" />\r\n    <input type="hidden" value="{{WEB_IMG_URL_SMALL}}" name="WEB_IMG_URL_SMALL" />\r\n    <div class="col-sm-13 widget-container-col"> \r\n        <div class="widget-box ui-sortable-handle">\r\n            <div class="widget-header">\r\n                <h5 class="widget-title"><i class="ace-icon fa fa-sitemap"></i>团款</h5>\r\n            </div>\r\n            <div class="widget-body">\r\n                <div class="widget-main">\r\n                        <table class="table table-striped table-bordered table-hover" style="margin-top: 30px">\r\n                            <tbody>\r\n                            <tr>\r\n                                <td>应收</td>\r\n                                <td>已收</td>\r\n                                <td>现收</td>\r\n                                <td>明细</td>\r\n                            <tr>\r\n                                <td><span class="">{{touristGroup.needPayAllMoney}}</span></td>\r\n                                <td><span class="">{{touristGroup.payedMoney}}</span></td>\r\n                                <td><span class="">{{touristGroup.currentNeedPayMoney}}</span></td>\r\n                                <td><a href="javascript:void(0);" data-entity-id="{{tripPlan.id}}" class="btn-viewGroupDetail">查看</a></td>\r\n                            </tr>\r\n                            </tbody>\r\n                        </table>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n	<div class="col-sm-13 widget-container-col">\r\n		<div style="float: right; margin: 10px 20px 10px 0px;"><a href="javascript:void(0);" class="btn-financialLog">操作记录</a></div><div style="clear:both;"></div>\r\n  		<div style="float: right; margin: 20px 20px 20px 0px;"><a href="javascript:void(0);" class="btn-tripPlanArrange">安排预算表</a></div><div style="clear:both;"></div>\r\n	</div>\r\n    <div class="col-sm-13 widget-container-col">\r\n        <div class="widget-box ui-sortable-handle">\r\n            <div class="widget-header">\r\n                <h5 class="widget-title"><i class="ace-icon fa fa-shopping-cart"></i>购物</h5>\r\n            </div>\r\n            <div class="widget-body">\r\n                <div class="widget-main">\r\n                    <table class="table table-striped table-bordered table-hover" style="margin-top: 30px">\r\n                        <thead>\r\n                        <tr>\r\n                            <th colspan="6">打单</th>\r\n                            <th colspan="2">社佣</th>\r\n                            <th colspan="2">导佣</th>\r\n                            <th rowspan="2">人数返佣</th>\r\n                            <th rowspan="2">停车返佣</th>\r\n                            <th rowspan="2">导游报账备注</th>\r\n                        </tr>\r\n                        <tr>\r\n                          <th>时间</th>\r\n                          <th>购物店</th>\r\n                          <th>商品</th>\r\n                          <th>金额</th>\r\n                          <th>单据</th>\r\n                          <th>总金额</th>\r\n                          <th>比例%</th>\r\n                          <th>返佣</th>\r\n                          <th>比例%</th>\r\n                          <th>返佣</th>\r\n                        </tr></thead>\r\n                        <tbody id="shopping"> \r\n                        {{each dayList as day}}\r\n                        {{if day.shopArrange != null}}\r\n                        {{each day.shopArrange as shopArrangeList}}\r\n                        {{each shopArrangeList.shopArrangePolicy as arrange index}}\r\n                        {{if arrange != null}}\r\n                        <tr shopArrangeId="{{arrange.id}}" shopId="{{arrange.whichDay}}_{{arrange.shopId}}">\r\n                        	{{if index==0}}<td rowspan="{{shopArrangeList.shopArrangePolicy.length}}">第{{arrange.whichDay}}天</td>{{/if}}\r\n                        	{{if index==0}}<td rowspan="{{shopArrangeList.shopArrangePolicy.length}}">{{if arrange.shop != null}}{{arrange.shop.name}}{{/if}}</td>{{/if}}\r\n                        	<td>{{if arrange.shopPolicy != null}}{{arrange.shopPolicy.name}}{{/if}}</td>\r\n		                   	<td>{{arrange.consumeMoney}}<input name="consumeMoney" type="hidden" value="{{arrange.consumeMoney}}" /></td>\r\n		                    <td><a href="javascript:void(0);" url="{{arrange.billImage}}" class="btn-view">查看</a></td>\r\n		                    {{if index == 0 }}<td rowspan="{{shopArrangeList.shopArrangePolicy.length}}"><span class="sumMoney{{arrange.whichDay}}_{{arrange.shopId}}"></span></td>{{/if}}\r\n		                    <td>{{arrange.travelAgencyRate*100 | parseInt}}<input name="travelAgencyRate" style="display: none;" type="text" value="{{arrange.travelAgencyRate*100}}" /></td>\r\n		                    <td><span>{{arrange.travelAgencyRateMoney}}</span><input type="hidden" name="travelAgencyRateMoney" value="{{arrange.travelAgencyRateMoney}}" /></td>\r\n		                    <td>{{arrange.guideRate*100 | parseInt}}<input name="guideRate" style="display: none;" type="text" value="{{arrange.guideRate*100}}" /></td>\r\n		                    <td><span>{{arrange.guideRateMoney}}</span><input type="hidden" name="guideRateMoney" value="{{arrange.guideRateMoney}}" /></td>\r\n		                    {{if index == 0 }}<td rowspan="{{shopArrangeList.shopArrangePolicy.length}}" class="sumCustomerRebateMoney">{{if arrange.customerRebateMoney < 1}}{{arrange.shop.customerRebateMoney}}{{else}}{{arrange.customerRebateMoney}}{{/if}}</td>{{/if}}\r\n		                    {{if index == 0 }}<td rowspan="{{shopArrangeList.shopArrangePolicy.length}}" class="sumParkingRebateMoney">{{if arrange.parkingRebateMoney < 1}}{{arrange.shop.parkingRebateMoney}}{{else}}{{arrange.parkingRebateMoney}}{{/if}}</td>{{/if}}\r\n		                    <td>{{arrange.billRemark}}</td>\r\n                        </tr>\r\n                        {{/if}}\r\n                        {{/each}}\r\n                        {{/each}}\r\n                        {{/if}}\r\n                        {{/each}}\r\n                        </tbody>\r\n                    </table>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n\r\n\r\n	<div class="col-sm-13 widget-container-col">\r\n        <div class="widget-box ui-sortable-handle">\r\n            <div class="widget-header">\r\n                <h5 class="widget-title"><i class="ace-icon fa fa-credit-card"></i>自费</h5>\r\n            </div>\r\n            <div class="widget-body">\r\n                <div class="widget-main">\r\n                    <table class="table table-striped table-bordered table-hover" style="margin-top: 30px">\r\n                        <thead>\r\n                        <tr>\r\n                            <th colspan="12">消费</th>\r\n                            <th colspan="2">社佣</th>\r\n                            <th colspan="2">导佣</th>\r\n                            <th rowspan="2">导游报账备注</th>\r\n                        </tr>\r\n                        <tr>\r\n                          <th>时间</th>\r\n                          <th>自费商家</th>\r\n                          <th>项目</th>\r\n                          <th>单价</th>\r\n                          <th>底价</th>\r\n                          <th>数量</th>\r\n                          <th>优惠</th>\r\n                          <th>应付</th>\r\n                          <th>已付</th>\r\n                          <th>导付</th>\r\n                          <th>现收</th>\r\n                          <th>单据</th>\r\n                          <th>比例%</th>\r\n                          <th>返佣</th>\r\n                          <th>比例%</th>\r\n                          <th>返佣</th>\r\n                        </tr></thead>\r\n                        <tbody id="selfPay">\r\n                        {{each dayList as day}}\r\n                        {{if day.selfPayArrange != null}}\r\n                        {{each day.selfPayArrange as arrangeList}}\r\n                        {{each arrangeList.selfPayArrangeList as arrange index}}\r\n                        {{if arrange != null}}\r\n                        <tr selfPayArrangeId="{{arrange.id}}" selfPayId="{{arrange.selfPayId}}">\r\n                        		{{if index == 0 }}<td rowspan="{{arrangeList.selfPayArrangeList.length}}">第{{arrange.whichDay}}天</td>{{/if}}\r\n                        		{{if index == 0 }}<td rowspan="{{arrangeList.selfPayArrangeList.length}}">{{if arrange.selfPay != null}}{{arrange.selfPay.name}}{{/if}}</td>{{/if}}\r\n                        		<td>{{if arrange.selfPayItem != null }}{{arrange.selfPayItem.name}}{{/if}}</td>\r\n                        		<td>{{arrange.marketPrice}}<input type="hidden" name="marketPrice" value="{{arrange.marketPrice}}" /></td>\r\n                        		<td>{{arrange.price}}<input type="hidden" name="price" value="{{arrange.price}}" /></td>\r\n                        		<td>{{if tripPlan.billStatus < 0}}{{arrange.memberCount}}{{else}}{{arrange.realCount}}{{/if}}<input type="hidden" name="realCount" value="{{if tripPlan.billStatus < 0}}{{arrange.memberCount}}{{else}}{{arrange.realCount}}{{/if}}" /><input type="hidden" name="memberCount" value="{{arrange.memberCount}}" /></td>\r\n	                        	<td>{{arrange.reduceMoney}}<input type="hidden" name="reduceMoney" value="{{arrange.reduceMoney}}" /></td>\r\n	                        	<td><span class="needPayMoney">{{arrange.needPayMoney}}</span></td>\r\n	                        	<td>{{arrange.payedMoney}}</td> \r\n	                        	<td>\r\n	                        		{{if tripPlan.billStatus < 0}}{{arrange.guidePayMoney}}{{else}}{{arrange.realGuidePayMoney}}{{/if}}\r\n	                        		<input style="display: none;" type="text" name="realGuidePayMoney" value="{{arrange.realGuidePayMoney}}" />\r\n	                        		<input type="hidden" name="payedMoney" value="{{arrange.payedMoney}}" />\r\n	                        		<input type="hidden" name="guidePayMoney" value="{{arrange.guidePayMoney}}" />\r\n	                        		</td>\r\n	                        	<td>{{arrange.realGetMoney}}</td>\r\n	                        	<td><a href="javascript:void(0);" url="{{arrange.billImage}}" class="btn-view">查看</a></td>\r\n	                        	<td>\r\n	                        		<span class="travelAgencyRate">{{arrange.travelAgencyRate*100 | parseInt}}</span>\r\n	                        		<input type="hidden" name="travelAgencyRate" value="{{arrange.travelAgencyRate*100 | parseInt}}" /></td>\r\n	                        	<td>\r\n	                        		<span class="travelAgencyRebateMoney">{{arrange.travelAgencyRebateMoney}}</span>\r\n	                        		<input type="hidden" name="travelAgencyRebateMoney" value="{{arrange.travelAgencyRebateMoney}}" /></td>\r\n	                        	<td>\r\n	                        		<span class="guideRate">{{arrange.guideRate*100 | parseInt}}</span>\r\n	                        		<input type="hidden" name="guideRate" value="{{arrange.guideRate*100 | parseInt}}" /></td>\r\n	                        	<td>\r\n	                        		<span class="guideRebateMoney">{{arrange.guideRebateMoney}}</span>\r\n	                        		<input type="hidden" name="guideRebateMoney" value="{{arrange.guideRebateMoney}}" /></td>\r\n	                        	<td>{{arrange.billRemark}}</td>\r\n                        </tr>\r\n                        {{/if}}\r\n                        {{/each}}\r\n                        {{/each}}\r\n                        {{/if}}\r\n                        {{/each}}\r\n                        </tbody>\r\n                    </table>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n    \r\n    <div class="col-sm-13 widget-container-col">\r\n        <div class="widget-box ui-sortable-handle">\r\n            <div class="widget-header">\r\n                <h5 class="widget-title"><i class="ace-icon fa fa-line-chart"></i>其他收入</h5>\r\n            </div>\r\n            <div class="widget-body">\r\n                <div class="widget-main">\r\n                    <table class="table table-striped table-bordered table-hover" style="margin-top: 30px">\r\n                        <thead>\r\n                        <tr>\r\n                            <th>时间</th>\r\n                            <th>项目</th>\r\n                            <th>单价</th>\r\n                            <th>数量</th>\r\n                            <th>金额</th>\r\n                            <th>单据</th>\r\n                            <th>导游报账备注</th>\r\n                        </tr>\r\n                        </thead>\r\n                        <tbody id="otherIn">\r\n                        {{each arrangeIncomePaymentList as otherInCome}}\r\n                        {{if otherInCome != null}}\r\n                        <tr otherInId="{{otherInCome.id}}" otherIn="{{otherInCome.id}}">\r\n                        	<td>第{{otherInCome.whichDay}}天</td>\r\n                        	<td>{{otherInCome.title}}<input style="display: none;" type="text" name="title" reset="true" value="{{otherInCome.title}}" /></td>\r\n                        	<td>{{otherInCome.price}}<input style="display: none;" type="text" name="price" value="{{otherInCome.price}}" /></td>\r\n                        	<td>{{otherInCome.count}}<input style="display: none;" type="text" name="count" value="{{otherInCome.count}}" /></td>\r\n                        	<td><span class="needPayMoney"></span></td> \r\n                        	<td><a href="javascript:void(0);" url="{{otherInCome.billImage}}" class="btn-view">查看</a></td>\r\n                        	<td>{{otherInCome.remark}}</td>\r\n                        </tr>\r\n                        {{/if}}\r\n                        {{/each}}\r\n                        </tbody>\r\n                    </table>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n    \r\n    \r\n    <div class="col-sm-13 widget-container-col">\r\n        <div class="widget-box ui-sortable-handle">\r\n            <div class="widget-header">\r\n                <h5 class="widget-title"><i class="ace-icon fa fa-bus"></i>车费</h5>\r\n            </div>\r\n            <div class="widget-body">\r\n                <div class="widget-main">\r\n                    <table class="table table-striped table-bordered table-hover" style="margin-top: 30px">\r\n                        <thead>\r\n                        <tr>\r\n                            <th>车主</th>\r\n                            <th>车牌号</th>\r\n                            <th>座位数</th>\r\n                            <th>车费</th>\r\n                            <th>优惠</th>\r\n                            <th>应付</th>\r\n                            <th>已付</th>\r\n                            <th>导付</th>\r\n                            <th>单据</th>\r\n                            <th>差额</th>\r\n                            <th>导游报账备注</th>\r\n                        </tr>\r\n                        </thead>\r\n                        <tbody id="bus">\r\n                        {{each busCompanyArrange as busCompany}}\r\n                        {{if busCompany != null}}\r\n                        <tr busCompanyArrangeId="{{busCompany.id}}" >\r\n                        	<td>{{if busCompany.busCompany != null}}{{busCompany.busCompany.companyName}}{{/if}}</td>\r\n                        	<td>{{if busCompany.bus != null}}{{busCompany.bus.licenseNumber}}{{/if}}</td>\r\n                        	<td>{{if busCompany.bus != null}}{{busCompany.bus.seatCount}}{{/if}}</td>\r\n                        	<td>{{busCompany.price}}<input type="hidden" name="price" value="{{busCompany.price}}" /><input type="hidden" name="realCount" value="1" /></td>\r\n                        	<td>{{busCompany.reduceMoney}}<input type="hidden" name="reduceMoney" value="{{busCompany.reduceMoney}}" /></td>\r\n                        	<td><span class="needPayMoney">{{busCompany.needPayMoney}}</span></td>\r\n                        	<td>{{busCompany.payedMoney}}</td>\r\n                        	<td>\r\n                        		{{if tripPlan.billStatus < 0}}{{busCompany.guidePayMoney}}{{else}}{{busCompany.realGuidePayMoney}}{{/if}}\r\n                        		<input style="display: none;" type="text" name="realGuidePayMoney" value="{{busCompany.realGuidePayMoney}}" />\r\n                        		<input type="hidden" name="payedMoney" value="{{busCompany.payedMoney}}" />\r\n                        		<input type="hidden" name="guidePayMoney" value="{{busCompany.guidePayMoney}}" /></td>\r\n                        	<td><a href="javascript:void(0);" url="{{busCompany.billImage}}" class="btn-view">查看</a></td>\r\n                        	<td><span class="difference"></span></td>\r\n                        	<td>{{busCompany.billRemark}}</td>\r\n                        </tr>\r\n                        {{/if}}\r\n                        {{/each}}\r\n                        </tbody>\r\n                    </table>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n    \r\n\r\n    <div class="col-sm-13 widget-container-col">\r\n        <div class="widget-box ui-sortable-handle">\r\n            <div class="widget-header">\r\n                <h5 class="widget-title"><i class="ace-icon fa fa-cutlery"></i>餐费</h5>\r\n            </div>\r\n            <div class="widget-body">\r\n                <div class="widget-main">\r\n                    <table class="table table-striped table-bordered table-hover" style="margin-top: 30px">\r\n                        <thead>\r\n                        <tr>\r\n                            <th>时间</th>\r\n                            <th>餐厅</th>\r\n                            <th>类型</th>\r\n                            <th>餐标</th>\r\n                            <th>人数</th>\r\n                            <th>优惠</th>\r\n                            <th>应付</th>\r\n                            <th>已付</th>\r\n                            <th>导付</th>\r\n                            <th>单据</th>\r\n                            <th>差额</th>\r\n                            <th>导游报账备注</th>\r\n                        </thead>\r\n                        <tbody id="restaurant">\r\n                        {{each dayList as day}}\r\n                        {{if day.restaurantArrange != null}}\r\n                        {{each day.restaurantArrange as arrangeList}}\r\n                        {{each arrangeList.restaurantArrangeList as arrange index}}\r\n                        {{if arrange != null}}\r\n                        <tr restaurantArrangeId="{{arrange.id}}" restaurantId="{{if arrange.restaurant != null}}{{arrange.restaurant.id}}{{/if}}" restaurantStandardId="{{if arrange.restaurantStandard != null}}{{arrange.restaurantStandard.id}}{{/if}}">\r\n                        	{{if index == 0}}<td rowspan="{{arrangeList.restaurantArrangeList.length}}">第{{arrange.whichDay}}天</td>{{/if}}\r\n                        	{{if index == 0}}<td rowspan="{{arrangeList.restaurantArrangeList.length}}">{{if arrange.restaurant != null}}{{arrange.restaurant.name}}{{/if}}</td>{{/if}}\r\n                        	<td>{{if arrange.restaurantStandard != null}}{{arrange.restaurantStandard.type}}{{/if}}</td>\r\n                        	<td>{{if arrange.restaurantStandard != null}}{{arrange.restaurantStandard.price}}<input type="hidden" name="price" value="{{arrange.restaurantStandard.price}}" />{{/if}}</td>\r\n                        	<td>{{if tripPlan.billStatus < 0}}{{arrange.memberCount}}{{else}}{{arrange.realCount}}{{/if}}<input style="display: none;" type="text" name="realCount" value="{{if tripPlan.billStatus < 0}}{{arrange.memberCount}}{{else}}{{arrange.realCount}}{{/if}}"/></td>\r\n                        	<td>{{arrange.reduceMoney}}<input type="hidden" name="reduceMoney" value="{{arrange.reduceMoney}}" /></td>\r\n                        	<td><span class="needPayMoney">{{arrange.needPayMoney}}</span></td>\r\n                        	<td>{{arrange.payedMoney}}</td>\r\n                        	<td>\r\n                        		{{if tripPlan.billStatus < 0}}{{arrange.guidePayMoney}}{{else}}{{arrange.realGuidePayMoney}}{{/if}}\r\n                        		<input style="display: none;" type="text" name="realGuidePayMoney" value="{{arrange.realGuidePayMoney}}" />\r\n                        		<input type="hidden" name="payedMoney" value="{{arrange.payedMoney}}" />\r\n                        		<input type="hidden" name="guidePayMoney" value="{{arrange.guidePayMoney}}" /></td>\r\n                        	<td><a href="javascript:void(0);" url="{{arrange.billImage}}" class="btn-view">查看</a></td>\r\n                        	<td><span class="difference"></span></td>\r\n                        	<td>{{arrange.billRemark}}</td>\r\n                        </tr>\r\n                        {{/if}}\r\n                        {{/each}}\r\n                        {{/each}}\r\n                        {{/if}}\r\n                        {{/each}}\r\n                        </tbody>\r\n                    </table>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n    \r\n    \r\n    <div class="col-sm-13 widget-container-col">\r\n        <div class="widget-box ui-sortable-handle">\r\n            <div class="widget-header">\r\n                <h5 class="widget-title"><i class="ace-icon fa fa-hotel"></i>房费</h5>\r\n            </div>\r\n            <div class="widget-body">\r\n                <div class="widget-main">\r\n                    <table class="table table-striped table-bordered table-hover" style="margin-top: 30px">\r\n                        <thead>\r\n                        <tr>\r\n                            <th>时间</th>\r\n                            <th>酒店</th>\r\n                            <th>房型</th>\r\n                            <th>单价</th>\r\n                            <th>间数</th>\r\n                            <th>优惠</th>\r\n                            <th>应付</th>\r\n                            <th>已付</th>\r\n                            <th>导付</th>\r\n                            <th>单据</th>\r\n                            <th>差额</th>\r\n                            <th>导游报账备注</th>\r\n                        </tr> \r\n                        </thead>\r\n                        <tbody id="hotelArrange">\r\n                        {{each dayList as day}}\r\n                        {{if day.hotelArrange != null}}\r\n                        {{each day.hotelArrange as arrangeList}}\r\n                        {{each arrangeList.hotelArrangeList as arrange index}}\r\n                        {{if arrange != null}}\r\n                        <tr hotelArrangeId="{{arrange.id}}" hotelId="{{arrange.hotel.id}}" restaurantStandardId="{{if arrange.hotelRoom != null}}{{arrange.hotelRoom.id}}{{/if}}">\r\n                        	{{if index == 0}}<td rowspan="{{arrangeList.hotelArrangeList.length}}">第{{arrange.whichDay}}天</td>{{/if}}\r\n                        	{{if index == 0}}<td rowspan="{{arrangeList.hotelArrangeList.length}}">{{if arrange.hotel != null}}{{arrange.hotel.name}}{{/if}}</td>{{/if}}\r\n                        	<td>{{if arrange.hotelRoom != null}}{{arrange.hotelRoom.type}}{{/if}}</td>\r\n                        	<td>{{arrange.price}}<input type="hidden" name="price" value="{{arrange.price}}" /></td>\r\n                        	<td>{{if tripPlan.billStatus < 0}}{{arrange.memberCount}}{{else}}{{arrange.realCount}}{{/if}}<input style="display: none;" type="text" name="realCount" value="{{if tripPlan.billStatus < 0}}{{arrange.memberCount}}{{else}}{{arrange.realCount}}{{/if}}"/></td>\r\n                        	<td>{{arrange.reduceMoney}}<input type="hidden" name="reduceMoney" value="{{arrange.reduceMoney}}" /></td>\r\n                        	<td><span class="needPayMoney">{{arrange.needPayMoney}}</span></td>\r\n                        	<td>{{arrange.payedMoney}}</td>\r\n                        	<td>\r\n                        		{{if tripPlan.billStatus < 0}}{{arrange.guidePayMoney}}{{else}}{{arrange.realGuidePayMoney}}{{/if}}\r\n                        		<input style="display: none;" type="text" name="realGuidePayMoney" value="{{arrange.realGuidePayMoney}}" />\r\n                        		<input type="hidden" name="payedMoney" value="{{arrange.payedMoney}}" />\r\n                        		<input type="hidden" name="guidePayMoney" value="{{arrange.guidePayMoney}}" /></td>\r\n                        	<td><a href="javascript:void(0);" url="{{arrange.billImage}}" class="btn-view">查看</a></td>\r\n                        	<td><span class="difference"></span></td>\r\n                        	<td>{{arrange.billRemark}}</td>\r\n                        </tr>\r\n                        {{/if}}\r\n                        {{/each}}\r\n                        {{/each}}\r\n                        {{/if}}\r\n                        {{/each}}\r\n                        </tbody>\r\n                    </table>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n    \r\n    \r\n    \r\n    <div class="col-sm-13 widget-container-col">\r\n        <div class="widget-box ui-sortable-handle">\r\n            <div class="widget-header">\r\n                <h5 class="widget-title"><i class="ace-icon fa fa-tree"></i>景区</h5>\r\n            </div>\r\n            <div class="widget-body">\r\n                <div class="widget-main">\r\n                    <table class="table table-striped table-bordered table-hover" style="margin-top: 30px">\r\n                        <thead>\r\n                        <tr>\r\n                            <th>时间</th>\r\n                            <th>景区</th>\r\n                            <th>收费项目</th>\r\n                            <th>单价</th>\r\n                            <th>数量</th>\r\n                            <th>优惠</th>\r\n                            <th>应付</th>\r\n                            <th>已付</th>\r\n                            <th>导付</th>\r\n                            <th>单据</th>\r\n                            <th>差额</th>\r\n                            <th>导游报账备注</th>\r\n                        </tr>\r\n                        </thead>\r\n                        <tbody id="scenic">\r\n                        {{each dayList as day}}\r\n                        {{if day.scenicArrange != null}}\r\n                        {{each day.scenicArrange as arrangeList}}\r\n                        {{each arrangeList.scenicArrangeList as arrange index}}\r\n                        {{if arrange != null}}\r\n                        <tr scenicArrangeId="{{arrange.id}}" scenicId="{{arrange.scenicId}}" scenicItemId="{{arrange.hotelRoomId}}">\r\n                        	{{if index == 0}}<td rowspan="{{arrangeList.scenicArrangeList.length}}">第{{arrange.whichDay}}天</td>{{/if}}\r\n                        	{{if index == 0}}<td rowspan="{{arrangeList.scenicArrangeList.length}}">{{if arrange.scenic != null}}{{arrange.scenic.name}}{{/if}}</td>{{/if}}\r\n                        	<td>{{if arrange.scenicItem != null}}{{arrange.scenicItem.name}}{{/if}}</td>\r\n                        	<td>{{arrange.price}}<input type="hidden" name="price" value="{{arrange.price}}" /></td>\r\n                        	<td>{{if tripPlan.billStatus < 0}}{{arrange.memberCount}}{{else}}{{arrange.realCount}}{{/if}}<input style="display: none;" type="text" name="realCount" value="{{if tripPlan.billStatus < 0}}{{arrange.memberCount}}{{else}}{{arrange.realCount}}{{/if}}"/></td>\r\n                        	<td>{{arrange.reduceMoney}}<input type="hidden" name="reduceMoney" value="{{arrange.reduceMoney}}" /></td>\r\n                        	<td><span class="needPayMoney">{{arrange.needPayMoney}}</span></td>\r\n                        	<td>{{arrange.payedMoney}}</td>\r\n                        	<td>\r\n                        		{{if tripPlan.billStatus < 0}}{{arrange.guidePayMoney}}{{else}}{{arrange.realGuidePayMoney}}{{/if}}\r\n                        		<input style="display: none;" type="text" name="realGuidePayMoney" value="{{arrange.realGuidePayMoney}}" />\r\n                        		<input type="hidden" name="payedMoney" value="{{arrange.payedMoney}}" />\r\n                        		<input type="hidden" name="guidePayMoney" value="{{arrange.guidePayMoney}}" /></td>\r\n                        	<td><a href="javascript:void(0);" url="{{arrange.billImage}}" class="btn-view">查看</a></td>\r\n                        	<td><span class="difference"></span></td>\r\n                        	<td>{{arrange.billRemark}}</td>\r\n                        </tr>\r\n                        {{/if}}\r\n                        {{/each}}\r\n                        {{/each}}\r\n                        {{/if}}\r\n                        {{/each}}\r\n                        </tbody>\r\n                    </table>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n    \r\n    \r\n    \r\n    <div class="col-sm-13 widget-container-col">\r\n        <div class="widget-box ui-sortable-handle">\r\n            <div class="widget-header">\r\n                <h5 class="widget-title"><i class="ace-icon fa fa-car"></i>票务</h5>\r\n            </div>\r\n            <div class="widget-body">\r\n                <div class="widget-main">\r\n                    <table class="table table-striped table-bordered table-hover" style="margin-top: 30px">\r\n                        <thead>\r\n                        <tr>\r\n                            <th>票务商家</th>\r\n                            <th>类型</th>\r\n                            <th>日期</th>\r\n                            <th>出发地</th>\r\n                            <th>目的地</th>\r\n                            <th>座席</th>\r\n                            <th>单价</th>\r\n                            <th>数量</th>\r\n                            <th>优惠</th>\r\n                            <th>应付</th>\r\n                            <th>已付</th>\r\n                            <th>导付</th>\r\n                            <th>单据</th>\r\n                            <th>差额</th>\r\n                            <th>导游报账备注</th>\r\n                        </tr>\r\n                        </thead>\r\n                        <tbody id="ticket">\r\n                        {{each ticketArrangeList as ticketArrange}}\r\n                        {{each ticketArrange.ticketArrangeList as arrange index}}\r\n                        <tr ticketArrangeId="{{arrange.id}}" ticketId="{{arrange.ticket.id}}" itemId="{{arrange.id}}">\r\n                        {{if index == 0}}<td rowspan="{{ticketArrange.ticketArrangeList.length}}">{{if arrange.ticket != null}}{{arrange.ticket.name}}{{/if}}</td>{{/if}}\r\n                        {{if index == 0}}<td rowspan="{{ticketArrange.ticketArrangeList.length}}">{{if arrange.type == 1}}机票{{else if arrange.type== 2}}汽车票{{else if arrange.type == 3}}火车票{{else if arrange.type == 4}}轮船票{{/if}}</td>{{/if}}\r\n                        {{if index == 0}}<td rowspan="{{ticketArrange.ticketArrangeList.length}}">{{arrange.startTime}}</td>{{/if}}\r\n                        {{if index == 0}}<td rowspan="{{ticketArrange.ticketArrangeList.length}}">{{arrange.startingCity}}</td>{{/if}}\r\n                        {{if index == 0}}<td rowspan="{{ticketArrange.ticketArrangeList.length}}">{{arrange.arriveCity}}</td>{{/if}}\r\n                        <td>{{arrange.seatLevel}}</td>\r\n                        	<td><span>{{arrange.price}}</span><input type="hidden" name="price" value="{{arrange.price}}" /></td>\r\n                        	<td>{{if tripPlan.billStatus < 0}}{{arrange.memberCount}}{{else}}{{arrange.realCount}}{{/if}}<input style="display: none;" name="realCount" type="text" value="{{if tripPlan.billStatus < 0}}{{arrange.memberCount}}{{else}}{{arrange.realCount}}{{/if}}"/></td>\r\n                        	<td>{{arrange.reduceMoney}}<input type="hidden" name="reduceMoney" value="{{arrange.reduceMoney}}" /></td>\r\n                        	<td><span class="needPayMoney">{{arrange.needPayMoney}}</span></td>\r\n                        	<td>{{arrange.payedMoney}}</td>\r\n                        	<td>\r\n                        		{{if tripPlan.billStatus < 0}}{{arrange.guidePayMoney}}{{else}}{{arrange.realGuidePayMoney}}{{/if}}\r\n                        		<input style="display: none;" type="text" name="realGuidePayMoney" value="{{arrange.realGuidePayMoney}}" />\r\n                        		<input type="hidden" name="payedMoney" value="{{arrange.payedMoney}}" />\r\n                        		<input type="hidden" name="guidePayMoney" value="{{arrange.guidePayMoney}}" /></td>\r\n                        	<td><a href="javascript:void(0);" url="{{arrange.billImage}}" class="btn-view">查看</a></td>\r\n                        	<td><span class="difference"></span></td>\r\n                        	<td>{{arrange.billRemark}}</td>\r\n                        </tr>\r\n                        {{/each}}\r\n                        {{/each}}\r\n                        </tbody>\r\n                    </table>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n    \r\n    \r\n    \r\n    \r\n    \r\n    \r\n     <div class="col-sm-13 widget-container-col">\r\n        <div class="widget-box ui-sortable-handle">\r\n            <div class="widget-header">\r\n                <h5 class="widget-title"><i class="ace-icon fa fa-smile-o"></i>其他支出</h5>\r\n            </div>\r\n            <div class="widget-body">\r\n                <div class="widget-main">\r\n                    <table class="table table-striped table-bordered table-hover" style="margin-top: 30px">\r\n                        <thead>\r\n                        <tr>\r\n                            <th>时间</th>\r\n                            <th>项目</th>\r\n                            <th>单价</th>\r\n                            <th>数量</th>\r\n                            <th>优惠</th>\r\n                            <th>应付</th>\r\n                            <th>已付</th>\r\n                            <th>导付</th>\r\n                            <th>单据</th>\r\n                            <th>差额</th>\r\n                            <th>导游报账备注</th>\r\n                        </tr>\r\n                        </thead>\r\n                        <tbody id="other">\r\n                        {{each dayList as day}}\r\n                        {{if day.otherArrange != null}}\r\n                        {{each day.otherArrange as arrange index}}\r\n                        {{if arrange != null}}\r\n                        <tr otherArrangeId="{{arrange.id}}">\r\n                        	<td>第{{arrange.whichDay}}天</td>\r\n                        	<td>{{arrange.name}}</td>\r\n                        	<td>{{arrange.price}}<input type="hidden" name="price" value="{{arrange.price}}" /></td>\r\n                        	<td>{{if tripPlan.billStatus < 0}}{{arrange.memberCount}}{{else}}{{arrange.realCount}}{{/if}}<input style="display: none;" type="text" name="realCount" value="{{if tripPlan.billStatus < 0}}{{arrange.memberCount}}{{else}}{{arrange.realCount}}{{/if}}"/></td>\r\n                        	<td>{{arrange.reduceMoney}}<input type="hidden" name="reduceMoney" value="{{arrange.reduceMoney}}" /></td>\r\n                        	<td><span class="needPayMoney">{{arrange.needPayMoney}}</span></td>\r\n                        	<td>{{arrange.payedMoney}}</td>\r\n                        	<td>\r\n                        		{{if tripPlan.billStatus < 0}}{{arrange.guidePayMoney}}{{else}}{{arrange.realGuidePayMoney}}{{/if}}\r\n                        		<input style="display: none;" type="text" name="realGuidePayMoney" value="{{arrange.realGuidePayMoney}}" />\r\n                        		<input type="hidden" name="payedMoney" value="{{arrange.payedMoney}}" />\r\n                        		<input type="hidden" name="guidePayMoney" value="{{arrange.guidePayMoney}}" /></td>\r\n                        	<td><a href="javascript:void(0);" url="{{arrange.billImage}}" class="btn-view">查看</a></td>\r\n                        	<td><span class="difference"></span></td>\r\n                        	<td>{{arrange.billRemark}}</td>\r\n                        </tr>\r\n                        {{/if}}\r\n                        {{/each}}\r\n                        {{/if}}\r\n                        {{/each}}\r\n                        </tbody>\r\n                    </table>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n    \r\n    {{if touristGroup != null}}\r\n    <div class="col-sm-13 widget-container-col">\r\n        <div class="widget-box ui-sortable-handle">\r\n            <div class="widget-header">\r\n                <h5 class="widget-title"><i class="ace-icon fa fa-exchange"></i>中转</h5>\r\n            </div>\r\n            <div class="widget-body">\r\n                <div class="widget-main">\r\n                    <table class="table table-striped table-bordered table-hover" style="margin-top: 30px">\r\n                        <thead>\r\n                        <tr>\r\n                            <th>接团</th>\r\n                            <th>小车</th>\r\n                            <th>送团</th>\r\n                            <th>明细</th>\r\n                        </tr>\r\n                        </thead>\r\n                        <tbody>\r\n                       	<tr>\r\n                        	<td>{{touristGroup.outCarMoney}}</td>\r\n                        	<td>{{touristGroup.outReciveMoney}}</td>\r\n                        	<td>{{touristGroup.outSendMoney}}</td>\r\n                        	<td><a href="javascript:void(0);" data-entity-id="{{tripPlan.id}}" class="btn-viewTripTransit">查看</a></td>\r\n                       	 </tr>\r\n                        </tbody>\r\n                    </table>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n    {{/if}}\r\n    <div style="height:30px;"></div>\r\n</div>'.split(/\n/)[$line - 1].replace(/^\s+/, "")
            };
        }
    });
});