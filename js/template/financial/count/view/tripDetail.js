/*TMODJS:{"debug":true,"version":200,"md5":"3568041f0b504243c851c28e761cf1b6"}*/
define(function(require) {
    return require("../../../template")("financial/count/view/tripDetail", function($data, $filename) {
        try {
            var $utils = this, $helpers = $utils.$helpers, $line = 0, $escape = $utils.$escape, tripPlan = $data.tripPlan, busCompanyArrange = $data.busCompanyArrange, touristGroup = $data.touristGroup, guideArrange = $data.guideArrange, insurancePrice = $data.insurancePrice, isOp = $data.isOp, WEB_IMG_URL_BIG = $data.WEB_IMG_URL_BIG, WEB_IMG_URL_SMALL = $data.WEB_IMG_URL_SMALL, $each = $utils.$each, touristGroups = $data.touristGroups, isFinance = ($data.index, 
            $data.touristGroupFee, $data.$index, $data.isFinance), remarkArrangeList = $data.remarkArrangeList, dayList = $data.dayList, editStatus = ($data.day, 
            $data.arrangeList, $data.arrange, $data.i, $data.itemSet, $data.editStatus), arrangeIncomePaymentList = $data.arrangeIncomePaymentList, ticketArrangeList = ($data.otherInCome, 
            $data.busCompany, $data.ticketArrangeList), insuranceArrangeList = ($data.ticketArrange, 
            $data.insuranceArrangeList), guideArranges = ($data.insuranceArrange, $data.guideArranges), $out = ($data.rs, 
            "");
            return $out += '<div class="col-sm-12 financialTripDetail"> <div> <button data-entity-id="', 
            $line = 3, $out += $escape(tripPlan.id), $out += '" class="btn btn-xs btn-success btn-transfter btn-download" style="margin: 0px 10px 20px 0px;width:110px;height:35px;float: right;display: none;"> <i class="ace-icon fa fa-file-excel-o"></i>导出电子表格 </button> </div> <div class="col-xs-12 border"> <table class="table table-striped table-bordered table-hover all main-table T-main-table" style="margin-top: 30px;"> <tbody> <tr style=""> <td><label style="font-weight: bold;">线路：', 
            $line = 11, $out += $escape(tripPlan.lineProduct.name), $out += '</label></td> <td><label style="font-weight: bold;">类别：', 
            $line = 12, $out += $escape(tripPlan.lineProduct.type), $out += '</label></td> <td><label style="font-weight: bold;">针对客源：', 
            $line = 13, 1 == tripPlan.lineProduct.customerType ? ($out += "团体", $line = 13) : 0 == tripPlan.lineProduct.customerType && ($out += "散客", 
            $line = 13), $out += '</label></td> <td><label style="font-weight: bold;">天数：<span class="T-ProductDays" style="font-weight: bold;">', 
            $line = 14, $out += $escape(tripPlan.lineProduct.days), $out += '</span></label></td> </tr> <tr> <td><label style="font-weight: bold;">团号：', 
            $line = 17, $out += $escape(tripPlan.tripNumber), $out += '</label></td> <td><label style="font-weight: bold;">出团日期:<span style="font-weight: bold;" class = "startTime_Choose" name="startTime_Choose">', 
            $line = 18, $out += $escape($helpers.dateFormat(tripPlan.startTime, "yyyy-MM-dd")), 
            $out += '</span></label></td> <td><label style="font-weight: bold;">完团日期：', $line = 19, 
            $out += $escape($helpers.dateFormat(tripPlan.endTime, "yyyy-MM-dd")), $out += '</label></td> <td><label style="font-weight: bold;">团队人数：', 
            $line = 20, $out += $escape(tripPlan.touristAdultCount), $out += "大", $line = 20, 
            $out += $escape(tripPlan.touristChildCount), $out += '小</label></td> </tr> <tr> <td> <label style="font-weight: bold;">导游：', 
            $line = 23, null != tripPlan.guide && ($line = 23, $out += $escape(tripPlan.guide.realname), 
            $line = 23), $out += '</label></td> <td><label style="font-weight: bold;">全陪：', 
            $line = 24, $out += $escape(tripPlan.accompanyGuideName), $out += '</label></td> <td></td> <td></td> </tr> </tbody> </table> <input type="hidden" name="totalPersonCount" value="', 
            $line = 30, $out += $escape(tripPlan.touristAdultCount + tripPlan.touristChildCount), 
            $out += '"/> <input type="hidden" name=\'busNumber\' class="busNumber" value="', 
            $line = 31, $out += $escape(busCompanyArrange.length), $out += '"> </div> <div style="clear: both"></div> <table class="table table-striped table-bordered table-hover all T-main-table" style="margin-top: 30px;"> <tbody> <tr class="T-mainTitle"> <td colspan="8"> <div style="float: left;margin-left:10px;"> <input type="hidden" class="financial-tripPlanId" value="', 
            $line = 39, $out += $escape(tripPlan.id), $out += '" /> <input type="hidden" class="tripPlanAdultCount" value="', 
            $line = 40, $out += $escape(tripPlan.touristAdultCount), $out += '" /> <input type="hidden" class="tripPlanChildCount" value="', 
            $line = 41, $out += $escape(tripPlan.touristChildCount), $out += '" /> <input type="hidden" class="tripPlanStartTime" value="', 
            $line = 42, $out += $escape($helpers.dateFormat(tripPlan.startTime, "yyyy-MM-dd")), 
            $out += '" /> <label style="margin-left:50px;font-weight: bold;">毛利：<span class="F-float F-money grossProfitMoney">0</span></label> <label style="margin-left:50px;font-weight: bold;">人均毛利：<span class="F-float F-money perGrossProfitMoney">0</span></label> <label style="margin-left:50px;font-weight: bold;">导游预支金额：<span class="F-float F-money guideAllPreMoney">', 
            $line = 46, $out += $escape(tripPlan.guideAllPreMoney), $out += '</span></label> </div></td> </tr> <tr class="T-title"> <td colspan="2"><label style="font-weight: bold;">团收入：<span class="F-float F-money tripIncome">0</span></label></td> <td colspan="4"><label style="font-weight: bold;">团成本：<span class="F-float F-money tripCost">0</span></label></td> <td colspan="2"><label style="font-weight: bold;">中转成本：<span class="F-float F-money tripTransitCost">0</span></label></td> </tr> <tr > <td><label>应收团款：<span class="F-float F-money tripIncome-getAllMoney">', 
            $line = 56, $out += $escape(touristGroup.needPayAllMoney), $out += '</span></label></td> <td><label>自费收入：<span class="F-float F-money tripIncome-selfPayTravelAgencyRebateMoney">0</span></label></td> <td><label>导服费：<span class="tripCost-guideArrangePrice F-float F-money">', 
            $line = 58, $out += $escape(guideArrange.price), $out += '</span></label></td> <td><label>保险：<span class="F-float F-money tripCost-insuranceArrangeNeedPayMoney">', 
            $line = 59, $out += $escape(insurancePrice), $out += '</span></label></td> <td><label>车费：<span class="F-float F-money tripCost-busCompanyNeedPayMoney">0</span></label></td> <td><label>导游购物返佣：<span class="F-float F-money tripCost-guideshopFee">0</span></label></td> <td><label>车费：<span class="F-float F-money tripTransitCost-busCompanyNeedPayMoney">', 
            $line = 62, $out += $escape(touristGroup.outBusMoney), $out += '</span></label></td> <td><label>餐费：<span class="F-float F-money tripTransitCost-outRestaurantMoney">', 
            $line = 63, $out += $escape(touristGroup.outRestaurantMoney), $out += '</span></label></td> </tr> <tr> <td><label>购物返佣：<span class="F-float F-money tripIncome-shopTravelAgencyRateMoney">0</span></label></td> <td><label>其它收入：<span class="F-float F-money tripIncome-otherInCome">0</span></label></td> <td><label>餐费：<span class="F-float F-money tripCost-restaurantArrangeNeedPayMoney">0</span></label></td> <td><label>房费：<span class="F-float F-money tripCost-hotelArrangeNeedPayMoney">0</span></label></td> <td><label>景区费用：<span class="F-float F-money tripCost-scenicArrangeNeedPayMoney">0</span></label></td> <td><label>导游自费返佣：<span class="F-float F-money tripCost-guideSelfMoney">0</span></label></td> <td><label>房费：<span class="F-float F-money tripTransitCost-hotelArrangeNeedPayMoney">', 
            $line = 72, $out += $escape(touristGroup.outHotelMoney), $out += '</span></label></td> <td><label>其它费用：<span class="F-float F-money tripTransitCost-outOtherMoney">', 
            $line = 73, $out += $escape(touristGroup.outOtherMoney), $out += '</span></label></td> </tr> <tr> <td><label>导游管理费：<span class="tripIncome-guideManageMoney F-float F-money">', 
            $line = 76, $out += $escape(guideArrange.manageFee), $out += '</span></label></td> <td></td> <td><label>票务费用：<span class="F-float F-money tripCost-ticketArrangeNeedPayMoney">0</span></label></td> <td><label>其它费用：<span class="F-float F-money tripCost-otherArrangeNeedPayMoney">0</span></label></td> <td><label>自费费用：<span class="F-float F-money tripCost-selfArrangeNeedPayMoney">0</span></label></td> <td><label style="display: none;">地接费用：<span class="F-float F-money tripCost-groundArrangeNeedPayMoney"></span></label></td> <td><label>票务费用', 
            $line = 82, $out += $escape(isOp), $out += '：<span class="F-float F-money tripTransitCost-ticketArrangeNeedPayMoney">', 
            $line = 82, $out += $escape(touristGroup.outTicketMoney), $out += '</span></label></td> <td></td> </tr> </tbody> </table> <input type="hidden" value="', 
            $line = 87, $out += $escape(WEB_IMG_URL_BIG), $out += '" name="WEB_IMG_URL_BIG" /> <input type="hidden" value="', 
            $line = 88, $out += $escape(WEB_IMG_URL_SMALL), $out += '" name="WEB_IMG_URL_SMALL" /> <div class="row" style="margin-bottom:15px;"> <div class="col-md-1"> <a href="javascript:void(0);" class="btn-financialLog">操作记录</a> </div> <div class="col-md-1"> <a href="javascript:void(0);" class="T-tripPlanArrange">安排预算表</a> </div> </div> <div class="tabbable"> <ul class="nav nav-tabs"> <li class="active col-sm-1 no-padding align-center" style="width:100px;"> <a data-toggle="tab" href="#financial-count-tripdetail-money" aria-expanded="true">团款</a> </li> <li class="col-sm-1 no-padding align-center" style="width:100px;"> <a data-toggle="tab" href="#financial-count-tripdetail-shop" aria-expanded="true">购物</a> </li> <li class="col-sm-1 no-padding align-center" style="width:100px;"> <a data-toggle="tab" href="#financial-count-tripdetail-selfpay" aria-expanded="true">自费</a> </li> <li class="col-sm-1 no-padding align-center" style="width:100px;"> <a data-toggle="tab" href="#financial-count-tripdetail-other-incoming" aria-expanded="true">其它收入</a> </li> <li class="col-sm-1 no-padding align-center" style="width:100px;"> <a data-toggle="tab" href="#financial-count-tripdetail-buspay" aria-expanded="true">车费</a> </li> <li class="col-sm-1 no-padding align-center" style="width:100px;"> <a data-toggle="tab" href="#financial-count-tripdetail-restaurantpay" aria-expanded="true">餐费</a> </li> <li class="col-sm-1 no-padding align-center" style="width:100px;"> <a data-toggle="tab" href="#financial-count-tripdetail-hotelpay" aria-expanded="true">房费</a> </li> <li class="col-sm-1 no-padding align-center" style="width:100px;"> <a data-toggle="tab" href="#financial-count-tripdetail-scenicpay" aria-expanded="true">景区</a> </li> <li class="col-sm-1 no-padding align-center" style="width:100px;"> <a data-toggle="tab" href="#financial-count-tripdetail-ticketpay" aria-expanded="true">票务</a> </li> <li class="col-sm-1 no-padding align-center" style="width:100px;"> <a data-toggle="tab" href="#financial-count-tripdetail-otherpay" aria-expanded="true">其它支出</a> </li> ', 
            $line = 130, null != touristGroup && ($out += ' <li class="col-sm-1 no-padding align-center" style="width:100px;"> <a data-toggle="tab" href="#financial-count-tripdetail-outarrangepay" aria-expanded="true">中转</a> </li> ', 
            $line = 134), $out += ' <li class="col-sm-1 no-padding align-center" style="width:100px;"> <a data-toggle="tab" href="#financial-count-tripdetail-insurance" aria-expanded="true">保险</a> </li> <li class="col-sm-1 no-padding align-center" style="width:100px;"> <a data-toggle="tab" href="#financial-count-tripdetail-guide" aria-expanded="true">导游</a> </li> </ul> <div class="tab-content T-list" style="position:relative;top: -2px">  <div id="financial-count-tripdetail-money" class="tab-pane fade active in T-tripCost"> <table class="table table-striped table-bordered table-hover"> <tbody class="T-tripDetail"> <tr> <td>序号</td> <td>客户</td> <th>收客单号</th> <td>小组联系人</td> <td>联系电话</td> <td>人数</td> <td>应收</td> <td>社收</td> <td>现收</td> <td>明细</td> ', 
            $line = 158, $each(touristGroups, function(touristGroup, index) {
                $out += " <tr> <td>", $line = 160, $out += $escape(index + 1), $out += "</td> <td>", 
                $line = 161, touristGroup.partnerAgency && ($line = 161, $out += $escape(touristGroup.partnerAgency.travelAgencyName), 
                $line = 161), $out += "</td> <td>", $line = 162, $out += $escape(touristGroup.orderNumber), 
                $out += "</td> <td>", $line = 163, null != touristGroup.touristGroupMember && ($line = 163, 
                $out += $escape(touristGroup.touristGroupMember.name), $line = 163), $out += "</td> <td>", 
                $line = 164, null != touristGroup.touristGroupMember && ($line = 164, $out += $escape(touristGroup.touristGroupMember.mobileNumber), 
                $line = 164), $out += '</td> <td><span class="F-float F-count">', $line = 165, $out += $escape(touristGroup.adultCount), 
                $out += '</span>大<span class="F-float F-count">', $line = 165, $out += $escape(touristGroup.childCount), 
                $out += '</span>小</td> <td><span class="F-float F-money">', $line = 166, $out += $escape(touristGroup.needPayAllMoney), 
                $out += '</span></td> <td><span class="F-float F-money">', $line = 167, $out += $escape(touristGroup.payedMoney), 
                $out += '</span></td> <td><span class="F-float F-money">', $line = 168, $out += $escape(touristGroup.currentNeedPayMoney), 
                $out += "</span></td> <td> ", $line = 170, 0 == touristGroup.subStatus ? ($out += " ", 
                $line = 171, $each(touristGroup.touristGroupFeeList, function(touristGroupFee) {
                    $out += " ", $line = 172, $out += $escape(touristGroupFee.name), $out += ' ： <span class="F-float F-money">', 
                    $line = 173, $out += $escape(touristGroupFee.price), $out += '</span>&nbsp;X&nbsp;<span class="F-float F-count">', 
                    $line = 173, $out += $escape(touristGroupFee.count), $out += '</span>= <span class="F-float F-money">', 
                    $line = 174, $out += $escape(touristGroupFee.price * touristGroupFee.count), $out += "</span><br /> ", 
                    $line = 175;
                }), $out += " ", $line = 176) : ($out += " ", $line = 177, $each(touristGroup.touristGroupSubFeeList, function(touristGroupFee) {
                    $out += " ", $line = 178, $out += $escape(touristGroupFee.name), $out += ' ： <span class="F-float F-money">', 
                    $line = 179, $out += $escape(touristGroupFee.price), $out += '</span>&nbsp;X&nbsp;<span class="F-float F-count">', 
                    $line = 179, $out += $escape(touristGroupFee.count), $out += '</span>= <span class="F-float F-money">', 
                    $line = 180, $out += $escape(touristGroupFee.price * touristGroupFee.count), $out += "</span><br /> ", 
                    $line = 181;
                }), $out += " ", $line = 182), $out += " </td> </td> </tr> ", $line = 186;
            }), $out += " </tbody> </table> ", $line = 190, tripPlan.billStatus > -1 && ($out += ' <div style="width:60%;"><div> <label style="margin:5px 0px 0px 0px;">财务审核批注：</label> <input name="accountFinancialCheckComment" ', 
            $line = 193, 1 == tripPlan.billStatus && isFinance || ($out += 'readonly="readonly"', 
            $line = 193), $out += ' type="text" style="width:30%;" value="', $line = 193, remarkArrangeList.tripDetailRemark.length > 0 && ($line = 193, 
            $out += $escape(remarkArrangeList.tripDetailRemark[0].opCheckRemark), $line = 193), 
            $out += '" /> <label style="margin:5px 0px 0px 10px;">计调审核批注：</label> <input name="accountOPCheckComment" ', 
            $line = 196, 0 == tripPlan.billStatus && isOp || ($out += 'readonly="readonly"', 
            $line = 196), $out += ' type="text" style="width:30%;" value="', $line = 196, remarkArrangeList.tripDetailRemark.length > 0 && ($line = 196, 
            $out += $escape(remarkArrangeList.tripDetailRemark[0].financeCheckRemark), $line = 196), 
            $out += '"/> </div> </div>', $line = 198), $out += ' </div>  <div id="financial-count-tripdetail-shop" class="tab-pane fade"> <table class="table table-striped table-bordered table-hover"> <thead> <tr> <th class="th-border" colspan="5">打单</th> <th class="th-border" colspan="2">社佣</th> <th class="th-border" colspan="2">导佣</th> <th class="th-border" rowspan="2">导游报账备注</th> <th class="th-border" rowspan="2">是否对账</th> </tr> <tr> <th class="th-border"><span class="necessary">*</span>时间</th> <th class="th-border"><span class="necessary">*</span>购物店</th> <th class="th-border"><span class="necessary">*</span>商品</th> <th class="th-border"><span class="necessary">*</span>金额</th> <th class="th-border">单据</th> <th class="th-border"><span class="necessary">*</span>比例%</th> <th class="th-border">返佣</th> <th class="th-border"><span class="necessary">*</span>比例%</th> <th class="th-border">返佣</th> </tr> </thead> <tbody class="T-count-shopping"> ', 
            $line = 224, $each(dayList, function(day) {
                $out += " ", $line = 225, null != day.shopArrange && ($out += " ", $line = 226, 
                $each(day.shopArrange, function(arrangeList) {
                    $out += " ", $line = 227, $each(arrangeList.shopArrangeList, function(arrange) {
                        $out += " ", $line = 229, null != arrange && ($out += ' <tr class="oldData" shopArrangeId="', 
                        $line = 230, $out += $escape(arrange.id), $out += '" shopId="', $line = 230, $out += $escape(arrange.shopId), 
                        $out += '" whichDay = "', $line = 230, $out += $escape(arrange.whichDay), $out += '" rowspan = "', 
                        $line = 230, $out += $escape(arrange.shopArrangeItemSet.length), $out += '"> <td rowspan="', 
                        $line = 231, $out += $escape(arrange.shopArrangeItemSet.length), $out += '"><span class="whichDay"></span> </td> <td rowspan="', 
                        $line = 232, $out += $escape(arrange.shopArrangeItemSet.length), $out += '">', $line = 232, 
                        $out += $escape(arrange.shop.name), $out += '<input type="hidden" name="shopId" value="', 
                        $line = 232, $out += $escape(arrange.shopId), $out += '"></td> ', $line = 233, null != arrange.shopArrangeItemSet && ($out += " ", 
                        $line = 234, $each(arrange.shopArrangeItemSet, function(itemSet, index) {
                            $out += " ", $line = 235, 0 == index && ($out += ' <td><span><input type="hidden" name="shopPolicyArrId" value="', 
                            $line = 237, $out += $escape(itemSet.id), $out += '">', $line = 237, null != itemSet.shopPolicy ? ($line = 237, 
                            $out += $escape(itemSet.shopPolicy.name), $out += " ", $line = 238) : ($line = 238, 
                            $out += $escape(itemSet.name), $out += '<input type="hidden" name="shopPolicy" value="', 
                            $line = 238, $out += $escape(itemSet.name), $out += '"></span>', $line = 238), $out += " </td> <td>", 
                            $line = 241, $out += $escape(itemSet.consumeMoney), $out += '<input class="F-float F-money" policyId="', 
                            $line = 241, null != itemSet.shopPolicy && ($line = 241, $out += $escape(itemSet.shopPolicy.id), 
                            $line = 241), $out += '" name="consumeMoney" style="width:90px;" type="hidden" value="', 
                            $line = 241, $out += $escape(itemSet.consumeMoney), $out += '" old="', $line = 241, 
                            $out += $escape(itemSet.consumeMoney), $out += '" maxlength="11" ', $line = 242, 
                            1 == arrange.isConfirmAccount && ($out += ' readOnly="readOnly" ', $line = 242), 
                            $out += "/></td> <td>", $line = 244, null != arrange.billImage && "" != arrange.billImage ? ($out += ' <a href="javascript:void(0);" url="', 
                            $line = 245, $out += $escape(arrange.billImage), $out += '" class="btn-view">查看</a> ', 
                            $line = 246) : ($out += ' <span style="color:#bbb;">查看</span> ', $line = 248), $out += ' </td> <td><span class="F-float F-count">', 
                            $line = 251, $out += $escape(100 * itemSet.travelAgencyRate), $out += '</span><input name="travelAgencyRate" style="width:90px;" type="hidden" value="', 
                            $line = 251, $out += $escape(100 * itemSet.travelAgencyRate), $out += '" old="', 
                            $line = 251, $out += $escape(itemSet.travelAgencyRate), $out += '" maxlength="5" ', 
                            $line = 251, 1 == arrange.isConfirmAccount && ($out += ' readOnly="readOnly" ', 
                            $line = 251), $out += '/></td> <td><span class="travelAgencyRateMoney F-float F-money">', 
                            $line = 253, $out += $escape(itemSet.travelAgencyRateMoney), $out += '</span><input type="hidden" class="travelAgencyRateMoney', 
                            $line = 253, $out += $escape(arrange.whichDay), $out += "_", $line = 253, $out += $escape(arrange.shopId), 
                            $out += '" name="travelAgencyRateMoney" value="', $line = 253, $out += $escape(itemSet.travelAgencyRateMoney), 
                            $out += '" ', $line = 253, 1 == arrange.isConfirmAccount && ($out += 'readOnly="readOnly"', 
                            $line = 253), $out += '/></td> <td><span class="F-float F-count">', $line = 255, 
                            $out += $escape(100 * itemSet.guideRate), $out += '</span><input name="guideRate" style="width:90px;" type="hidden" value="', 
                            $line = 255, $out += $escape(100 * itemSet.guideRate), $out += '" old="', $line = 255, 
                            $out += $escape(itemSet.guideRate), $out += '" maxlength="5" ', $line = 255, 1 == arrange.isConfirmAccount && ($out += 'readOnly="readOnly"', 
                            $line = 255), $out += '/></td> <td><span class="guideRateMoney F-float F-money">', 
                            $line = 257, $out += $escape(itemSet.guideRkateMoney), $out += '</span><input type="hidden" class="guideRateMoney', 
                            $line = 257, $out += $escape(arrange.whichDay), $out += "_", $line = 257, $out += $escape(arrange.shopId), 
                            $out += '" name="guideRateMoney" value="', $line = 257, $out += $escape(itemSet.guideRateMoney), 
                            $out += '" ', $line = 258, 1 == arrange.isConfirmAccount && ($out += 'readOnly="readOnly"', 
                            $line = 258), $out += "/></td> <td > ", $line = 261, 1 == editStatus ? ($out += " ", 
                            $line = 262, $out += $escape(itemSet.billRemark), $out += " ", $line = 263) : ($line = 263, 
                            null != arrange.shopPolicy ? ($line = 263, $out += $escape(arrange.shopPolicy.remark), 
                            $line = 263) : ($line = 263, $out += $escape(itemSet.billRemark), $line = 263), 
                            $line = 263), $out += " </td> ", $line = 265), $out += " ", $line = 266;
                        }), $out += " ", $line = 267), $out += ' <td rowspan="', $line = 268, $out += $escape(arrange.shopArrangeItemSet.length), 
                        $out += '">', $line = 268, 0 == arrange.isConfirmAccount ? ($out += "未对账", $line = 268) : ($out += "已对账", 
                        $line = 268), $out += "</td> </tr> ", $line = 270, null != arrange.shopArrangeItemSet && ($out += " ", 
                        $line = 271, $each(arrange.shopArrangeItemSet, function(itemSet, index) {
                            $out += " ", $line = 272, index > 0 && ($out += ' <tr shopArrangeId="', $line = 273, 
                            $out += $escape(arrange.id), $out += '" shopId="', $line = 273, $out += $escape(arrange.shopId), 
                            $out += '" whichDay = "', $line = 273, $out += $escape(arrange.whichDay), $out += '" rowspan = "', 
                            $line = 273, $out += $escape(arrange.shopArrangeItemSet.length), $out += '"> <td><span> <input type="hidden" name="shopPolicyArrId" value="', 
                            $line = 275, $out += $escape(itemSet.id), $out += '"> <input type="hidden" name="shopPolicy" value="', 
                            $line = 277, null != itemSet.shopPolicy ? ($out += " ", $line = 278, $out += $escape(itemSet.shopPolicy.name), 
                            $line = 278) : ($out += " ", $line = 279, $out += $escape(itemSet.name), $out += " ", 
                            $line = 280), $out += '"> <input type="hidden" name="shopPolicyId" value="', $line = 281, 
                            null != itemSet.shopPolicy && ($out += " ", $line = 282, $out += $escape(itemSet.shopPolicy.id), 
                            $out += " ", $line = 283), $out += '"> ', $line = 284, null != itemSet.shopPolicy ? ($line = 284, 
                            $out += $escape(itemSet.shopPolicy.name), $out += " ", $line = 286) : ($line = 286, 
                            $out += $escape(itemSet.name), $out += " ", $line = 288), $out += " </td> <td>", 
                            $line = 292, $out += $escape(itemSet.consumeMoney), $out += '<input class="F-float F-money" policyId="', 
                            $line = 292, null != itemSet.shopPolicy && ($line = 292, $out += $escape(itemSet.shopPolicy.id), 
                            $line = 292), $out += '" name="consumeMoney" style="width:90px;" type="hidden" value="', 
                            $line = 292, $out += $escape(itemSet.consumeMoney), $out += '" old="', $line = 292, 
                            $out += $escape(itemSet.consumeMoney), $out += '" maxlength="11" ', $line = 293, 
                            1 == arrange.isConfirmAccount && ($out += ' readOnly="readOnly" ', $line = 293), 
                            $out += "/></td> <td>", $line = 294, null != arrange.billImage && "" != arrange.billImage ? ($out += ' <a href="javascript:void(0);" url="', 
                            $line = 295, $out += $escape(arrange.billImage), $out += '" class="btn-view">查看</a> ', 
                            $line = 296) : ($out += ' <span style="color:#bbb;">查看</span> ', $line = 298), $out += ' </td> <td><span class="F-float F-count">', 
                            $line = 301, $out += $escape(100 * itemSet.travelAgencyRate), $out += '</span><input name="travelAgencyRate" style="width:90px;" type="hidden" value="', 
                            $line = 301, $out += $escape(100 * itemSet.travelAgencyRate), $out += '" old="', 
                            $line = 301, $out += $escape(itemSet.travelAgencyRate), $out += '" maxlength="5" ', 
                            $line = 301, 1 == arrange.isConfirmAccount && ($out += ' readOnly="readOnly" ', 
                            $line = 301), $out += '/></td> <td><span class="travelAgencyRateMoney F-float F-money">', 
                            $line = 303, $out += $escape(itemSet.travelAgencyRateMoney), $out += '</span><input type="hidden" class="travelAgencyRateMoney', 
                            $line = 303, $out += $escape(arrange.whichDay), $out += "_", $line = 303, $out += $escape(arrange.shopId), 
                            $out += '" name="travelAgencyRateMoney" value="', $line = 303, $out += $escape(itemSet.travelAgencyRateMoney), 
                            $out += '" ', $line = 303, 1 == arrange.isConfirmAccount && ($out += 'readOnly="readOnly"', 
                            $line = 303), $out += '/></td> <td><span class="F-float F-count">', $line = 305, 
                            $out += $escape(100 * itemSet.guideRate), $out += '</span><input name="guideRate" style="width:90px;" type="hidden" value="', 
                            $line = 305, $out += $escape(100 * itemSet.guideRate), $out += '" old="', $line = 305, 
                            $out += $escape(itemSet.guideRate), $out += '" maxlength="5" ', $line = 305, 1 == arrange.isConfirmAccount && ($out += 'readOnly="readOnly"', 
                            $line = 305), $out += '/></td> <td><span class="guideRateMoney F-float F-money">', 
                            $line = 307, $out += $escape(itemSet.guideRkateMoney), $out += '</span><input type="hidden" class="guideRateMoney', 
                            $line = 307, $out += $escape(arrange.whichDay), $out += "_", $line = 307, $out += $escape(arrange.shopId), 
                            $out += '" name="guideRateMoney" value="', $line = 307, $out += $escape(itemSet.guideRateMoney), 
                            $out += '" ', $line = 308, 1 == arrange.isConfirmAccount && ($out += 'readOnly="readOnly"', 
                            $line = 308), $out += "/></td> <td > ", $line = 311, 1 == editStatus ? ($out += " ", 
                            $line = 312, $out += $escape(itemSet.billRemark), $out += " ", $line = 313) : ($line = 313, 
                            null != arrange.shopPolicy ? ($line = 313, $out += $escape(arrange.shopPolicy.remark), 
                            $line = 313) : ($line = 313, $out += $escape(itemSet.billRemark), $line = 313), 
                            $line = 313), $out += " </td></tr> ", $line = 315), $out += " ", $line = 316;
                        }), $out += " ", $line = 317), $out += " ", $line = 318), $out += " ", $line = 319;
                    }), $out += " ", $line = 320;
                }), $out += " ", $line = 321), $out += " ", $line = 322;
            }), $out += " </tbody> </table> ", $line = 325, tripPlan.billStatus > -1 && ($out += ' <div style="width:60%;"><div> <label style="margin:5px 0px 0px 0px;">财务审核批注：</label> <input name="accountFinancialCheckComment" ', 
            $line = 328, 1 == tripPlan.billStatus && isFinance || ($out += 'readonly="readonly"', 
            $line = 328), $out += ' type="text" style="width:30%;" value="', $line = 328, remarkArrangeList.shopReamrk.length > 0 && ($line = 328, 
            $out += $escape(remarkArrangeList.shopReamrk[0].opCheckRemark), $line = 328), $out += '" /> <label style="margin:5px 0px 0px 10px;">计调审核批注：</label> <input name="accountOPCheckComment" ', 
            $line = 331, 0 == tripPlan.billStatus && isOp || ($out += 'readonly="readonly"', 
            $line = 331), $out += ' type="text" style="width:30%;" value="', $line = 331, remarkArrangeList.shopReamrk.length > 0 && ($line = 331, 
            $out += $escape(remarkArrangeList.shopReamrk[0].financeCheckRemark), $line = 331), 
            $out += '" /> </div> </div>', $line = 333), $out += ' </div>  <div id="financial-count-tripdetail-selfpay" class="tab-pane fade"> <table class="table table-striped table-bordered table-hover"> <thead> <tr> <th class="th-border" colspan="16">消费</th> <th class="th-border" colspan="2">社佣</th> <th class="th-border" colspan="2">导佣</th>  <th class="th-border" rowspan="2">导游报账备注</th> ', 
            $line = 345, 2 == tripPlan.billStatus && ($out += '<th class="th-border" rowspan="2">是否对账</th>', 
            $line = 345), $out += ' </tr> <tr> <th class="th-border">时间</th> <th class="th-border">自费商家</th> <th class="th-border">项目</th> <th class="th-border">单价</th> <th class="th-border">应收数量</th> <th class="th-border">应收优惠</th> <th class="th-border">应收</th> <th class="th-border">现收</th> <th class="th-border">底价</th> <th class="th-border">应付数量</th> <th class="th-border">优惠</th> <th class="th-border">应付</th> <th class="th-border">已付</th> <th class="th-border">导付</th> <th class="th-border">单据</th> <th class="th-border">人数返佣</th> <th class="th-border">比例%</th> <th class="th-border">返佣</th> <th class="th-border">比例%</th> <th class="th-border">返佣</th> </tr></thead> <tbody class="T-count-selfPay"> ', 
            $line = 370, $each(dayList, function(day) {
                $out += " ", $line = 371, null != day.selfPayArrange && ($out += " ", $line = 372, 
                $each(day.selfPayArrange, function(arrangeList) {
                    $out += " ", $line = 373, $each(arrangeList.selfPayArrangeList, function(arrange, index) {
                        $out += " ", $line = 374, null != arrange && ($out += ' <tr badStatus = "', $line = 375, 
                        $out += $escape(arrange.badStatus), $out += '" selfPayArrangeId="', $line = 375, 
                        $out += $escape(arrange.id), $out += '" selfPayId="', $line = 375, $out += $escape(arrange.selfPayId), 
                        $out += '"> ', $line = 376, 0 == index && ($out += '<td rowspan="', $line = 376, 
                        $out += $escape(arrangeList.selfPayArrangeList.length), $out += '"><span class="whichDay"></span></td>', 
                        $line = 376), $out += " ", $line = 377, 0 == index && ($out += '<td rowspan="', 
                        $line = 377, $out += $escape(arrangeList.selfPayArrangeList.length), $out += '">', 
                        $line = 377, $out += $escape(arrange.selfPay.name), $out += "</td>", $line = 377), 
                        $out += " <td>", $line = 378, null != arrange.selfPayItem && ($line = 378, $out += $escape(arrange.selfPayItem.name), 
                        $line = 378), $out += "</td> <td>", $line = 379, 1 == arrange.badStatus ? ($out += "<span>", 
                        $line = 379, $out += $escape(arrange.marketPrice), $out += "</span>", $line = 379) : ($line = 379, 
                        $out += $escape(arrange.marketPrice), $line = 379), $out += ' <input type="hidden" name="marketPrice" value="', 
                        $line = 380, $out += $escape(arrange.marketPrice), $out += '"/></td> <td><span class="needIncomeCount">', 
                        $line = 382, $out += $escape(arrange.needIncomeCount), $out += '</span></td> <td><span class="needInReduceMoney"></span></td> <td> ', 
                        $line = 387, 1 == arrange.badStatus ? ($out += '<span class="needIncome">', $line = 387, 
                        $out += $escape(arrange.realGetMoney), $out += "</span>", $line = 387) : ($out += '<span class="needIncome">', 
                        $line = 387, $out += $escape(arrange.realGetMoney), $out += "</span>", $line = 387), 
                        $out += "</td> <td> ", $line = 389, 1 == arrange.badStatus ? ($out += '<span class="realGetMoney">', 
                        $line = 389, $out += $escape(arrange.realGetMoney), $out += "</span>", $line = 389) : ($out += ' <span class="realGetMoney">', 
                        $line = 390, $out += $escape(arrange.realGetMoney), $out += "</span>", $line = 390), 
                        $out += " </td> <td>", $line = 393, 1 == arrange.badStatus ? ($out += "<span>", 
                        $line = 393, $out += $escape(arrange.price), $out += "</span>", $line = 393) : ($line = 393, 
                        $out += $escape(arrange.price), $line = 393), $out += ' <input type="hidden" name="price" value="', 
                        $line = 394, $out += $escape(arrange.price), $out += '" /></td> <td> ', $line = 397, 
                        1 == arrange.badStatus ? ($out += "<span>", $line = 397, $out += $escape(arrange.memberCount), 
                        $out += "</span>", $line = 397) : ($out += "<span>", $line = 397, null != arrange.billUpdateTime ? ($line = 397, 
                        $out += $escape(arrange.realCount), $line = 397) : ($line = 397, $out += $escape(arrange.memberCount), 
                        $line = 397), $out += "</span>", $line = 397), $out += ' <input style="width:60px;" type="hidden" name="realCount" ', 
                        $line = 398, null != arrange.billUpdateTime ? ($out += 'value="', $line = 398, $out += $escape(arrange.realCount), 
                        $out += '"', $line = 398) : ($out += 'value="', $line = 398, $out += $escape(arrange.memberCount), 
                        $out += '"', $line = 398), $out += ' maxlength="5"/><input type="hidden" name="memberCount" value="', 
                        $line = 398, $out += $escape(arrange.memberCount), $out += '" ', $line = 398, 1 == arrange.isConfirmAccount && ($out += 'readOnly="readOnly"', 
                        $line = 398), $out += " /></td> <td> ", $line = 400, 1 == arrange.badStatus ? ($out += "<span>", 
                        $line = 400, $out += $escape(arrange.realReduceMoney), $out += "</span>", $line = 400) : ($out += "<span>", 
                        $line = 400, $out += $escape(arrange.realReduceMoney), $out += "</span>", $line = 400), 
                        $out += ' <input type="hidden" name="realReduceMoney" value="', $line = 401, $out += $escape(arrange.realReduceMoney), 
                        $out += '" style="width:60px;"/></td> <td><span class="needPayMoney" >', $line = 402, 
                        $out += $escape(arrange.needPayMoney), $out += '</span><input type="hidden" class="selfMoney"></td> <td>', 
                        $line = 403, $out += $escape(arrange.payedMoney), $out += "</td> <td> <span> ", 
                        $line = 406, 0 == arrange.payType ? ($out += " 现金 ", $line = 408) : 1 == arrange.payType ? ($out += " 刷卡 ", 
                        $line = 410) : 2 == arrange.payType && ($out += " 签单 ", $line = 412), $out += " </span> &nbsp;&nbsp; ", 
                        $line = 415, 1 == arrange.badStatus ? ($out += "<span>", $line = 415, 2 == arrange.payType ? ($line = 415, 
                        $out += $escape(arrange.signMoney), $line = 415) : ($line = 415, $out += $escape(arrange.realGuidePayMoney), 
                        $line = 415), $out += "</span>", $line = 415) : ($out += " <span>", $line = 417, 
                        null != arrange.billUpdateTime ? ($line = 417, $out += $escape(arrange.realGuidePayMoney), 
                        $line = 417) : ($line = 417, $out += $escape(arrange.guidePayMoney), $line = 417), 
                        $out += "</span>", $line = 417), $out += " </td> <td>", $line = 420, null != arrange.billImage && "" != arrange.billImage ? ($out += ' <a href="javascript:void(0);" url="', 
                        $line = 421, $out += $escape(arrange.billImage), $out += '" class="btn-view">查看</a> ', 
                        $line = 422) : ($out += ' <span style="color:#bbb;">查看</span> ', $line = 424), $out += " </td> <td>", 
                        $line = 426, $out += $escape(arrange.customerRebateMoney), $out += "</td> <td> ", 
                        $line = 428, 1 == arrange.badStatus ? ($out += "<span>", $line = 428, $out += $escape($helpers.parseInt(100 * arrange.travelAgencyRate)), 
                        $out += "</span>", $line = 428) : ($out += "<span>", $line = 428, $out += $escape($helpers.parseInt(100 * arrange.travelAgencyRate)), 
                        $out += "</span>", $line = 428), $out += ' <input style="width:90px;" type="hidden" name="travelAgencyRate" value="', 
                        $line = 429, $out += $escape($helpers.parseInt(100 * arrange.travelAgencyRate)), 
                        $out += '" old="', $line = 429, $out += $escape(arrange.travelAgencyRate), $out += '" maxlength="5" ', 
                        $line = 429, 1 == arrange.isConfirmAccount && ($out += 'readOnly="readOnly"', $line = 429), 
                        $out += " /></td> <td> ", $line = 431, 1 == arrange.badStatus ? ($out += "<span>", 
                        $line = 431, $out += $escape(arrange.travelAgencyRebateMoney), $out += "</span>", 
                        $line = 431) : ($out += '<span class="travelAgencyRebateMoney">', $line = 431, $out += $escape(arrange.travelAgencyRebateMoney), 
                        $out += "</span>", $line = 431), $out += ' <input type="hidden" name="travelAgencyRebateMoney" value="', 
                        $line = 433, $out += $escape(arrange.travelAgencyRebateMoney), $out += '" ', $line = 433, 
                        1 == arrange.isConfirmAccount && ($out += 'readOnly="readOnly"', $line = 433), $out += " /></td> <td><span>", 
                        $line = 434, $out += $escape($helpers.parseInt(100 * arrange.guideRate)), $out += '</span> <input style="width:90px;" type="hidden" name="guideRate" value="', 
                        $line = 435, $out += $escape($helpers.parseInt(100 * arrange.guideRate)), $out += '" old="', 
                        $line = 435, $out += $escape(arrange.guideRate), $out += '" maxlength="5"/> </td> <td>', 
                        $line = 437, 1 == arrange.badStatus ? ($out += "<span>", $line = 437, $out += $escape(arrange.guideRebateMoney), 
                        $out += "</span>", $line = 437) : ($out += '<span class="guideRebateMoney">', $line = 437, 
                        $out += $escape(arrange.guideRebateMoney), $out += "</span>", $line = 437), $out += ' <input type="hidden" name="guideRebateMoney" value="', 
                        $line = 439, $out += $escape(arrange.guideRebateMoney), $out += '" ', $line = 439, 
                        1 == arrange.isConfirmAccount && ($out += 'readOnly="readOnly"', $line = 439), $out += ' /></td> <!-- <td> <span class="guideRate">', 
                        $line = 441, $out += $escape(arrange.customerRebateMoney), $out += '</span> <input type="hidden" name="guideRate" value="', 
                        $line = 442, $out += $escape(arrange.customerRebateMoney), $out += '" ', $line = 442, 
                        1 == arrange.isConfirmAccount && ($out += 'readOnly="readOnly"', $line = 442), $out += " /></td> ", 
                        $line = 443, 0 == index && ($out += '<td rowspan="', $line = 443, $out += $escape(arrangeList.selfPayArrangeList.length), 
                        $out += '">', $line = 443, $out += $escape(arrange.customerRebateMoney * tripPlan.touristAdultCount), 
                        $out += "</td>", $line = 443), $out += " --> <td>", $line = 444, $out += $escape(arrange.billRemark), 
                        $out += "</td> ", $line = 445, 2 == tripPlan.billStatus && ($out += "<td>", $line = 445, 
                        0 == arrange.isConfirmAccount ? ($out += "未对账", $line = 445) : ($out += "已对账", $line = 445), 
                        $out += "</td>", $line = 445), $out += " </tr> ", $line = 447), $out += " ", $line = 448;
                    }), $out += " ", $line = 449;
                }), $out += " ", $line = 450), $out += " ", $line = 451;
            }), $out += " </tbody> </table> ", $line = 454, tripPlan.billStatus > -1 && ($out += ' <div style="width:60%;"> <div> <label style="margin:5px 0px 0px 0px;">财务审核批注：</label> <input name="accountFinancialCheckComment" ', 
            $line = 458, 1 == tripPlan.billStatus && isFinance || ($out += 'readonly="readonly"', 
            $line = 458), $out += ' type="text" style="width:30%;" value="', $line = 458, remarkArrangeList.selfRemark.length > 0 && ($line = 458, 
            $out += $escape(remarkArrangeList.selfRemark[0].opCheckRemark), $line = 458), $out += '" /> <label style="margin:5px 0px 0px 10px;">计调审核批注：</label> <input name="accountOPCheckComment" ', 
            $line = 461, 0 == tripPlan.billStatus && isOp || ($out += 'readonly="readonly"', 
            $line = 461), $out += ' type="text" style="width:30%;" value="', $line = 461, remarkArrangeList.selfRemark.length > 0 && ($line = 461, 
            $out += $escape(remarkArrangeList.selfRemark[0].financeCheckRemark), $line = 461), 
            $out += '" /> </div> </div> ', $line = 464), $out += ' </div>  <div id="financial-count-tripdetail-other-incoming" class="tab-pane fade"> <table class="table table-striped table-bordered table-hover"> <thead> <tr> <th class="th-border">时间</th> <th class="th-border">项目</th> <th class="th-border">单价</th> <th class="th-border">数量</th> <th class="th-border">金额</th> <th class="th-border">单据</th> <th class="th-border">导游报账备注</th> ', 
            $line = 478, 2 == tripPlan.billStatus && ($out += '<th class="th-border" rowspan="2">是否对账</th>', 
            $line = 478), $out += ' </tr> </thead> <tbody class="T-count-otherIn"> ', $line = 482, 
            $each(arrangeIncomePaymentList, function(otherInCome) {
                $out += " ", $line = 483, null != otherInCome && ($out += ' <tr otherInId="', $line = 484, 
                $out += $escape(otherInCome.id), $out += '" otherIn="', $line = 484, $out += $escape(otherInCome.id), 
                $out += '" whichDay="', $line = 484, $out += $escape(otherInCome.whichDay), $out += '"> <td><span class="whichDay"></span></td> <td>', 
                $line = 486, $out += $escape(otherInCome.title), $out += "</td> <td><span>", $line = 487, 
                $out += $escape(otherInCome.price), $out += '</span><input style="width:90px;" type="hidden" name="price" value="', 
                $line = 487, $out += $escape(otherInCome.price), $out += '" old="', $line = 487, 
                $out += $escape(otherInCome.price), $out += '" maxlength="11" ', $line = 488, 1 == otherInCome.isConfirmAccount && ($out += 'readOnly="readOnly"', 
                $line = 488), $out += " /></td> <td><span>", $line = 490, $out += $escape(otherInCome.count), 
                $out += '</span><input style="width:90px;" type="hidden" name="count" value="', 
                $line = 490, $out += $escape(otherInCome.count), $out += '" old="', $line = 490, 
                $out += $escape(otherInCome.count), $out += '" maxlength="11" ', $line = 491, 1 == otherInCome.isConfirmAccount && ($out += 'readOnly="readOnly"', 
                $line = 491), $out += '/></td> <td><span class="needPayMoney"><input type="hidden" name="needPayMoney" value="', 
                $line = 492, $out += $escape(otherInCome.needPayMoney), $out += '" ', $line = 493, 
                1 == otherInCome.isConfirmAccount && ($out += 'readOnly="readOnly"', $line = 493), 
                $out += "/></span></td> <td>", $line = 494, null != otherInCome.billImage && "" != otherInCome.billImage ? ($out += ' <a href="javascript:void(0);" url="', 
                $line = 495, $out += $escape(otherInCome.billImage), $out += '" class="btn-view">查看</a> ', 
                $line = 496) : ($out += ' <span style="color:#bbb;">查看</span> ', $line = 498), $out += " </td> <td>", 
                $line = 500, $out += $escape(otherInCome.billRemark), $out += "</td> ", $line = 501, 
                2 == tripPlan.billStatus && ($out += "<td>", $line = 501, 0 == otherInCome.isConfirmAccount ? ($out += "未对账", 
                $line = 501) : ($out += "已对账", $line = 501), $out += "</td>", $line = 501), $out += " </tr> ", 
                $line = 503), $out += " ", $line = 504;
            }), $out += " </tbody> </table> ", $line = 507, tripPlan.billStatus > -1 && ($out += ' <div style="width:60%;"><div> <label style="margin:5px 0px 0px 0px;">财务审核批注：</label> <input name="accountFinancialCheckComment" ', 
            $line = 510, 1 == tripPlan.billStatus && isFinance || ($out += 'readonly="readonly"', 
            $line = 510), $out += ' type="text" style="width:30%;" value="', $line = 510, remarkArrangeList.otherInRemark.length > 0 && ($line = 510, 
            $out += $escape(remarkArrangeList.otherInRemark[0].opCheckRemark), $line = 510), 
            $out += '" /> <label style="margin:5px 0px 0px 10px;">计调审核批注：</label> <input name="accountOPCheckComment" ', 
            $line = 513, 0 == tripPlan.billStatus && isOp || ($out += 'readonly="readonly"', 
            $line = 513), $out += ' type="text" style="width:30%;" value="', $line = 513, remarkArrangeList.otherInRemark.length > 0 && ($line = 513, 
            $out += $escape(remarkArrangeList.otherInRemark[0].financeCheckRemark), $line = 513), 
            $out += '" /> </div> </div>', $line = 515), $out += ' </div>  <div id="financial-count-tripdetail-buspay" class="tab-pane fade"> <table class="table table-striped table-bordered table-hover"> <thead> <tr> <th class="th-border">开始日期</th> <th class="th-border">结束日期</th> <th class="th-border">任务</th> <th class="th-border">所属车队</th> <th class="th-border">车牌号</th> <th class="th-border">座位数</th> <th class="th-border">车费</th> <th class="th-border">优惠</th> <th class="th-border">应付</th> <th class="th-border">已付</th> <th class="th-border">导付</th> <th class="th-border">单据</th> <th class="th-border">差额</th> <th class="th-border">导游报账备注</th> ', 
            $line = 537, 2 == tripPlan.billStatus && ($out += '<th class="th-border" rowspan="2">是否对账</th>', 
            $line = 537), $out += ' </tr> </thead> <tbody class="T-count-bus"> ', $line = 542, 
            $each(busCompanyArrange, function(busCompany) {
                $out += " ", $line = 543, null != busCompany && ($out += ' <tr badStatus = "', $line = 544, 
                $out += $escape(busCompany.badStatus), $out += '" busCompanyArrangeId="', $line = 544, 
                $out += $escape(busCompany.id), $out += '" > <td>', $line = 545, null != busCompany.busCompany && ($line = 545, 
                $out += $escape($helpers.dateFormat(busCompany.startTime, "yyyy-MM-dd")), $line = 545), 
                $out += "</td> <td>", $line = 546, null != busCompany.busCompany && ($line = 546, 
                $out += $escape($helpers.dateFormat(busCompany.endTime, "yyyy-MM-dd")), $line = 546), 
                $out += "</td> <td>", $line = 547, null != busCompany.busCompany && ($out += " ", 
                $line = 548, 0 == busCompany.taskType ? ($out += " 全程 ", $line = 550) : 1 == busCompany.taskType ? ($out += " 接机 ", 
                $line = 552) : 2 == busCompany.taskType ? ($out += " 送机 ", $line = 554) : 3 == busCompany.taskType ? ($out += " 前段 ", 
                $line = 556) : 4 == busCompany.taskType ? ($out += " 中段 ", $line = 558) : 5 == busCompany.taskType && ($out += " 后段 ", 
                $line = 560), $out += " ", $line = 561), $out += "</td> <td>", $line = 562, null != busCompany.busCompany && ($line = 562, 
                $out += $escape(busCompany.busCompany.companyName), $line = 562), $out += "</td> <td>", 
                $line = 563, null != busCompany.bus && ($line = 563, $out += $escape(busCompany.bus.licenseNumber), 
                $line = 563), $out += "</td> <td>", $line = 564, null != busCompany.bus && ($line = 564, 
                $out += $escape(busCompany.bus.seatCount), $line = 564), $out += "</td> <td>", $line = 565, 
                1 == busCompany.badStatus ? ($out += "<span>", $line = 565, $out += $escape(busCompany.price), 
                $out += "</span>", $line = 565) : ($out += "<span>", $line = 565, $out += $escape(busCompany.price), 
                $out += "</span>", $line = 565), $out += ' <input type="hidden" name="price" value="', 
                $line = 566, $out += $escape(busCompany.price), $out += '" /></td> <td>', $line = 567, 
                1 == busCompany.badStatus ? ($out += "<span>", $line = 567, $out += $escape(busCompany.realReduceMoney), 
                $out += "</span>", $line = 567) : ($out += "<span>", $line = 567, $out += $escape(busCompany.realReduceMoney), 
                $out += "</span>", $line = 567), $out += ' <input type="hidden" name="realReduceMoney" value="', 
                $line = 568, $out += $escape(busCompany.realReduceMoney), $out += '" old="', $line = 568, 
                $out += $escape(busCompany.realReduceMoney), $out += '"/></td> <td>', $line = 569, 
                1 == busCompany.badStatus ? ($out += '<span class="BusneedPayMoney">', $line = 569, 
                $out += $escape(busCompany.payedMoney + busCompany.realGuidePayMoney), $out += "</span>", 
                $line = 569) : ($out += '<span class="BusneedPayMoney"></span>', $line = 569), $out += "</td> <td>", 
                $line = 570, $out += $escape(busCompany.payedMoney), $out += "</td> <td> <span> ", 
                $line = 573, 0 == busCompany.payType ? ($out += " 现金 ", $line = 575) : 1 == busCompany.payType ? ($out += " 刷卡 ", 
                $line = 577) : 2 == busCompany.payType && ($out += " 签单 ", $line = 579), $out += " </span> &nbsp;&nbsp; ", 
                $line = 582, 1 == busCompany.badStatus ? ($out += "<span>", $line = 582, 2 == busCompany.payType ? ($line = 582, 
                $out += $escape(busCompany.signMoney), $line = 582) : ($line = 582, $out += $escape(busCompany.realGuidePayMoney), 
                $line = 582), $out += "</span>", $line = 582) : ($out += " <span> ", $line = 584, 
                null != busCompany.billUpdateTime ? ($line = 584, $out += $escape(busCompany.realGuidePayMoney), 
                $line = 584) : ($line = 584, $out += $escape(busCompany.guidePayMoney), $line = 584), 
                $out += "</span>", $line = 584), $out += ' <input type="hidden" name="payedMoney" value="', 
                $line = 585, $out += $escape(busCompany.payedMoney), $out += '" ', $line = 585, 
                1 == busCompany.isConfirmAccount && ($out += 'readOnly="readOnly"', $line = 585), 
                $out += '/> <input type="hidden" name="guidePayMoney" value="', $line = 586, $out += $escape(busCompany.guidePayMoney), 
                $out += '" /></td> <td>', $line = 587, null != busCompany.billImage && "" != busCompany.billImage ? ($out += ' <a href="javascript:void(0);" url="', 
                $line = 588, $out += $escape(busCompany.billImage), $out += '" class="btn-view">查看</a> ', 
                $line = 589) : ($out += ' <span style="color:#bbb;">查看</span> ', $line = 591), $out += ' </td> <td><span class="difference"></span></td> <td>', 
                $line = 594, $out += $escape(busCompany.billRemark), $out += "</td> ", $line = 595, 
                2 == tripPlan.billStatus && ($out += "<td>", $line = 595, 0 == busCompany.isConfirmAccount ? ($out += "未对账", 
                $line = 595) : ($out += "已对账", $line = 595), $out += "</td>", $line = 595), $out += " </tr> ", 
                $line = 597), $out += " ", $line = 598;
            }), $out += " </tbody> </table> ", $line = 601, tripPlan.billStatus > -1 && ($out += ' <div style="width:60%;"> <div> <label style="margin:5px 0px 0px 0px;">财务审核批注：</label> <input name="accountFinancialCheckComment" ', 
            $line = 605, 1 == tripPlan.billStatus && isFinance || ($out += 'readonly="readonly"', 
            $line = 605), $out += ' type="text" style="width:30%;" value="', $line = 605, remarkArrangeList.busRemark.length > 0 && ($line = 605, 
            $out += $escape(remarkArrangeList.busRemark[0].opCheckRemark), $line = 605), $out += '" /> <label style="margin:5px 0px 0px 10px;">计调审核批注：</label> <input name="accountOPCheckComment" ', 
            $line = 608, 0 == tripPlan.billStatus && isOp || ($out += 'readonly="readonly"', 
            $line = 608), $out += ' type="text" style="width:30%;" value="', $line = 608, remarkArrangeList.busRemark.length > 0 && ($line = 608, 
            $out += $escape(remarkArrangeList.busRemark[0].financeCheckRemark), $line = 608), 
            $out += '" /> </div> </div> ', $line = 611), $out += ' </div>  <div id="financial-count-tripdetail-restaurantpay" class="tab-pane fade"> <table class="table table-striped table-bordered table-hover"> <thead> <tr> <th class="th-border">时间</th> <th class="th-border">餐厅</th> <th class="th-border">类型</th> <th class="th-border">餐标</th> <th class="th-border">人数</th> <th class="th-border">优惠</th> <th class="th-border">应付</th> <th class="th-border">已付</th> <th class="th-border">导付</th> <th class="th-border">单据</th> <th class="th-border">差额</th> <th class="th-border">导游报账备注</th> ', 
            $line = 631, 2 == tripPlan.billStatus && ($out += '<th class="th-border" rowspan="2">是否对账</th>', 
            $line = 631), $out += ' </tr> </thead> <tbody class="T-count-restaurant"> ', $line = 635, 
            $each(dayList, function(day) {
                $out += " ", $line = 636, null != day.restaurantArrange && ($out += " ", $line = 637, 
                $each(day.restaurantArrange, function(arrangeList) {
                    $out += " ", $line = 638, $each(arrangeList.restaurantArrangeList, function(arrange, index) {
                        $out += " ", $line = 639, null != arrange && ($out += ' <tr badStatus = "', $line = 640, 
                        $out += $escape(arrange.badStatus), $out += '" restaurantArrangeId="', $line = 640, 
                        $out += $escape(arrange.id), $out += '" restaurantId="', $line = 640, null != arrange.restaurant && ($line = 640, 
                        $out += $escape(arrange.restaurant.id), $line = 640), $out += '" restaurantStandardId="', 
                        $line = 640, null != arrange.restaurantStandard && ($line = 640, $out += $escape(arrange.restaurantStandard.id), 
                        $line = 640), $out += '" whichDay="', $line = 640, $out += $escape(arrange.whichDay), 
                        $out += '"> ', $line = 641, 0 == index && ($out += '<td rowspan="', $line = 641, 
                        $out += $escape(arrangeList.restaurantArrangeList.length), $out += '"><span class="whichDay"></span></td>', 
                        $line = 641), $out += " ", $line = 642, 0 == index && ($out += '<td rowspan="', 
                        $line = 642, $out += $escape(arrangeList.restaurantArrangeList.length), $out += '"> ', 
                        $line = 643, null != arrange.billUpdateTime ? ($out += " ", $line = 644, -1 == arrange.restaurantId ? ($out += " 导游自选 ", 
                        $line = 646) : ($out += " ", $line = 647, null != arrange.restaurant && ($out += " ", 
                        $line = 648, $out += $escape(arrange.restaurant.name), $out += " ", $line = 649), 
                        $out += " ", $line = 650), $out += " ", $line = 651) : ($out += " ", $line = 652, 
                        -1 == arrange.restaurantId ? ($out += " 导游自选 ", $line = 654) : ($out += " ", $line = 655, 
                        null != arrange.restaurant && ($out += " ", $line = 656, $out += $escape(arrange.restaurant.name), 
                        $out += " ", $line = 657), $out += " ", $line = 658), $out += " ", $line = 659), 
                        $out += " </td>", $line = 660), $out += " <td>", $line = 661, $out += $escape(arrange.type), 
                        $out += "</td> <td>", $line = 662, 1 == arrange.badStatus ? ($out += "<span>", $line = 662, 
                        $out += $escape(arrange.price), $out += "</span>", $line = 662) : ($out += '<span class="price">', 
                        $line = 662, $out += $escape(arrange.price), $out += "</span>", $line = 662), $out += '<input type="hidden" name="price" value="', 
                        $line = 662, $out += $escape(arrange.price), $out += '" /></td> <td>', $line = 663, 
                        1 == arrange.badStatus ? ($out += "<span>", $line = 663, $out += $escape(arrange.memberCount), 
                        $out += "</span>", $line = 663) : ($out += "<span>", $line = 663, null != arrange.billUpdateTime ? ($line = 663, 
                        $out += $escape(arrange.realCount), $line = 663) : ($line = 663, $out += $escape(arrange.memberCount), 
                        $line = 663), $out += "</span>", $line = 663), $out += '<input style="width:90px;" type="hidden" name="realCount" ', 
                        $line = 663, null != arrange.billUpdateTime ? ($out += 'value="', $line = 663, $out += $escape(arrange.realCount), 
                        $out += '" ', $line = 664) : ($out += 'value="', $line = 664, $out += $escape(arrange.memberCount), 
                        $out += '"', $line = 664), $out += ' old="', $line = 664, $out += $escape(arrange.realCount), 
                        $out += '" maxlength="5" ', $line = 665, 1 == arrange.isConfirmAccount && ($out += 'readOnly="readOnly"', 
                        $line = 665), $out += "/></td> <td>", $line = 666, 1 == arrange.badStatus ? ($out += "<span>", 
                        $line = 666, $out += $escape(arrange.realReduceMoney), $out += "</span>", $line = 666) : ($out += "<span>", 
                        $line = 666, $out += $escape(arrange.realReduceMoney), $out += "</span>", $line = 666), 
                        $out += '<input type="hidden" name="realReduceMoney" value="', $line = 666, $out += $escape(arrange.realReduceMoney), 
                        $out += '" old="', $line = 666, $out += $escape(arrange.realReduceMoney), $out += '"/></td> <td>', 
                        $line = 667, 1 == arrange.badStatus ? ($out += '<span class="restneedPayMoney">', 
                        $line = 667, $out += $escape(arrange.payedMoney + arrange.realGuidePayMoney), $out += "</span>", 
                        $line = 667) : ($out += '<span class="restneedPayMoney"></span>', $line = 667), 
                        $out += '<input type="hidden" value="', $line = 667, $out += $escape(arrange.needPayMoney), 
                        $out += '" name="needPayMoney"></td> <td>', $line = 668, $out += $escape(arrange.payedMoney), 
                        $out += "</td> <td> <span> ", $line = 671, 0 == arrange.payType ? ($out += " 现金 ", 
                        $line = 673) : 1 == arrange.payType ? ($out += " 刷卡 ", $line = 675) : 2 == arrange.payType && ($out += " 签单 ", 
                        $line = 677), $out += " </span> &nbsp;&nbsp; ", $line = 680, 1 == arrange.badStatus ? ($out += "<span>", 
                        $line = 680, 2 == arrange.payType ? ($line = 680, $out += $escape(arrange.signMoney), 
                        $line = 680) : ($line = 680, $out += $escape(arrange.realGuidePayMoney), $line = 680), 
                        $out += "</span>", $line = 680) : ($out += " <span>", $line = 682, null != arrange.billUpdateTime ? ($line = 682, 
                        $out += $escape(arrange.realGuidePayMoney), $line = 682) : ($line = 682, $out += $escape(arrange.guidePayMoney), 
                        $line = 682), $out += "</span>", $line = 682), $out += ' <input type="hidden" name="payedMoney" value="', 
                        $line = 684, $out += $escape(arrange.payedMoney), $out += '" /> <input type="hidden" name="guidePayMoney" value="', 
                        $line = 685, $out += $escape(arrange.guidePayMoney), $out += '" /></td> <td>', $line = 686, 
                        null != arrange.billImage && "" != arrange.billImage ? ($out += ' <a href="javascript:void(0);" url="', 
                        $line = 687, $out += $escape(arrange.billImage), $out += '" class="btn-view">查看</a> ', 
                        $line = 688) : ($out += ' <span style="color:#bbb;">查看</span> ', $line = 690), $out += ' </td> <td><span class="difference"></span></td> <td><span class="billRemark">', 
                        $line = 693, $out += $escape(arrange.billRemark), $out += "</span></td> ", $line = 694, 
                        2 == tripPlan.billStatus && ($out += "<td>", $line = 694, 0 == arrange.isConfirmAccount ? ($out += "未对账", 
                        $line = 694) : ($out += "已对账", $line = 694), $out += "</td>", $line = 694), $out += " </tr> ", 
                        $line = 696), $out += " ", $line = 697;
                    }), $out += " ", $line = 698;
                }), $out += " ", $line = 699), $out += " ", $line = 700;
            }), $out += " </tbody> </table> ", $line = 703, tripPlan.billStatus > -1 && ($out += ' <div style="width:60%;"> <div> <label style="margin:5px 0px 0px 0px;">财务审核批注：</label> <input name="accountFinancialCheckComment" ', 
            $line = 707, 1 == tripPlan.billStatus && isFinance || ($out += 'readonly="readonly"', 
            $line = 707), $out += ' type="text" style="width:30%;" value="', $line = 707, remarkArrangeList.restRemark.length > 0 && ($line = 707, 
            $out += $escape(remarkArrangeList.restRemark[0].opCheckRemark), $line = 707), $out += '" /> <label style="margin:5px 0px 0px 10px;">计调审核批注：</label> <input name="accountOPCheckComment" ', 
            $line = 710, 0 == tripPlan.billStatus && isOp || ($out += 'readonly="readonly"', 
            $line = 710), $out += ' type="text" style="width:30%;" value="', $line = 710, remarkArrangeList.restRemark.length > 0 && ($line = 710, 
            $out += $escape(remarkArrangeList.restRemark[0].financeCheckRemark), $line = 710), 
            $out += '" /> </div> </div> ', $line = 713), $out += ' </div>  <div id="financial-count-tripdetail-hotelpay" class="tab-pane fade"> <table class="table table-striped table-bordered table-hover"> <thead> <tr> <th class="th-border">时间</th> <th class="th-border">酒店</th> <th class="th-border">房型</th> <th class="th-border">单价</th> <th class="th-border">间数</th> <th class="th-border">优惠</th> <th class="th-border">应付</th> <th class="th-border">已付</th> <th class="th-border">导付</th> <th class="th-border">单据</th> <th class="th-border">差额</th> <th class="th-border">导游报账备注</th> ', 
            $line = 732, 2 == tripPlan.billStatus && ($out += '<th class="th-border" rowspan="2">是否对账</th>', 
            $line = 732), $out += ' </tr> </thead> <tbody class="T-count-hotel"> ', $line = 736, 
            $each(dayList, function(day) {
                $out += " ", $line = 737, null != day.hotelArrange && ($out += " ", $line = 738, 
                $each(day.hotelArrange, function(arrangeList) {
                    $out += " ", $line = 739, $each(arrangeList.hotelArrangeList, function(arrange, index) {
                        $out += " ", $line = 740, null != arrange && ($out += ' <tr badStatus = "', $line = 741, 
                        $out += $escape(arrange.badStatus), $out += '" hotelArrangeId="', $line = 741, $out += $escape(arrange.id), 
                        $out += '" hotelId="', $line = 741, null != arrange.hotel && ($line = 741, $out += $escape(arrange.hotel.id), 
                        $line = 741), $out += '" restaurantStandardId="', $line = 741, null != arrange.hotelRoom && ($line = 741, 
                        $out += $escape(arrange.hotelRoom.id), $line = 741), $out += '" whichDay="', $line = 741, 
                        $out += $escape(arrange.whichDay), $out += '"> ', $line = 742, 0 == index && ($out += '<td rowspan="', 
                        $line = 742, $out += $escape(arrangeList.hotelArrangeList.length), $out += '"><span class="whichDay"></span></td>', 
                        $line = 742), $out += " ", $line = 743, 0 == index && ($out += '<td rowspan="', 
                        $line = 743, $out += $escape(arrangeList.hotelArrangeList.length), $out += '">', 
                        $line = 743, null != arrange.hotel && ($line = 743, $out += $escape(arrange.hotel.name), 
                        $line = 743), $out += "</td>", $line = 743), $out += " <td>", $line = 744, null != arrange.hotelRoom && ($line = 744, 
                        $out += $escape(arrange.hotelRoom.type), $line = 744), $out += "</td> <td>", $line = 745, 
                        1 == arrange.badStatus ? ($out += "<span>", $line = 745, $out += $escape(arrange.price), 
                        $out += "</span>", $line = 745) : ($out += "<span>", $line = 745, $out += $escape(arrange.price), 
                        $out += "</span>", $line = 745), $out += ' <input type="hidden" name="price" value="', 
                        $line = 746, $out += $escape(arrange.price), $out += '" /></td> <td>', $line = 747, 
                        1 == arrange.badStatus ? ($out += "<span>", $line = 747, $out += $escape(arrange.memberCount), 
                        $out += "</span>", $line = 747) : ($out += "<span>", $line = 747, null != arrange.billUpdateTime ? ($line = 747, 
                        $out += $escape(arrange.realCount), $line = 747) : ($line = 747, $out += $escape(arrange.memberCount), 
                        $line = 747), $out += "</span>", $line = 747), $out += ' <input style="width:90px;" type="hidden" name="realCount" ', 
                        $line = 748, null != arrange.billUpdateTime ? ($out += 'value="', $line = 748, $out += $escape(arrange.realCount), 
                        $out += '" ', $line = 748) : ($out += 'value="', $line = 748, $out += $escape(arrange.memberCount), 
                        $out += '"', $line = 748), $out += "/></td> <td>", $line = 749, 1 == arrange.badStatus ? ($out += "<span>", 
                        $line = 749, $out += $escape(arrange.realReduceMoney), $out += "</span>", $line = 749) : ($out += "<span>", 
                        $line = 749, $out += $escape(arrange.realReduceMoney), $out += "</span>", $line = 749), 
                        $out += ' <input type="hidden" name="realReduceMoney" value="', $line = 750, $out += $escape(arrange.realReduceMoney), 
                        $out += '" old="', $line = 750, $out += $escape(arrange.realReduceMoney), $out += '"/></td> <td>', 
                        $line = 751, 1 == arrange.badStatus ? ($out += '<span class="hotelneedPayMoney">', 
                        $line = 751, $out += $escape(arrange.payedMoney + arrange.realGuidePayMoney), $out += "</span>", 
                        $line = 751) : ($out += '<span class="hotelneedPayMoney"></span>', $line = 751), 
                        $out += ' <input name="needPayMoney" type="hidden" value="', $line = 752, $out += $escape(arrange.needPayMoney), 
                        $out += '"></td> <td>', $line = 753, $out += $escape(arrange.payedMoney), $out += "</td> <td> <span> ", 
                        $line = 756, 0 == arrange.payType ? ($out += " 现金 ", $line = 758) : 1 == arrange.payType ? ($out += " 刷卡 ", 
                        $line = 760) : 2 == arrange.payType && ($out += " 签单 ", $line = 762), $out += " </span> &nbsp;&nbsp; ", 
                        $line = 765, 1 == arrange.badStatus ? ($out += "<span>", $line = 765, 2 == arrange.payType ? ($line = 765, 
                        $out += $escape(arrange.signMoney), $line = 765) : ($line = 765, $out += $escape(arrange.realGuidePayMoney), 
                        $line = 765), $out += "</span>", $line = 765) : ($out += " <span>", $line = 767, 
                        null != arrange.billUpdateTime ? ($line = 767, $out += $escape(arrange.realGuidePayMoney), 
                        $line = 767) : ($line = 767, $out += $escape(arrange.guidePayMoney), $line = 767), 
                        $out += "</span>", $line = 767), $out += ' <input type="hidden" name="payedMoney" value="', 
                        $line = 769, $out += $escape(arrange.payedMoney), $out += '" /> <input type="hidden" name="guidePayMoney" value="', 
                        $line = 770, $out += $escape(arrange.guidePayMoney), $out += '" /></td> <td>', $line = 771, 
                        null != arrange.billImage && "" != arrange.billImage ? ($out += ' <a href="javascript:void(0);" url="', 
                        $line = 772, $out += $escape(arrange.billImage), $out += '" class="btn-view">查看</a> ', 
                        $line = 773) : ($out += ' <span style="color:#bbb;">查看</span> ', $line = 775), $out += ' </td> <td><span class="difference"></span></td> <td>', 
                        $line = 778, $out += $escape(arrange.billRemark), $out += "</td> ", $line = 779, 
                        2 == tripPlan.billStatus && ($out += "<td>", $line = 779, 0 == arrange.isConfirmAccount ? ($out += "未对账", 
                        $line = 779) : ($out += "已对账", $line = 779), $out += "</td>", $line = 779), $out += " </tr> ", 
                        $line = 781), $out += " ", $line = 782;
                    }), $out += " ", $line = 783;
                }), $out += " ", $line = 784), $out += " ", $line = 785;
            }), $out += " </tbody> </table> ", $line = 788, tripPlan.billStatus > -1 && ($out += ' <div style="width:60%;"> <div> <label style="margin:5px 0px 0px 0px;">财务审核批注：</label> <input name="accountFinancialCheckComment" ', 
            $line = 792, 1 == tripPlan.billStatus && isFinance || ($out += 'readonly="readonly"', 
            $line = 792), $out += ' type="text" style="width:30%;" value="', $line = 792, remarkArrangeList.hotelRemark.length > 0 && ($line = 792, 
            $out += $escape(remarkArrangeList.hotelRemark[0].opCheckRemark), $line = 792), $out += '" /> <label style="margin:5px 0px 0px 10px;">计调审核批注：</label> <input name="accountOPCheckComment" ', 
            $line = 795, 0 == tripPlan.billStatus && isOp || ($out += 'readonly="readonly"', 
            $line = 795), $out += ' type="text" style="width:30%;" value="', $line = 795, remarkArrangeList.hotelRemark.length > 0 && ($line = 795, 
            $out += $escape(remarkArrangeList.hotelRemark[0].financeCheckRemark), $line = 795), 
            $out += '" /> </div> </div> ', $line = 798), $out += ' </div>  <div id="financial-count-tripdetail-scenicpay" class="tab-pane fade"> <table class="table table-striped table-bordered table-hover"> <thead> <tr> <th class="th-border">时间</th> <th class="th-border">景区</th> <th class="th-border">收费项目</th> <th class="th-border">单价</th> <th class="th-border">数量</th> <th class="th-border">优惠</th> <th class="th-border">应付</th> <th class="th-border">已付</th> <th class="th-border">导付</th> <th class="th-border">单据</th> <th class="th-border">差额</th> <th class="th-border">导游报账备注</th> ', 
            $line = 817, 2 == tripPlan.billStatus && ($out += '<th class="th-border" rowspan="2">是否对账</th>', 
            $line = 817), $out += ' </tr> </thead> <tbody class="T-count-scenic"> ', $line = 821, 
            $each(dayList, function(day) {
                $out += " ", $line = 822, null != day.scenicArrange && ($out += " ", $line = 823, 
                $each(day.scenicArrange, function(arrangeList) {
                    $out += " ", $line = 824, $each(arrangeList.scenicArrangeList, function(arrange, index) {
                        $out += " ", $line = 825, null != arrange && ($out += ' <tr badStatus = "', $line = 826, 
                        $out += $escape(arrange.badStatus), $out += '" scenicArrangeId="', $line = 826, 
                        $out += $escape(arrange.id), $out += '" scenicId="', $line = 826, $out += $escape(arrange.scenicId), 
                        $out += '" scenicItemId="', $line = 826, $out += $escape(arrange.hotelRoomId), $out += '" whichDay="', 
                        $line = 826, $out += $escape(arrange.whichDay), $out += '"> ', $line = 827, 0 == index && ($out += '<td rowspan="', 
                        $line = 827, $out += $escape(arrangeList.scenicArrangeList.length), $out += '"><span class="whichDay"></span></td>', 
                        $line = 827), $out += " ", $line = 828, 0 == index && ($out += '<td rowspan="', 
                        $line = 828, $out += $escape(arrangeList.scenicArrangeList.length), $out += '">', 
                        $line = 828, null != arrange.scenic && ($line = 828, $out += $escape(arrange.scenic.name), 
                        $line = 828), $out += "</td>", $line = 828), $out += " <td>", $line = 829, null != arrange.scenicItem && ($line = 829, 
                        $out += $escape(arrange.scenicItem.name), $line = 829), $out += "</td> <td>", $line = 830, 
                        1 == arrange.badStatus ? ($out += "<span>", $line = 830, $out += $escape(arrange.price), 
                        $out += "</span>", $line = 830) : ($out += "<span> ", $line = 830, $out += $escape(arrange.price), 
                        $out += "</span>", $line = 830), $out += ' <input type="hidden" name="price" value="', 
                        $line = 831, $out += $escape(arrange.price), $out += '" /></td> <td>', $line = 832, 
                        1 == arrange.badStatus ? ($out += "<span>", $line = 832, $out += $escape(arrange.memberCount), 
                        $out += "</span>", $line = 832) : ($out += "<span>", $line = 832, null != arrange.billUpdateTime ? ($line = 832, 
                        $out += $escape(arrange.realCount), $line = 832) : ($line = 832, $out += $escape(arrange.memberCount), 
                        $line = 832), $out += "</span>", $line = 832), $out += ' <input style="width:90px;" type="hidden" name="realCount" ', 
                        $line = 833, null != arrange.billUpdateTime ? ($out += 'value="', $line = 833, $out += $escape(arrange.realCount), 
                        $out += '" ', $line = 833) : ($out += 'value="', $line = 833, $out += $escape(arrange.memberCount), 
                        $out += '"', $line = 833), $out += "/></td> <td>", $line = 834, 1 == arrange.badStatus ? ($out += "<span>", 
                        $line = 834, $out += $escape(arrange.realReduceMoney), $out += "</span>", $line = 834) : ($out += "<span>", 
                        $line = 834, $out += $escape(arrange.realReduceMoney), $out += "</span>", $line = 834), 
                        $out += ' <input type="hidden" name="realReduceMoney" value="', $line = 835, $out += $escape(arrange.realReduceMoney), 
                        $out += '" old="', $line = 835, $out += $escape(arrange.realReduceMoney), $out += '"/></td> <td>', 
                        $line = 836, 1 == arrange.badStatus ? ($out += '<span class="scenicneedPayMoney">', 
                        $line = 836, $out += $escape(arrange.payedMoney + arrange.realGuidePayMoney), $out += "</span>", 
                        $line = 836) : ($out += '<span class="scenicneedPayMoney"></span>', $line = 836), 
                        $out += ' <input type="hidden" name="needPayMoney" value="', $line = 837, $out += $escape(arrange.needPayMoney), 
                        $out += '"></td> <td>', $line = 838, $out += $escape(arrange.payedMoney), $out += "</td> <td> <span> ", 
                        $line = 841, 0 == arrange.payType ? ($out += " 现金 ", $line = 843) : 1 == arrange.payType ? ($out += " 刷卡 ", 
                        $line = 845) : 2 == arrange.payType && ($out += " 签单 ", $line = 847), $out += " </span> &nbsp;&nbsp; ", 
                        $line = 850, 1 == arrange.badStatus ? ($out += "<span>", $line = 850, 2 == arrange.payType ? ($line = 850, 
                        $out += $escape(arrange.signMoney), $line = 850) : ($line = 850, $out += $escape(arrange.realGuidePayMoney), 
                        $line = 850), $out += "</span>", $line = 850) : ($out += "<span> ", $line = 852, 
                        null != arrange.billUpdateTime ? ($line = 852, $out += $escape(arrange.realGuidePayMoney), 
                        $line = 852) : ($line = 852, $out += $escape(arrange.guidePayMoney), $line = 852), 
                        $out += "</span>", $line = 852), $out += ' <input type="hidden" name="payedMoney" value="', 
                        $line = 854, $out += $escape(arrange.payedMoney), $out += '" /> <input type="hidden" name="guidePayMoney" value="', 
                        $line = 855, $out += $escape(arrange.guidePayMoney), $out += '" /></td> <td>', $line = 856, 
                        null != arrange.billImage && "" != arrange.billImage ? ($out += ' <a href="javascript:void(0);" url="', 
                        $line = 857, $out += $escape(arrange.billImage), $out += '" class="btn-view">查看</a> ', 
                        $line = 858) : ($out += ' <span style="color:#bbb;">查看</span> ', $line = 860), $out += ' </td> <td><span class="difference"></span></td> <td>', 
                        $line = 863, $out += $escape(arrange.billRemark), $out += "</td> ", $line = 864, 
                        2 == tripPlan.billStatus && ($out += "<td>", $line = 864, 0 == arrange.isConfirmAccount ? ($out += "未对账", 
                        $line = 864) : ($out += "已对账", $line = 864), $out += "</td>", $line = 864), $out += " </tr> ", 
                        $line = 866), $out += " ", $line = 867;
                    }), $out += " ", $line = 868;
                }), $out += " ", $line = 869), $out += " ", $line = 870;
            }), $out += " </tbody> </table> ", $line = 873, tripPlan.billStatus > -1 && ($out += ' <div style="width:60%;"><div> <label style="margin:5px 0px 0px 0px;">财务审核批注：</label> <input name="accountFinancialCheckComment" ', 
            $line = 876, 1 == tripPlan.billStatus && isFinance || ($out += 'readonly="readonly"', 
            $line = 876), $out += ' type="text" style="width:30%;" value="', $line = 876, remarkArrangeList.scenicRemark.length > 0 && ($line = 876, 
            $out += $escape(remarkArrangeList.scenicRemark[0].opCheckRemark), $line = 876), 
            $out += '" /> <label style="margin:5px 0px 0px 10px;">计调审核批注：</label> <input name="accountOPCheckComment" ', 
            $line = 879, 0 == tripPlan.billStatus && isOp || ($out += 'readonly="readonly"', 
            $line = 879), $out += ' type="text" style="width:30%;" value="', $line = 879, remarkArrangeList.scenicRemark.length > 0 && ($line = 879, 
            $out += $escape(remarkArrangeList.scenicRemark[0].financeCheckRemark), $line = 879), 
            $out += '" /> </div> </div>', $line = 881), $out += ' </div>  <div id="financial-count-tripdetail-ticketpay" class="tab-pane fade"> <table class="table table-striped table-bordered table-hover"> <thead> <tr> <th class="th-border">票务商家</th> <th class="th-border">类型</th> <th class="th-border">日期</th> <th class="th-border">出发地</th> <th class="th-border">目的地</th> <th class="th-border">班次</th> <th class="th-border">座位级别</th> <th class="th-border">单价</th> <th class="th-border">数量</th> <th class="th-border">优惠</th> <th class="th-border">应付</th> <th class="th-border">已付</th> <th class="th-border">导付</th> <th class="th-border">单据</th> <th class="th-border">差额</th> <th class="th-border">导游报账备注</th> ', 
            $line = 904, 2 == tripPlan.billStatus && ($out += '<th class="th-border" rowspan="2">是否对账</th>', 
            $line = 904), $out += ' </tr> </thead> <tbody class="T-count-ticket"> ', $line = 908, 
            $each(ticketArrangeList, function(ticketArrange) {
                $out += " ", $line = 909, $each(ticketArrange.ticketArrangeList, function(arrange, index) {
                    $out += ' <tr badStatus = "', $line = 910, $out += $escape(arrange.badStatus), $out += '" ticketArrangeId="', 
                    $line = 910, $out += $escape(arrange.id), $out += '" ticketId="', $line = 910, $out += $escape(arrange.ticket.id), 
                    $out += '" itemId="', $line = 910, $out += $escape(arrange.id), $out += '"> ', $line = 911, 
                    0 == index && ($out += '<td rowspan="', $line = 911, $out += $escape(ticketArrange.ticketArrangeList.length), 
                    $out += '">', $line = 911, null != arrange.ticket && ($line = 911, $out += $escape(arrange.ticket.name), 
                    $line = 911), $out += "</td>", $line = 911), $out += " ", $line = 912, 0 == index && ($out += '<td rowspan="', 
                    $line = 912, $out += $escape(ticketArrange.ticketArrangeList.length), $out += '">', 
                    $line = 912, 1 == arrange.type ? ($out += "机票", $line = 912) : 2 == arrange.type ? ($out += "汽车票", 
                    $line = 912) : 3 == arrange.type ? ($out += "火车票", $line = 912) : 4 == arrange.type && ($out += "轮船票", 
                    $line = 912), $out += "</td>", $line = 912), $out += " ", $line = 913, 0 == index && ($out += '<td rowspan="', 
                    $line = 913, $out += $escape(ticketArrange.ticketArrangeList.length), $out += '">', 
                    $line = 913, $out += $escape(arrange.startTime), $out += "</td>", $line = 913), 
                    $out += " ", $line = 914, 0 == index && ($out += '<td rowspan="', $line = 914, $out += $escape(ticketArrange.ticketArrangeList.length), 
                    $out += '">', $line = 914, $out += $escape(arrange.startingCity), $out += "</td>", 
                    $line = 914), $out += " ", $line = 915, 0 == index && ($out += '<td rowspan="', 
                    $line = 915, $out += $escape(ticketArrange.ticketArrangeList.length), $out += '">', 
                    $line = 915, $out += $escape(arrange.arriveCity), $out += "</td>", $line = 915), 
                    $out += " <td>", $line = 916, $out += $escape(arrange.shift), $out += "</td> <td>", 
                    $line = 917, $out += $escape(arrange.seatLevel), $out += "</td> <td>", $line = 918, 
                    1 == arrange.badStatus ? ($out += "<span>", $line = 918, $out += $escape(arrange.price), 
                    $out += "</span>", $line = 918) : ($out += "<span>", $line = 918, $out += $escape(arrange.price), 
                    $out += "</span>", $line = 918), $out += ' <input type="hidden" name="price" value="', 
                    $line = 919, $out += $escape(arrange.price), $out += '" /></td> <td>', $line = 920, 
                    1 == arrange.badStatus ? ($out += "<span>", $line = 920, $out += $escape(arrange.memberCount), 
                    $out += "</span>", $line = 920) : ($out += "<span>", $line = 920, null != arrange.billUpdateTime ? ($line = 920, 
                    $out += $escape(arrange.realCount), $line = 920) : ($line = 920, $out += $escape(arrange.memberCount), 
                    $line = 920), $out += "</span>", $line = 920), $out += ' <input style="width:90px;" name="realCount" type="hidden" ', 
                    $line = 921, null != arrange.billUpdateTime ? ($out += 'value="', $line = 921, $out += $escape(arrange.realCount), 
                    $out += '" ', $line = 921) : ($out += 'value="', $line = 921, $out += $escape(arrange.memberCount), 
                    $out += '"', $line = 921), $out += " /></td> <td>", $line = 922, 1 == arrange.badStatus ? ($out += "<span>", 
                    $line = 922, $out += $escape(arrange.realReduceMoney), $out += "</span>", $line = 922) : ($out += "<span>", 
                    $line = 922, $out += $escape(arrange.realReduceMoney), $out += "</span>", $line = 922), 
                    $out += ' <input type="hidden" name="realReduceMoney" value="', $line = 923, $out += $escape(arrange.realReduceMoney), 
                    $out += '" old="', $line = 923, $out += $escape(arrange.realReduceMoney), $out += '"/></td> <td>', 
                    $line = 924, 1 == arrange.badStatus ? ($out += '<span class="ticketneedPayMoney">', 
                    $line = 924, $out += $escape(arrange.payedMoney + arrange.realGuidePayMoney), $out += "</span>", 
                    $line = 924) : ($out += '<span class="ticketneedPayMoney"></span>', $line = 924), 
                    $out += ' <input type="hidden" value="', $line = 925, $out += $escape(arrange.needPayMoney), 
                    $out += '" name="needPayMoney"></td> <td>', $line = 926, $out += $escape(arrange.payedMoney), 
                    $out += "</td> <td> <span> ", $line = 929, 0 == arrange.payType ? ($out += " 现金 ", 
                    $line = 931) : 1 == arrange.payType ? ($out += " 刷卡 ", $line = 933) : 2 == arrange.payType && ($out += " 签单 ", 
                    $line = 935), $out += " </span> &nbsp;&nbsp; ", $line = 938, 1 == arrange.badStatus ? ($out += "<span>", 
                    $line = 938, 2 == arrange.payType ? ($line = 938, $out += $escape(arrange.signMoney), 
                    $line = 938) : ($line = 938, $out += $escape(arrange.realGuidePayMoney), $line = 938), 
                    $out += "</span>", $line = 938) : ($out += " <span>", $line = 940, null != arrange.billUpdateTime ? ($line = 940, 
                    $out += $escape(arrange.realGuidePayMoney), $line = 940) : ($line = 940, $out += $escape(arrange.guidePayMoney), 
                    $line = 940), $out += "</span>", $line = 940), $out += ' <input type="hidden" name="payedMoney" value="', 
                    $line = 941, $out += $escape(arrange.payedMoney), $out += '" /> <input type="hidden" name="guidePayMoney" value="', 
                    $line = 942, $out += $escape(arrange.guidePayMoney), $out += '" /></td> <td>', $line = 943, 
                    null != arrange.billImage && "" != arrange.billImage ? ($out += ' <a href="javascript:void(0);" url="', 
                    $line = 944, $out += $escape(arrange.billImage), $out += '" class="btn-view">查看</a> ', 
                    $line = 945) : ($out += ' <span style="color:#bbb;">查看</span> ', $line = 947), $out += ' </td> <td><span class="difference"></span></td> <td>', 
                    $line = 950, $out += $escape(arrange.billRemark), $out += "</td> ", $line = 951, 
                    2 == tripPlan.billStatus && ($out += "<td>", $line = 951, 0 == arrange.isConfirmAccount ? ($out += "未对账", 
                    $line = 951) : ($out += "已对账", $line = 951), $out += "</td>", $line = 951), $out += " </tr> ", 
                    $line = 953;
                }), $out += " ", $line = 954;
            }), $out += " </tbody> </table> ", $line = 957, tripPlan.billStatus > -1 && ($out += ' <div style="width:60%;"> <div> <label style="margin:5px 0px 0px 0px;">财务审核批注：</label> <input name="accountFinancialCheckComment" ', 
            $line = 961, 1 == tripPlan.billStatus && isFinance || ($out += 'readonly="readonly"', 
            $line = 961), $out += ' type="text" style="width:30%;" value="', $line = 961, remarkArrangeList.ticketRemark.length > 0 && ($line = 961, 
            $out += $escape(remarkArrangeList.ticketRemark[0].opCheckRemark), $line = 961), 
            $out += '" /> <label style="margin:5px 0px 0px 10px;">计调审核批注：</label> <input name="accountOPCheckComment" ', 
            $line = 964, 0 == tripPlan.billStatus && isOp || ($out += 'readonly="readonly"', 
            $line = 964), $out += ' type="text" style="width:30%;" value="', $line = 964, remarkArrangeList.ticketRemark.length > 0 && ($line = 964, 
            $out += $escape(remarkArrangeList.ticketRemark[0].financeCheckRemark), $line = 964), 
            $out += '" /> </div> </div> ', $line = 967), $out += ' </div>  <div id="financial-count-tripdetail-otherpay" class="tab-pane fade"> <table class="table table-striped table-bordered table-hover"> <thead> <tr> <th class="th-border">时间</th> <th class="th-border">项目</th> <th class="th-border">单价</th> <th class="th-border">数量</th> <th class="th-border">优惠</th> <th class="th-border">应付</th> <th class="th-border">已付</th> <th class="th-border">导付</th> <th class="th-border">单据</th> <th class="th-border">差额</th> <th class="th-border">导游报账备注</th> ', 
            $line = 985, 2 == tripPlan.billStatus && ($out += '<th class="th-border" rowspan="2">是否对账</th>', 
            $line = 985), $out += ' </tr> </thead> <tbody class="T-count-otherOut"> ', $line = 989, 
            $each(dayList, function(day) {
                $out += " ", $line = 990, null != day.otherArrange && ($out += " ", $line = 991, 
                $each(day.otherArrange, function(arrange) {
                    $out += " ", $line = 992, null != arrange && ($out += ' <tr badStatus = "', $line = 993, 
                    $out += $escape(arrange.badStatus), $out += '" otherArrangeId="', $line = 993, $out += $escape(arrange.id), 
                    $out += '" whichDay="', $line = 993, $out += $escape(arrange.whichDay), $out += '"> <td><span class="whichDay"></span></td> <td>', 
                    $line = 995, $out += $escape(arrange.name), $out += "</td> <td>", $line = 996, 1 == arrange.badStatus ? ($out += "<span>", 
                    $line = 996, $out += $escape(arrange.price), $out += "</span>", $line = 996) : ($out += '<span class="price">', 
                    $line = 996, $out += $escape(arrange.price), $out += "</span>", $line = 996), $out += ' <input type="hidden" name="price" value="', 
                    $line = 997, $out += $escape(arrange.price), $out += '" ', $line = 997, 1 == arrange.isConfirmAccount && ($out += 'readOnly="readOnly"', 
                    $line = 997), $out += "/></td> <td>", $line = 998, 1 == arrange.badStatus ? ($out += "<span>", 
                    $line = 998, $out += $escape(arrange.memberCount), $out += "</span>", $line = 998) : ($out += "<span>", 
                    $line = 998, null != arrange.billUpdateTime ? ($line = 998, $out += $escape(arrange.realCount), 
                    $line = 998) : ($line = 998, $out += $escape(arrange.memberCount), $line = 998), 
                    $out += "</span>", $line = 998), $out += ' <input style="width:90px;" type="hidden" name="realCount" ', 
                    $line = 999, arrange.billUpdateTime ? ($out += 'value="', $line = 999, $out += $escape(arrange.realCount), 
                    $out += '"', $line = 999) : ($out += 'value="', $line = 999, $out += $escape(arrange.memberCount), 
                    $out += '"', $line = 999), $out += " /></td> <td>", $line = 1e3, 1 == arrange.badStatus ? ($out += "<span>", 
                    $line = 1e3, $out += $escape(arrange.realReduceMoney), $out += "</span>", $line = 1e3) : ($out += "<span>", 
                    $line = 1e3, $out += $escape(arrange.realReduceMoney), $out += "</span>", $line = 1e3), 
                    $out += ' <input type="hidden" name="realReduceMoney" value="', $line = 1001, $out += $escape(arrange.realReduceMoney), 
                    $out += '"/></td> <td>', $line = 1002, 1 == arrange.badStatus ? ($out += '<span class="otherOutNeedPayMoney">', 
                    $line = 1002, $out += $escape(arrange.payedMoney + arrange.realGuidePayMoney), $out += "</span>", 
                    $line = 1002) : ($out += '<span class="otherOutNeedPayMoney"></span>', $line = 1002), 
                    $out += ' <input type="hidden" name="needPayMoney" value="', $line = 1003, $out += $escape(arrange.needPayMoney), 
                    $out += '"></td> <td>', $line = 1004, $out += $escape(arrange.payedMoney), $out += "</td> <td> <span> ", 
                    $line = 1007, 0 == arrange.payType ? ($out += " 现金 ", $line = 1009) : 1 == arrange.payType ? ($out += " 刷卡 ", 
                    $line = 1011) : 2 == arrange.payType && ($out += " 签单 ", $line = 1013), $out += " </span> &nbsp;&nbsp; ", 
                    $line = 1016, 1 == arrange.badStatus ? ($out += "<span>", $line = 1016, 2 == arrange.payType ? ($line = 1016, 
                    $out += $escape(arrange.signMoney), $line = 1016) : ($line = 1016, $out += $escape(arrange.realGuidePayMoney), 
                    $line = 1016), $out += "</span>", $line = 1016) : ($out += " <span>", $line = 1018, 
                    null != arrange.billUpdateTime ? ($line = 1018, $out += $escape(arrange.realGuidePayMoney), 
                    $line = 1018) : ($line = 1018, $out += $escape(arrange.guidePayMoney), $line = 1018), 
                    $out += "</span>", $line = 1018), $out += ' <input type="hidden" name="payedMoney" value="', 
                    $line = 1020, $out += $escape(arrange.payedMoney), $out += '" /> <input type="hidden" name="guidePayMoney" value="', 
                    $line = 1021, $out += $escape(arrange.guidePayMoney), $out += '" /></td> <td>', 
                    $line = 1022, null != arrange.billImage && "" != arrange.billImage ? ($out += ' <a href="javascript:void(0);" url="', 
                    $line = 1023, $out += $escape(arrange.billImage), $out += '" class="btn-view">查看</a> ', 
                    $line = 1024) : ($out += ' <span style="color:#bbb;">查看</span> ', $line = 1026), 
                    $out += ' </td> <td><span class="difference"></span></td> <td>', $line = 1029, $out += $escape(arrange.billRemark), 
                    $out += "</td> ", $line = 1030, 2 == tripPlan.billStatus && ($out += "<td>", $line = 1030, 
                    0 == arrange.isConfirmAccount ? ($out += "未对账", $line = 1030) : ($out += "已对账", 
                    $line = 1030), $out += "</td>", $line = 1030), $out += " </tr> ", $line = 1032), 
                    $out += " ", $line = 1033;
                }), $out += " ", $line = 1034), $out += " ", $line = 1035;
            }), $out += " </tbody> </table> ", $line = 1038, tripPlan.billStatus > -1 && ($out += ' <div style="width:60%;"> <div> <label style="margin:5px 0px 0px 0px;">财务审核批注：</label> <input name="accountFinancialCheckComment" ', 
            $line = 1042, 1 == tripPlan.billStatus && isFinance || ($out += 'readonly="readonly"', 
            $line = 1042), $out += ' type="text" style="width:30%;" value="', $line = 1042, 
            remarkArrangeList.otherOutRemark.length > 0 && ($line = 1042, $out += $escape(remarkArrangeList.otherOutRemark[0].opCheckRemark), 
            $line = 1042), $out += '" /> <label style="margin:5px 0px 0px 10px;">计调审核批注：</label> <input name="accountOPCheckComment" ', 
            $line = 1045, 0 == tripPlan.billStatus && isOp || ($out += 'readonly="readonly"', 
            $line = 1045), $out += ' type="text" style="width:30%;" value="', $line = 1045, 
            remarkArrangeList.otherOutRemark.length > 0 && ($line = 1045, $out += $escape(remarkArrangeList.otherOutRemark[0].financeCheckRemark), 
            $line = 1045), $out += '" /> </div> </div> ', $line = 1048), $out += " </div> ", 
            $line = 1050, null != touristGroup && ($out += '  <div id="financial-count-tripdetail-outarrangepay" class="tab-pane fade T-transit"> <table class="table table-striped table-bordered table-hover"> <thead> <tr> <th class="th-border">序号</th> <th class="th-border">客户</th> <th class="th-border">中转单号</th> <th class="th-border">小组联系人</th> <th class="th-border">联系电话</th> <th class="th-border">人数</th> <th class="th-border">接团</th> <th class="th-border">送团</th> <th class="th-border">明细</th> </tr> </thead> <tbody> ', 
            $line = 1068, $each(touristGroup.touristGroupList, function(touristGroup, index) {
                $out += " <tr> <td>", $line = 1070, $out += $escape(index + 1), $out += "</td> <td>", 
                $line = 1071, $out += $escape(touristGroup.partnerAgencyName), $out += "</td> <td>", 
                $line = 1072, $out += $escape(touristGroup.orderNumber), $out += "</td> <td>", $line = 1073, 
                $out += $escape(touristGroup.name), $out += "</td> <td>", $line = 1074, $out += $escape(touristGroup.mobileNumber), 
                $out += "</td> <td>", $line = 1075, $out += $escape(touristGroup.adultCount), $out += "大", 
                $line = 1075, $out += $escape(touristGroup.childCount), $out += "小</td> <td>", $line = 1076, 
                $out += $escape(touristGroup.arriveService), $out += "</td> <td>", $line = 1077, 
                $out += $escape(touristGroup.leaveService), $out += '</td> <td><a href="javascript:void(0);" data-entity-id="', 
                $line = 1078, $out += $escape(touristGroup.id), $out += '" class="T-viewTripTransit">查看</a></td> </tr> ', 
                $line = 1080;
            }), $out += " </tbody> </table> ", $line = 1084, tripPlan.billStatus > -1 && ($out += ' <div style="width:60%;"><div> <label style="margin:5px 0px 0px 0px;">财务审核批注：</label> <input name="accountFinancialCheckComment" ', 
            $line = 1087, 1 == tripPlan.billStatus && isFinance || ($out += 'readonly="readonly"', 
            $line = 1087), $out += ' type="text" style="width:30%;" value="', $line = 1087, 
            remarkArrangeList.transferRemark.length > 0 && ($line = 1087, $out += $escape(remarkArrangeList.transferRemark[0].opCheckRemark), 
            $line = 1087), $out += '" /> <label style="margin:5px 0px 0px 10px;">计调审核批注：</label> <input name="accountOPCheckComment" ', 
            $line = 1089, 0 == tripPlan.billStatus && isOp || ($out += 'readonly="readonly"', 
            $line = 1089), $out += ' type="text" style="width:30%;" value="', $line = 1089, 
            remarkArrangeList.transferRemark.length > 0 && ($line = 1089, $out += $escape(remarkArrangeList.transferRemark[0].financeCheckRemark), 
            $line = 1089), $out += '" /> </div> </div>', $line = 1091), $out += " </div> ", 
            $line = 1093), $out += '  <div id="financial-count-tripdetail-insurance" class="tab-pane fade T-insurance"> <table class="table table-striped table-bordered table-hover"> <thead> <tr> <th class="th-border">保险公司</th> <th class="th-border">险种</th> <th class="th-border">单价</th> <th class="th-border">数量</th> <th class="th-border">应付</th> <th class="th-border">已付</th> <th class="th-border">导游报账备注</th> ', 
            $line = 1107, 2 == tripPlan.billStatus && ($out += '<th class="th-border" rowspan="2">是否对账</th>', 
            $line = 1107), $out += ' </tr> </thead> <tbody class="T-count-insurance"> ', $line = 1111, 
            $each(insuranceArrangeList, function(insuranceArrange) {
                $out += " <tr> <td>", $line = 1113, $out += $escape(insuranceArrange.insurance.name), 
                $out += "</td> <td>", $line = 1114, null == insuranceArrange.type ? ($line = 1114, 
                null != insuranceArrange.insuranceItem && ($line = 1114, $out += $escape(insuranceArrange.insuranceItem.name), 
                $line = 1114), $line = 1114) : ($line = 1114, $out += $escape(insuranceArrange.type), 
                $line = 1114), $out += "</td> <td>", $line = 1115, $out += $escape(insuranceArrange.price), 
                $out += "</td> <td>", $line = 1116, $out += $escape(insuranceArrange.memberCount), 
                $out += "</td> <td>", $line = 1117, $out += $escape(insuranceArrange.needPayMoney), 
                $out += "</td> <td>", $line = 1118, $out += $escape(insuranceArrange.payedMoney), 
                $out += "</td> <td></td> </tr> ", $line = 1121;
            }), $out += " </tbody> </table> ", $line = 1125, tripPlan.billStatus > -1 && ($out += ' <div style="width:60%;"> <div> <label style="margin:5px 0px 0px 0px;">财务审核批注：</label> <input name="accountFinancialCheckComment" ', 
            $line = 1129, 1 == tripPlan.billStatus && isFinance || ($out += 'readonly="readonly"', 
            $line = 1129), $out += ' type="text" style="width:30%;" value="', $line = 1129, 
            remarkArrangeList.insuranceRemark.length > 0 && ($line = 1129, $out += $escape(remarkArrangeList.insuranceRemark[0].opCheckRemark), 
            $line = 1129), $out += '" /> <label style="margin:5px 0px 0px 10px;">计调审核批注：</label> <input name="accountOPCheckComment" ', 
            $line = 1132, 0 == tripPlan.billStatus && isOp || ($out += 'readonly="readonly"', 
            $line = 1132), $out += ' type="text" style="width:30%;" value="', $line = 1132, 
            remarkArrangeList.insuranceRemark.length > 0 && ($line = 1132, $out += $escape(remarkArrangeList.insuranceRemark[0].financeCheckRemark), 
            $line = 1132), $out += '" /> </div> </div> ', $line = 1135), $out += ' </div>  <div id="financial-count-tripdetail-guide" class="tab-pane fade"> <table class="table table-striped table-bordered table-hover"> <thead> <tr> <th class="th-border"><span class="necessary">*</span>指定导游报账</th> <th class="th-border"><span class="necessary">*</span>开始日期</th> <th class="th-border"><span class="necessary">*</span>结束日期</th> <th class="th-border">任务</th> <th class="th-border">导游</th> <th class="th-border">导服费</th> <th class="th-border"><span class="necessary">*</span>管理费</th> <th class="th-border"><span class="necessary">*</span>导游预支金额</th> <th class="th-border"><span class="necessary">*</span>备注</th> </tr> </thead> <tbody class="T-count-guide"> ', 
            $line = 1154, $each(guideArranges, function(rs) {
                $out += ' <tr guideid = "', $line = 1155, $out += $escape(rs.guide.id), $out += '"> <td><input disabled="disabled" type="radio" name="" ', 
                $line = 1156, 1 == rs.isAccountGuide && ($out += 'checked="checked"', $line = 1156), 
                $out += "/></td> <td>", $line = 1157, $out += $escape($helpers.dateFormat(rs.startTime, "yyyy-MM-dd")), 
                $out += "</td> <td>", $line = 1158, $out += $escape($helpers.dateFormat(rs.endTime, "yyyy-MM-dd")), 
                $out += "</td> <td> ", $line = 1160, 0 == rs.taskType ? ($out += " 全程 ", $line = 1162) : 1 == rs.taskType ? ($out += " 接机 ", 
                $line = 1164) : 2 == rs.taskType ? ($out += " 送机 ", $line = 1166) : 3 == rs.taskType ? ($out += " 前段 ", 
                $line = 1168) : 4 == rs.taskType ? ($out += " 中段 ", $line = 1170) : 5 == rs.taskType && ($out += " 后段 ", 
                $line = 1172), $out += " </td> <td>", $line = 1174, $out += $escape(rs.guide.realname), 
                $out += "</td> <td>", $line = 1175, $out += $escape(rs.price), $out += '<input value="', 
                $line = 1175, $out += $escape(rs.price), $out += '" name="price" type="hidden"></td> <td>', 
                $line = 1176, $out += $escape(rs.manageFee), $out += '<input value="', $line = 1176, 
                $out += $escape(rs.manageFee), $out += '" name="manageFee" type="hidden"></td> <td>', 
                $line = 1177, $out += $escape(rs.guideAllPreMoney), $out += "</td> <td>", $line = 1178, 
                $out += $escape(rs.remark), $out += "</td> </tr> ", $line = 1180;
            }), $out += " </tbody> </table> ", $line = 1184, tripPlan.billStatus > -1 && ($out += ' <div style="width:60%;"> <div> <label style="margin:5px 0px 0px 0px;">财务审核批注：</label> <input name="accountFinancialCheckComment" ', 
            $line = 1188, 1 == tripPlan.billStatus && isFinance || ($out += 'readonly="readonly"', 
            $line = 1188), $out += ' type="text" style="width:30%;" value="', $line = 1188, 
            remarkArrangeList.guideRemark.length > 0 && ($line = 1188, $out += $escape(remarkArrangeList.guideRemark[0].opCheckRemark), 
            $line = 1188), $out += '" /> <label style="margin:5px 0px 0px 10px;">计调审核批注：</label> <input name="accountOPCheckComment" ', 
            $line = 1191, 0 == tripPlan.billStatus && isOp || ($out += 'readonly="readonly"', 
            $line = 1191), $out += ' type="text" style="width:30%;" value="', $line = 1191, 
            remarkArrangeList.guideRemark.length > 0 && ($line = 1191, $out += $escape(remarkArrangeList.guideRemark[0].financeCheckRemark), 
            $line = 1191), $out += '" /> </div> </div> ', $line = 1194), $out += ' </div> </div> </div> <div style="height:30px;"></div> </div> ', 
            new String($out);
        } catch (e) {
            throw {
                filename: $filename,
                name: "Render Error",
                message: e.message,
                line: $line,
                source: '<div class="col-sm-12 financialTripDetail">\r\n    <div>\r\n        <button data-entity-id="{{tripPlan.id}}" class="btn btn-xs btn-success btn-transfter btn-download" style="margin: 0px 10px 20px 0px;width:110px;height:35px;float: right;display: none;">\r\n            <i class="ace-icon fa fa-file-excel-o"></i>导出电子表格\r\n        </button>\r\n    </div>\r\n    <div class="col-xs-12 border">\r\n        <table class="table table-striped table-bordered table-hover all main-table T-main-table" style="margin-top: 30px;">\r\n        <tbody>\r\n            <tr style="">\r\n                <td><label  style="font-weight: bold;">线路：{{tripPlan.lineProduct.name}}</label></td>\r\n                <td><label  style="font-weight: bold;">类别：{{tripPlan.lineProduct.type}}</label></td>\r\n                <td><label  style="font-weight: bold;">针对客源：{{if tripPlan.lineProduct.customerType == 1}}团体{{else if tripPlan.lineProduct.customerType == 0}}散客{{/if}}</label></td>\r\n                <td><label  style="font-weight: bold;">天数：<span class="T-ProductDays" style="font-weight: bold;">{{tripPlan.lineProduct.days}}</span></label></td>\r\n            </tr>\r\n            <tr>\r\n                <td><label style="font-weight: bold;">团号：{{tripPlan.tripNumber}}</label></td>\r\n                <td><label  style="font-weight: bold;">出团日期:<span style="font-weight: bold;" class = "startTime_Choose" name="startTime_Choose">{{tripPlan.startTime | dateFormat:\'yyyy-MM-dd\'}}</span></label></td>\r\n                <td><label style="font-weight: bold;">完团日期：{{tripPlan.endTime | dateFormat:\'yyyy-MM-dd\'}}</label></td>\r\n                <td><label  style="font-weight: bold;">团队人数：{{tripPlan.touristAdultCount}}大{{tripPlan.touristChildCount}}小</label></td>\r\n            </tr>\r\n            <tr>\r\n                <td> <label  style="font-weight: bold;">导游：{{if tripPlan.guide != null}}{{tripPlan.guide.realname}}{{/if}}</label></td>\r\n                <td><label  style="font-weight: bold;">全陪：{{tripPlan.accompanyGuideName}}</label></td>\r\n                <td></td>\r\n                <td></td>\r\n            </tr>\r\n        </tbody>\r\n    </table>\r\n    <input type="hidden" name="totalPersonCount" value="{{tripPlan.touristAdultCount+tripPlan.touristChildCount}}"/>\r\n    <input type="hidden" name=\'busNumber\' class="busNumber" value="{{busCompanyArrange.length}}">\r\n    </div>\r\n    <div style="clear: both"></div>\r\n    <table class="table table-striped table-bordered table-hover all T-main-table" style="margin-top: 30px;">\r\n        <tbody>\r\n        <tr class="T-mainTitle">\r\n            <td colspan="8">\r\n            <div style="float: left;margin-left:10px;">\r\n                <input type="hidden" class="financial-tripPlanId" value="{{tripPlan.id}}" />\r\n                <input type="hidden" class="tripPlanAdultCount" value="{{tripPlan.touristAdultCount}}" />\r\n                <input type="hidden" class="tripPlanChildCount" value="{{tripPlan.touristChildCount}}" />\r\n                <input type="hidden" class="tripPlanStartTime" value="{{tripPlan.startTime | dateFormat:\'yyyy-MM-dd\'}}" />\r\n                \r\n                <label style="margin-left:50px;font-weight: bold;">毛利：<span class="F-float F-money grossProfitMoney">0</span></label>\r\n                <label style="margin-left:50px;font-weight: bold;">人均毛利：<span class="F-float F-money perGrossProfitMoney">0</span></label>\r\n                <label style="margin-left:50px;font-weight: bold;">导游预支金额：<span class="F-float F-money guideAllPreMoney">{{tripPlan.guideAllPreMoney}}</span></label>\r\n            </div></td> \r\n        </tr>\r\n        <tr class="T-title">\r\n            <td colspan="2"><label style="font-weight: bold;">团收入：<span class="F-float F-money tripIncome">0</span></label></td>\r\n            <td colspan="4"><label style="font-weight: bold;">团成本：<span class="F-float F-money tripCost">0</span></label></td>\r\n            <td colspan="2"><label style="font-weight: bold;">中转成本：<span class="F-float F-money tripTransitCost">0</span></label></td>\r\n        </tr>\r\n\r\n        <tr >\r\n            <td><label>应收团款：<span class="F-float F-money tripIncome-getAllMoney">{{touristGroup.needPayAllMoney}}</span></label></td>\r\n            <td><label>自费收入：<span class="F-float F-money tripIncome-selfPayTravelAgencyRebateMoney">0</span></label></td>\r\n            <td><label>导服费：<span class="tripCost-guideArrangePrice F-float F-money">{{guideArrange.price}}</span></label></td>\r\n            <td><label>保险：<span class="F-float F-money tripCost-insuranceArrangeNeedPayMoney">{{insurancePrice}}</span></label></td>\r\n            <td><label>车费：<span class="F-float F-money tripCost-busCompanyNeedPayMoney">0</span></label></td>\r\n            <td><label>导游购物返佣：<span class="F-float F-money tripCost-guideshopFee">0</span></label></td>\r\n            <td><label>车费：<span class="F-float F-money tripTransitCost-busCompanyNeedPayMoney">{{touristGroup.outBusMoney}}</span></label></td>\r\n            <td><label>餐费：<span class="F-float F-money tripTransitCost-outRestaurantMoney">{{touristGroup.outRestaurantMoney}}</span></label></td>\r\n        </tr>\r\n        <tr> \r\n            <td><label>购物返佣：<span class="F-float F-money tripIncome-shopTravelAgencyRateMoney">0</span></label></td>\r\n            <td><label>其它收入：<span class="F-float F-money tripIncome-otherInCome">0</span></label></td>\r\n            <td><label>餐费：<span class="F-float F-money tripCost-restaurantArrangeNeedPayMoney">0</span></label></td>\r\n            <td><label>房费：<span class="F-float F-money tripCost-hotelArrangeNeedPayMoney">0</span></label></td>\r\n            <td><label>景区费用：<span class="F-float F-money tripCost-scenicArrangeNeedPayMoney">0</span></label></td>\r\n            <td><label>导游自费返佣：<span class="F-float F-money tripCost-guideSelfMoney">0</span></label></td>\r\n            <td><label>房费：<span class="F-float F-money tripTransitCost-hotelArrangeNeedPayMoney">{{touristGroup.outHotelMoney}}</span></label></td>\r\n            <td><label>其它费用：<span class="F-float F-money tripTransitCost-outOtherMoney">{{touristGroup.outOtherMoney}}</span></label></td>\r\n        </tr>\r\n        <tr>\r\n            <td><label>导游管理费：<span class="tripIncome-guideManageMoney F-float F-money">{{guideArrange.manageFee}}</span></label></td>\r\n            <td></td>\r\n            <td><label>票务费用：<span class="F-float F-money tripCost-ticketArrangeNeedPayMoney">0</span></label></td>\r\n            <td><label>其它费用：<span class="F-float F-money tripCost-otherArrangeNeedPayMoney">0</span></label></td>\r\n            <td><label>自费费用：<span class="F-float F-money tripCost-selfArrangeNeedPayMoney">0</span></label></td>\r\n            <td><label style="display: none;">地接费用：<span class="F-float F-money tripCost-groundArrangeNeedPayMoney"></span></label></td>\r\n            <td><label>票务费用{{isOp}}：<span class="F-float F-money tripTransitCost-ticketArrangeNeedPayMoney">{{touristGroup.outTicketMoney}}</span></label></td>\r\n            <td></td>\r\n        </tr>\r\n        </tbody>\r\n    </table>\r\n    <input type="hidden" value="{{WEB_IMG_URL_BIG}}" name="WEB_IMG_URL_BIG" />\r\n    <input type="hidden" value="{{WEB_IMG_URL_SMALL}}" name="WEB_IMG_URL_SMALL" />\r\n    <div class="row" style="margin-bottom:15px;">\r\n        <div class="col-md-1">\r\n            <a href="javascript:void(0);" class="btn-financialLog">操作记录</a>\r\n        </div>\r\n        <div class="col-md-1">\r\n            <a href="javascript:void(0);" class="T-tripPlanArrange">安排预算表</a>\r\n        </div>\r\n    </div>\r\n    <div class="tabbable">\r\n        <ul class="nav nav-tabs">\r\n            <li class="active col-sm-1 no-padding align-center" style="width:100px;">\r\n                <a data-toggle="tab" href="#financial-count-tripdetail-money" aria-expanded="true">团款</a>\r\n            </li>\r\n            <li class="col-sm-1 no-padding align-center" style="width:100px;">\r\n                <a data-toggle="tab" href="#financial-count-tripdetail-shop" aria-expanded="true">购物</a>\r\n            </li>\r\n            <li class="col-sm-1 no-padding align-center" style="width:100px;">\r\n                <a data-toggle="tab" href="#financial-count-tripdetail-selfpay" aria-expanded="true">自费</a>\r\n            </li>\r\n            <li class="col-sm-1 no-padding align-center" style="width:100px;">\r\n                <a data-toggle="tab" href="#financial-count-tripdetail-other-incoming" aria-expanded="true">其它收入</a>\r\n            </li>\r\n            \r\n            <li class="col-sm-1 no-padding align-center" style="width:100px;">\r\n                <a data-toggle="tab" href="#financial-count-tripdetail-buspay" aria-expanded="true">车费</a>\r\n            </li>\r\n            <li class="col-sm-1 no-padding align-center" style="width:100px;">\r\n                <a data-toggle="tab" href="#financial-count-tripdetail-restaurantpay" aria-expanded="true">餐费</a>\r\n            </li>\r\n            <li class="col-sm-1 no-padding align-center" style="width:100px;">\r\n                <a data-toggle="tab" href="#financial-count-tripdetail-hotelpay" aria-expanded="true">房费</a>\r\n            </li>\r\n            <li class="col-sm-1 no-padding align-center" style="width:100px;">\r\n                <a data-toggle="tab" href="#financial-count-tripdetail-scenicpay" aria-expanded="true">景区</a>\r\n            </li>\r\n            <li class="col-sm-1 no-padding align-center" style="width:100px;">\r\n                <a data-toggle="tab" href="#financial-count-tripdetail-ticketpay" aria-expanded="true">票务</a>\r\n            </li>\r\n            <li class="col-sm-1 no-padding align-center" style="width:100px;">\r\n                <a data-toggle="tab" href="#financial-count-tripdetail-otherpay" aria-expanded="true">其它支出</a>\r\n            </li>\r\n            {{if touristGroup != null}}\r\n            <li class="col-sm-1 no-padding align-center" style="width:100px;">\r\n                <a data-toggle="tab" href="#financial-count-tripdetail-outarrangepay" aria-expanded="true">中转</a>\r\n            </li>\r\n            {{/if}}\r\n            <li class="col-sm-1 no-padding align-center" style="width:100px;">\r\n                <a data-toggle="tab" href="#financial-count-tripdetail-insurance" aria-expanded="true">保险</a>\r\n            </li>\r\n            <li class="col-sm-1 no-padding align-center" style="width:100px;">\r\n                <a data-toggle="tab" href="#financial-count-tripdetail-guide" aria-expanded="true">导游</a>\r\n            </li>\r\n        </ul>\r\n        <div class="tab-content T-list" style="position:relative;top: -2px">\r\n            <!-- 团款 -->\r\n            <div id="financial-count-tripdetail-money" class="tab-pane fade active in T-tripCost">\r\n                <table class="table table-striped table-bordered table-hover">\r\n                    <tbody class="T-tripDetail">\r\n                    <tr>\r\n                        <td>序号</td>\r\n                        <td>客户</td>\r\n                        <th>收客单号</th>\r\n                        <td>小组联系人</td>\r\n                        <td>联系电话</td>\r\n                        <td>人数</td>\r\n                        <td>应收</td>\r\n                        <td>社收</td>\r\n                        <td>现收</td>\r\n                        <td>明细</td>\r\n                   {{each touristGroups as touristGroup index}}\r\n                        <tr>\r\n                            <td>{{index+1}}</td>\r\n                            <td>{{if touristGroup.partnerAgency}}{{touristGroup.partnerAgency.travelAgencyName}}{{/if}}</td>\r\n                            <td>{{touristGroup.orderNumber}}</td>\r\n                            <td>{{if touristGroup.touristGroupMember != null}}{{touristGroup.touristGroupMember.name}}{{/if}}</td>\r\n                            <td>{{if touristGroup.touristGroupMember != null}}{{touristGroup.touristGroupMember.mobileNumber}}{{/if}}</td>\r\n                            <td><span class="F-float F-count">{{touristGroup.adultCount}}</span>大<span class="F-float F-count">{{touristGroup.childCount}}</span>小</td>\r\n                            <td><span class="F-float F-money">{{touristGroup.needPayAllMoney}}</span></td>\r\n                            <td><span class="F-float F-money">{{touristGroup.payedMoney}}</span></td>\r\n                            <td><span class="F-float F-money">{{touristGroup.currentNeedPayMoney}}</span></td>\r\n                            <td>\r\n                                {{if touristGroup.subStatus == 0}}\r\n                                    {{each touristGroup.touristGroupFeeList as touristGroupFee}}\r\n                                        {{touristGroupFee.name}} ：\r\n                                        <span class="F-float F-money">{{touristGroupFee.price}}</span>&nbsp;X&nbsp;<span class="F-float F-count">{{touristGroupFee.count}}</span>=\r\n                                        <span class="F-float F-money">{{touristGroupFee.price * touristGroupFee.count}}</span><br />\r\n                                    {{/each}}\r\n                                    {{else}}\r\n                                    {{each touristGroup.touristGroupSubFeeList as touristGroupFee}}\r\n                                        {{touristGroupFee.name}} ：\r\n                                        <span class="F-float F-money">{{touristGroupFee.price}}</span>&nbsp;X&nbsp;<span class="F-float F-count">{{touristGroupFee.count}}</span>=\r\n                                        <span class="F-float F-money">{{touristGroupFee.price * touristGroupFee.count}}</span><br />\r\n                                    {{/each}}\r\n                                {{/if}}\r\n                            </td>\r\n                            </td>\r\n                        </tr>\r\n                    {{/each}}\r\n                    </tbody>\r\n                </table>\r\n\r\n                {{if tripPlan.billStatus > -1}}\r\n                <div style="width:60%;"><div> \r\n                    <label style="margin:5px 0px 0px 0px;">财务审核批注：</label>\r\n                    <input name="accountFinancialCheckComment" {{if (!(tripPlan.billStatus == 1 && isFinance)) }}readonly="readonly"{{/if}} type="text" style="width:30%;" value="{{if remarkArrangeList.tripDetailRemark.length>0}}{{remarkArrangeList.tripDetailRemark[0].opCheckRemark}}{{/if}}" />\r\n                \r\n                    <label style="margin:5px 0px 0px 10px;">计调审核批注：</label>\r\n                    <input name="accountOPCheckComment" {{if (!(tripPlan.billStatus == 0 && isOp)) }}readonly="readonly"{{/if}} type="text" style="width:30%;" value="{{if remarkArrangeList.tripDetailRemark.length>0}}{{remarkArrangeList.tripDetailRemark[0].financeCheckRemark}}{{/if}}"/>\r\n                </div>\r\n                </div>{{/if}}\r\n            </div>\r\n            <!-- 购物 -->\r\n            <div id="financial-count-tripdetail-shop" class="tab-pane fade">\r\n                <table class="table table-striped table-bordered table-hover">\r\n                    <thead>\r\n                        <tr>\r\n                            <th class="th-border" colspan="5">打单</th>\r\n                            <th class="th-border" colspan="2">社佣</th>\r\n                            <th class="th-border" colspan="2">导佣</th>\r\n                            <th class="th-border" rowspan="2">导游报账备注</th>\r\n                            <th class="th-border" rowspan="2">是否对账</th>\r\n                        </tr>\r\n                        <tr>\r\n                          <th class="th-border"><span class="necessary">*</span>时间</th>\r\n                          <th class="th-border"><span class="necessary">*</span>购物店</th>\r\n                          <th class="th-border"><span class="necessary">*</span>商品</th>\r\n                          <th class="th-border"><span class="necessary">*</span>金额</th>\r\n                          <th class="th-border">单据</th>\r\n                          <th class="th-border"><span class="necessary">*</span>比例%</th>\r\n                          <th class="th-border">返佣</th>\r\n                          <th class="th-border"><span class="necessary">*</span>比例%</th>\r\n                          <th class="th-border">返佣</th>\r\n                        </tr>\r\n                    </thead>\r\n                    <tbody class="T-count-shopping"> \r\n        {{each dayList as day}}\r\n        {{if day.shopArrange != null}}\r\n        {{each day.shopArrange as arrangeList}}\r\n        {{each arrangeList.shopArrangeList as arrange i}}\r\n\r\n        {{if arrange != null}}\r\n        <tr class="oldData" shopArrangeId="{{arrange.id}}" shopId="{{arrange.shopId}}" whichDay = "{{arrange.whichDay}}" rowspan = "{{arrange.shopArrangeItemSet.length}}">\r\n            <td rowspan="{{arrange.shopArrangeItemSet.length}}"><span class="whichDay"></span> </td>\r\n            <td rowspan="{{arrange.shopArrangeItemSet.length}}">{{arrange.shop.name}}<input type="hidden" name="shopId" value="{{arrange.shopId}}"></td>\r\n            {{if arrange.shopArrangeItemSet != null}}\r\n            {{each arrange.shopArrangeItemSet as itemSet index}}\r\n            {{if index == 0}}\r\n\r\n                <td><span><input type="hidden" name="shopPolicyArrId" value="{{itemSet.id}}">{{if itemSet.shopPolicy != null }}{{itemSet.shopPolicy.name}}\r\n                {{else}}{{itemSet.name}}<input type="hidden" name="shopPolicy" value="{{itemSet.name}}"></span>{{/if}}\r\n                </td>\r\n\r\n                <td>{{itemSet.consumeMoney}}<input class="F-float F-money" policyId="{{if itemSet.shopPolicy != null}}{{itemSet.shopPolicy.id}}{{/if}}" name="consumeMoney" style="width:90px;" type="hidden" value="{{itemSet.consumeMoney}}" old="{{itemSet.consumeMoney}}" maxlength="11" \r\n                {{if arrange.isConfirmAccount == 1}} readOnly="readOnly" {{/if}}/></td>\r\n                \r\n                <td>{{if arrange.billImage != null && arrange.billImage != ""}}\r\n                        <a href="javascript:void(0);" url="{{arrange.billImage}}" class="btn-view">查看</a>\r\n                    {{else}}\r\n                        <span style="color:#bbb;">查看</span>\r\n                    {{/if}}\r\n                </td>\r\n                \r\n                <td><span class="F-float F-count">{{itemSet.travelAgencyRate*100}}</span><input name="travelAgencyRate" style="width:90px;" type="hidden" value="{{itemSet.travelAgencyRate*100}}" old="{{itemSet.travelAgencyRate}}" maxlength="5" {{if arrange.isConfirmAccount == 1}} readOnly="readOnly" {{/if}}/></td>\r\n                \r\n                <td><span class="travelAgencyRateMoney F-float F-money">{{itemSet.travelAgencyRateMoney}}</span><input type="hidden" class="travelAgencyRateMoney{{arrange.whichDay}}_{{arrange.shopId}}" name="travelAgencyRateMoney" value="{{itemSet.travelAgencyRateMoney}}" {{if arrange.isConfirmAccount == 1}}readOnly="readOnly"{{/if}}/></td>\r\n                \r\n                <td><span class="F-float F-count">{{itemSet.guideRate*100}}</span><input name="guideRate" style="width:90px;" type="hidden" value="{{itemSet.guideRate*100}}" old="{{itemSet.guideRate}}" maxlength="5" {{if arrange.isConfirmAccount == 1}}readOnly="readOnly"{{/if}}/></td>\r\n                \r\n                <td><span class="guideRateMoney F-float F-money">{{itemSet.guideRkateMoney}}</span><input type="hidden" class="guideRateMoney{{arrange.whichDay}}_{{arrange.shopId}}" name="guideRateMoney" value="{{itemSet.guideRateMoney}}" \r\n                {{if arrange.isConfirmAccount == 1}}readOnly="readOnly"{{/if}}/></td>\r\n\r\n                <td >\r\n                {{if editStatus == 1}}\r\n                    {{itemSet.billRemark}}\r\n                {{else}}{{if arrange.shopPolicy != null}}{{arrange.shopPolicy.remark}}{{else}}{{itemSet.billRemark}}{{/if}}{{/if}}\r\n                </td>\r\n                {{/if}}\r\n            {{/each}}\r\n            {{/if}}\r\n            <td rowspan="{{arrange.shopArrangeItemSet.length}}">{{if arrange.isConfirmAccount == 0}}未对账{{else}}已对账{{/if}}</td>\r\n        </tr>\r\n        {{if arrange.shopArrangeItemSet != null}}\r\n            {{each arrange.shopArrangeItemSet as itemSet index}}\r\n            {{if index > 0}}\r\n            <tr shopArrangeId="{{arrange.id}}" shopId="{{arrange.shopId}}" whichDay = "{{arrange.whichDay}}" rowspan = "{{arrange.shopArrangeItemSet.length}}">\r\n                <td><span>\r\n                <input type="hidden" name="shopPolicyArrId" value="{{itemSet.id}}">\r\n                <input type="hidden" name="shopPolicy" \r\n                value="{{if itemSet.shopPolicy != null }}\r\n                    {{itemSet.shopPolicy.name}}{{else}}\r\n                {{itemSet.name}}\r\n                {{/if}}">\r\n                <input type="hidden" name="shopPolicyId" value="{{if itemSet.shopPolicy != null }}\r\n                {{itemSet.shopPolicy.id}}\r\n                {{/if}}">\r\n                {{if itemSet.shopPolicy != null }}{{itemSet.shopPolicy.name}}\r\n\r\n                {{else}}{{itemSet.name}}\r\n                \r\n                {{/if}}\r\n\r\n                </td>\r\n\r\n                <td>{{itemSet.consumeMoney}}<input class="F-float F-money" policyId="{{if itemSet.shopPolicy != null}}{{itemSet.shopPolicy.id}}{{/if}}" name="consumeMoney" style="width:90px;" type="hidden" value="{{itemSet.consumeMoney}}" old="{{itemSet.consumeMoney}}" maxlength="11" \r\n                {{if arrange.isConfirmAccount == 1}} readOnly="readOnly" {{/if}}/></td>\r\n                <td>{{if arrange.billImage != null && arrange.billImage != ""}}\r\n                        <a href="javascript:void(0);" url="{{arrange.billImage}}" class="btn-view">查看</a>\r\n                    {{else}}\r\n                        <span style="color:#bbb;">查看</span>\r\n                    {{/if}}\r\n                </td>\r\n                \r\n                <td><span class="F-float F-count">{{itemSet.travelAgencyRate*100}}</span><input name="travelAgencyRate" style="width:90px;" type="hidden" value="{{itemSet.travelAgencyRate*100}}" old="{{itemSet.travelAgencyRate}}" maxlength="5" {{if arrange.isConfirmAccount == 1}} readOnly="readOnly" {{/if}}/></td>\r\n                \r\n                <td><span class="travelAgencyRateMoney F-float F-money">{{itemSet.travelAgencyRateMoney}}</span><input type="hidden" class="travelAgencyRateMoney{{arrange.whichDay}}_{{arrange.shopId}}" name="travelAgencyRateMoney" value="{{itemSet.travelAgencyRateMoney}}" {{if arrange.isConfirmAccount == 1}}readOnly="readOnly"{{/if}}/></td>\r\n                \r\n                <td><span class="F-float F-count">{{itemSet.guideRate * 100}}</span><input name="guideRate" style="width:90px;" type="hidden" value="{{itemSet.guideRate*100}}" old="{{itemSet.guideRate}}" maxlength="5" {{if arrange.isConfirmAccount == 1}}readOnly="readOnly"{{/if}}/></td>\r\n                \r\n                <td><span class="guideRateMoney F-float F-money">{{itemSet.guideRkateMoney}}</span><input type="hidden" class="guideRateMoney{{arrange.whichDay}}_{{arrange.shopId}}" name="guideRateMoney" value="{{itemSet.guideRateMoney}}" \r\n                {{if arrange.isConfirmAccount == 1}}readOnly="readOnly"{{/if}}/></td>\r\n\r\n                <td >\r\n                {{if editStatus == 1}}\r\n                    {{itemSet.billRemark}}\r\n                {{else}}{{if arrange.shopPolicy != null}}{{arrange.shopPolicy.remark}}{{else}}{{itemSet.billRemark}}{{/if}}{{/if}}\r\n                </td></tr>\r\n                {{/if}}\r\n            {{/each}}\r\n            {{/if}}\r\n        {{/if}}\r\n        {{/each}}  \r\n        {{/each}}\r\n        {{/if}}\r\n        {{/each}}\r\n        </tbody>\r\n                </table>\r\n                {{if tripPlan.billStatus > -1}}\r\n                <div style="width:60%;"><div> \r\n                    <label style="margin:5px 0px 0px 0px;">财务审核批注：</label>\r\n                    <input name="accountFinancialCheckComment" {{if (!(tripPlan.billStatus == 1 && isFinance)) }}readonly="readonly"{{/if}} type="text" style="width:30%;" value="{{if remarkArrangeList.shopReamrk.length>0}}{{remarkArrangeList.shopReamrk[0].opCheckRemark}}{{/if}}" />\r\n                \r\n                    <label style="margin:5px 0px 0px 10px;">计调审核批注：</label>\r\n                    <input name="accountOPCheckComment" {{if (!(tripPlan.billStatus == 0 && isOp)) }}readonly="readonly"{{/if}} type="text" style="width:30%;" value="{{if remarkArrangeList.shopReamrk.length>0}}{{remarkArrangeList.shopReamrk[0].financeCheckRemark}}{{/if}}" />\r\n                </div>\r\n                </div>{{/if}}\r\n            </div>\r\n            <!-- 自费 -->\r\n            <div id="financial-count-tripdetail-selfpay" class="tab-pane fade">\r\n                <table class="table table-striped table-bordered table-hover">\r\n                    <thead>\r\n                    <tr>\r\n                        <th class="th-border" colspan="16">消费</th>\r\n                        <th class="th-border" colspan="2">社佣</th>\r\n                        <th class="th-border" colspan="2">导佣</th>\r\n                        <!-- <th class="th-border" colspan="2">人数返佣</th> -->\r\n                        <th class="th-border" rowspan="2">导游报账备注</th>\r\n                        {{if tripPlan.billStatus == 2 }}<th class="th-border" rowspan="2">是否对账</th>{{/if}}\r\n                    </tr>\r\n                    <tr>\r\n                      <th class="th-border">时间</th>\r\n                      <th class="th-border">自费商家</th>\r\n                      <th class="th-border">项目</th>\r\n                      <th class="th-border">单价</th>\r\n                      <th class="th-border">应收数量</th>\r\n                      <th class="th-border">应收优惠</th>\r\n                      <th class="th-border">应收</th>\r\n                      <th class="th-border">现收</th>\r\n                      <th class="th-border">底价</th>\r\n                      <th class="th-border">应付数量</th>\r\n                      <th class="th-border">优惠</th>\r\n                      <th class="th-border">应付</th>\r\n                      <th class="th-border">已付</th>\r\n                      <th class="th-border">导付</th>\r\n                      <th class="th-border">单据</th>\r\n                      <th class="th-border">人数返佣</th>\r\n                      <th class="th-border">比例%</th>\r\n                      <th class="th-border">返佣</th>\r\n                      <th class="th-border">比例%</th>\r\n                      <th class="th-border">返佣</th>\r\n                    </tr></thead>\r\n                    <tbody class="T-count-selfPay">\r\n                    {{each dayList as day}}\r\n                    {{if day.selfPayArrange != null}}\r\n                    {{each day.selfPayArrange as arrangeList}}\r\n                    {{each arrangeList.selfPayArrangeList as arrange index}}\r\n                    {{if arrange != null}}\r\n                    <tr badStatus = "{{arrange.badStatus}}" selfPayArrangeId="{{arrange.id}}" selfPayId="{{arrange.selfPayId}}">\r\n                            {{if index == 0 }}<td rowspan="{{arrangeList.selfPayArrangeList.length}}"><span class="whichDay"></span></td>{{/if}}\r\n                            {{if index == 0 }}<td rowspan="{{arrangeList.selfPayArrangeList.length}}">{{arrange.selfPay.name}}</td>{{/if}}\r\n                            <td>{{if arrange.selfPayItem != null }}{{arrange.selfPayItem.name}}{{/if}}</td>\r\n                            <td>{{if arrange.badStatus == 1}}<span>{{arrange.marketPrice}}</span>{{else}}{{arrange.marketPrice}}{{/if}}\r\n                            <input type="hidden" name="marketPrice" value="{{arrange.marketPrice}}"/></td>\r\n                            \r\n                            <td><span class="needIncomeCount">{{arrange.needIncomeCount}}</span></td>\r\n                            \r\n                            <td><span class="needInReduceMoney"></span></td>\r\n\r\n                            <td>\r\n                            {{if arrange.badStatus == 1}}<span class="needIncome">{{arrange.realGetMoney}}</span>{{else}}<span class="needIncome">{{arrange.realGetMoney}}</span>{{/if}}</td>\r\n                            <td>\r\n                            {{if arrange.badStatus == 1}}<span class="realGetMoney">{{arrange.realGetMoney}}</span>{{else}}\r\n                            <span class="realGetMoney">{{arrange.realGetMoney}}</span>{{/if}}\r\n                            </td>\r\n\r\n                            <td>{{if arrange.badStatus == 1}}<span>{{arrange.price}}</span>{{else}}{{arrange.price}}{{/if}}\r\n                            <input type="hidden" name="price" value="{{arrange.price}}" /></td>\r\n\r\n                            <td>\r\n                            {{if arrange.badStatus == 1}}<span>{{arrange.memberCount}}</span>{{else}}<span>{{if arrange.billUpdateTime != null}}{{arrange.realCount}}{{else}}{{arrange.memberCount}}{{/if}}</span>{{/if}}\r\n                            <input style="width:60px;" type="hidden" name="realCount" {{if arrange.billUpdateTime != null}}value="{{arrange.realCount}}"{{else}}value="{{arrange.memberCount}}"{{/if}} maxlength="5"/><input type="hidden" name="memberCount" value="{{arrange.memberCount}}" {{if arrange.isConfirmAccount == 1}}readOnly="readOnly"{{/if}} /></td> \r\n                            <td>\r\n                            {{if arrange.badStatus == 1}}<span>{{arrange.realReduceMoney}}</span>{{else}}<span>{{arrange.realReduceMoney}}</span>{{/if}}\r\n                            <input type="hidden" name="realReduceMoney" value="{{arrange.realReduceMoney}}" style="width:60px;"/></td>\r\n                            <td><span class="needPayMoney" >{{arrange.needPayMoney}}</span><input type="hidden" class="selfMoney"></td>\r\n                            <td>{{arrange.payedMoney}}</td>\r\n                            <td>\r\n                            <span>\r\n                            {{if arrange.payType == 0}}\r\n                                现金\r\n                                {{else if arrange.payType == 1}}\r\n                                刷卡\r\n                                {{else if arrange.payType == 2}}\r\n                                签单\r\n                            {{/if}}\r\n                            </span>\r\n                            &nbsp;&nbsp;\r\n                            {{if arrange.badStatus == 1}}<span>{{if arrange.payType == 2}}{{arrange.signMoney}}{{else}}{{arrange.realGuidePayMoney}}{{/if}}</span>{{else}}\r\n                            \r\n                            <span>{{if arrange.billUpdateTime != null}}{{arrange.realGuidePayMoney}}{{else}}{{arrange.guidePayMoney}}{{/if}}</span>{{/if}}\r\n                            </td>\r\n                           \r\n                            <td>{{if arrange.billImage != null && arrange.billImage != ""}}\r\n                                    <a href="javascript:void(0);" url="{{arrange.billImage}}" class="btn-view">查看</a>\r\n                                {{else}}\r\n                                    <span style="color:#bbb;">查看</span>\r\n                                {{/if}}\r\n                            </td>\r\n                            <td>{{arrange.customerRebateMoney}}</td>\r\n                            <td>\r\n                            {{if arrange.badStatus == 1}}<span>{{arrange.travelAgencyRate*100 | parseInt}}</span>{{else}}<span>{{arrange.travelAgencyRate*100 | parseInt}}</span>{{/if}}\r\n                                <input style="width:90px;" type="hidden" name="travelAgencyRate" value="{{arrange.travelAgencyRate*100 | parseInt}}" old="{{arrange.travelAgencyRate}}" maxlength="5" {{if arrange.isConfirmAccount == 1}}readOnly="readOnly"{{/if}} /></td>\r\n                            <td>\r\n                            {{if arrange.badStatus == 1}}<span>{{arrange.travelAgencyRebateMoney}}</span>{{else}}<span class="travelAgencyRebateMoney">{{arrange.travelAgencyRebateMoney}}</span>{{/if}}\r\n                                \r\n                                <input type="hidden" name="travelAgencyRebateMoney" value="{{arrange.travelAgencyRebateMoney}}" {{if arrange.isConfirmAccount == 1}}readOnly="readOnly"{{/if}} /></td>\r\n                            <td><span>{{arrange.guideRate*100 | parseInt}}</span>\r\n                                <input style="width:90px;" type="hidden" name="guideRate" value="{{arrange.guideRate*100 | parseInt}}" old="{{arrange.guideRate}}" maxlength="5"/>\r\n                            </td>\r\n                            <td>{{if arrange.badStatus == 1}}<span>{{arrange.guideRebateMoney}}</span>{{else}}<span class="guideRebateMoney">{{arrange.guideRebateMoney}}</span>{{/if}}\r\n                                \r\n                                <input type="hidden" name="guideRebateMoney" value="{{arrange.guideRebateMoney}}" {{if arrange.isConfirmAccount == 1}}readOnly="readOnly"{{/if}} /></td>\r\n                            <!-- <td>\r\n                                <span class="guideRate">{{arrange.customerRebateMoney}}</span>\r\n                                <input type="hidden" name="guideRate" value="{{arrange.customerRebateMoney}}" {{if arrange.isConfirmAccount == 1}}readOnly="readOnly"{{/if}} /></td>\r\n                            {{if index == 0 }}<td rowspan="{{arrangeList.selfPayArrangeList.length}}">{{arrange.customerRebateMoney * tripPlan.touristAdultCount}}</td>{{/if}} -->\r\n                            <td>{{arrange.billRemark}}</td>\r\n                            {{if tripPlan.billStatus == 2}}<td>{{if arrange.isConfirmAccount == 0}}未对账{{else}}已对账{{/if}}</td>{{/if}}                              \r\n                    </tr>\r\n                    {{/if}}\r\n                    {{/each}}\r\n                    {{/each}}\r\n                    {{/if}}\r\n                    {{/each}}\r\n                    </tbody>\r\n                </table>\r\n                {{if tripPlan.billStatus > -1}}\r\n                    <div style="width:60%;">\r\n                        <div> \r\n                            <label style="margin:5px 0px 0px 0px;">财务审核批注：</label>\r\n                            <input name="accountFinancialCheckComment" {{if (!(tripPlan.billStatus == 1 && isFinance)) }}readonly="readonly"{{/if}} type="text" style="width:30%;" value="{{if remarkArrangeList.selfRemark.length>0}}{{remarkArrangeList.selfRemark[0].opCheckRemark}}{{/if}}" />\r\n                        \r\n                            <label style="margin:5px 0px 0px 10px;">计调审核批注：</label>\r\n                            <input name="accountOPCheckComment" {{if (!(tripPlan.billStatus == 0 && isOp)) }}readonly="readonly"{{/if}} type="text" style="width:30%;" value="{{if remarkArrangeList.selfRemark.length>0}}{{remarkArrangeList.selfRemark[0].financeCheckRemark}}{{/if}}" />\r\n                        </div>\r\n                    </div>\r\n                {{/if}}\r\n            </div>\r\n            <!-- 其它收入 -->\r\n            <div id="financial-count-tripdetail-other-incoming" class="tab-pane fade">\r\n                <table class="table table-striped table-bordered table-hover">\r\n                    <thead>\r\n                    <tr>\r\n                        <th class="th-border">时间</th>\r\n                        <th class="th-border">项目</th>\r\n                        <th class="th-border">单价</th>\r\n                        <th class="th-border">数量</th>\r\n                        <th class="th-border">金额</th>\r\n                        <th class="th-border">单据</th>\r\n                        <th class="th-border">导游报账备注</th>\r\n                        {{if tripPlan.billStatus == 2 }}<th class="th-border" rowspan="2">是否对账</th>{{/if}}\r\n                    </tr>\r\n                    </thead>\r\n                    <tbody class="T-count-otherIn">\r\n                    {{each arrangeIncomePaymentList as otherInCome}}\r\n                    {{if otherInCome != null}}\r\n                    <tr otherInId="{{otherInCome.id}}" otherIn="{{otherInCome.id}}" whichDay="{{otherInCome.whichDay}}">\r\n                        <td><span class="whichDay"></span></td>\r\n                        <td>{{otherInCome.title}}</td>\r\n                        <td><span>{{otherInCome.price}}</span><input style="width:90px;" type="hidden" name="price" value="{{otherInCome.price}}" old="{{otherInCome.price}}" maxlength="11"\r\n                        {{if otherInCome.isConfirmAccount == 1}}readOnly="readOnly"{{/if}}\r\n                        /></td>\r\n                        <td><span>{{otherInCome.count}}</span><input style="width:90px;" type="hidden" name="count" value="{{otherInCome.count}}" old="{{otherInCome.count}}" maxlength="11"\r\n                        {{if otherInCome.isConfirmAccount == 1}}readOnly="readOnly"{{/if}}/></td>\r\n                        <td><span class="needPayMoney"><input type="hidden" name="needPayMoney" value="{{otherInCome.needPayMoney}}" \r\n                        {{if otherInCome.isConfirmAccount == 1}}readOnly="readOnly"{{/if}}/></span></td>\r\n                        <td>{{if otherInCome.billImage != null && otherInCome.billImage != ""}}\r\n                                <a href="javascript:void(0);" url="{{otherInCome.billImage}}" class="btn-view">查看</a>\r\n                            {{else}}\r\n                                <span style="color:#bbb;">查看</span>\r\n                            {{/if}}\r\n                        </td>\r\n                        <td>{{otherInCome.billRemark}}</td>\r\n                        {{if tripPlan.billStatus == 2}}<td>{{if otherInCome.isConfirmAccount == 0}}未对账{{else}}已对账{{/if}}</td>{{/if}}\r\n                    </tr>\r\n                    {{/if}}\r\n                    {{/each}}\r\n                    </tbody>\r\n                </table>\r\n                {{if tripPlan.billStatus > -1}}\r\n                <div style="width:60%;"><div> \r\n                    <label style="margin:5px 0px 0px 0px;">财务审核批注：</label>\r\n                    <input name="accountFinancialCheckComment" {{if (!(tripPlan.billStatus == 1 && isFinance)) }}readonly="readonly"{{/if}} type="text" style="width:30%;" value="{{if remarkArrangeList.otherInRemark.length>0}}{{remarkArrangeList.otherInRemark[0].opCheckRemark}}{{/if}}" />\r\n                \r\n                    <label style="margin:5px 0px 0px 10px;">计调审核批注：</label>\r\n                    <input name="accountOPCheckComment" {{if (!(tripPlan.billStatus == 0 && isOp)) }}readonly="readonly"{{/if}} type="text" style="width:30%;" value="{{if remarkArrangeList.otherInRemark.length>0}}{{remarkArrangeList.otherInRemark[0].financeCheckRemark}}{{/if}}" />\r\n                </div>\r\n                </div>{{/if}}\r\n            </div>\r\n            \r\n            <!-- 车费 -->\r\n            <div id="financial-count-tripdetail-buspay" class="tab-pane fade">\r\n                <table class="table table-striped table-bordered table-hover">\r\n                    <thead>\r\n                    <tr>\r\n                        <th class="th-border">开始日期</th>\r\n                        <th class="th-border">结束日期</th>\r\n                        <th class="th-border">任务</th>\r\n                        <th class="th-border">所属车队</th>\r\n                        <th class="th-border">车牌号</th>\r\n                        <th class="th-border">座位数</th>\r\n                        <th class="th-border">车费</th>\r\n                        <th class="th-border">优惠</th>\r\n                        <th class="th-border">应付</th>\r\n                        <th class="th-border">已付</th>\r\n                        <th class="th-border">导付</th>\r\n                        <th class="th-border">单据</th>\r\n                        <th class="th-border">差额</th>\r\n                        <th class="th-border">导游报账备注</th>\r\n                        {{if tripPlan.billStatus == 2 }}<th class="th-border" rowspan="2">是否对账</th>{{/if}}\r\n\r\n                    </tr>\r\n                    </thead>\r\n                    <tbody class="T-count-bus">\r\n                    {{each busCompanyArrange as busCompany}}\r\n                    {{if busCompany != null}}\r\n                    <tr badStatus = "{{busCompany.badStatus}}" busCompanyArrangeId="{{busCompany.id}}" >\r\n                        <td>{{if busCompany.busCompany != null}}{{busCompany.startTime | dateFormat: \'yyyy-MM-dd\'}}{{/if}}</td>\r\n                        <td>{{if busCompany.busCompany != null}}{{busCompany.endTime | dateFormat: \'yyyy-MM-dd\'}}{{/if}}</td>\r\n                        <td>{{if busCompany.busCompany != null}}\r\n                            {{ if busCompany.taskType == 0}}\r\n                                    全程\r\n                                {{else if busCompany.taskType == 1}}\r\n                                    接机\r\n                                {{else if busCompany.taskType == 2}}\r\n                                    送机\r\n                                {{else if busCompany.taskType == 3}}\r\n                                    前段\r\n                                {{else if busCompany.taskType == 4}}\r\n                                    中段\r\n                                {{else if busCompany.taskType == 5}}\r\n                                    后段\r\n                            {{/if}}\r\n                        {{/if}}</td>\r\n                        <td>{{if busCompany.busCompany != null}}{{busCompany.busCompany.companyName}}{{/if}}</td>\r\n                        <td>{{if busCompany.bus != null}}{{busCompany.bus.licenseNumber}}{{/if}}</td>\r\n                        <td>{{if busCompany.bus != null}}{{busCompany.bus.seatCount}}{{/if}}</td>\r\n                        <td>{{if busCompany.badStatus == 1}}<span>{{busCompany.price}}</span>{{else}}<span>{{busCompany.price}}</span>{{/if}}\r\n                        <input type="hidden" name="price" value="{{busCompany.price}}" /></td>\r\n                        <td>{{if busCompany.badStatus == 1}}<span>{{busCompany.realReduceMoney}}</span>{{else}}<span>{{busCompany.realReduceMoney}}</span>{{/if}}\r\n                        <input type="hidden" name="realReduceMoney" value="{{busCompany.realReduceMoney}}" old="{{busCompany.realReduceMoney}}"/></td>\r\n                        <td>{{if busCompany.badStatus == 1}}<span class="BusneedPayMoney">{{busCompany.payedMoney+busCompany.realGuidePayMoney}}</span>{{else}}<span class="BusneedPayMoney"></span>{{/if}}</td>\r\n                        <td>{{busCompany.payedMoney}}</td>\r\n                        <td>\r\n                        <span>\r\n                            {{if busCompany.payType == 0}}\r\n                                现金\r\n                                {{else if busCompany.payType == 1}}\r\n                                刷卡\r\n                                {{else if busCompany.payType == 2}}\r\n                                签单\r\n                            {{/if}}\r\n                        </span>\r\n                        &nbsp;&nbsp;\r\n                        {{if busCompany.badStatus == 1}}<span>{{if busCompany.payType == 2}}{{busCompany.signMoney}}{{else}}{{busCompany.realGuidePayMoney}}{{/if}}</span>{{else}}\r\n                        <span>\r\n                        {{if busCompany.billUpdateTime != null}}{{busCompany.realGuidePayMoney}}{{else}}{{busCompany.guidePayMoney}}{{/if}}</span>{{/if}}  \r\n                            <input type="hidden" name="payedMoney" value="{{busCompany.payedMoney}}" {{if busCompany.isConfirmAccount == 1}}readOnly="readOnly"{{/if}}/>\r\n                            <input type="hidden" name="guidePayMoney" value="{{busCompany.guidePayMoney}}" /></td>\r\n                         <td>{{if busCompany.billImage != null && busCompany.billImage != ""}}\r\n                                <a href="javascript:void(0);" url="{{busCompany.billImage}}" class="btn-view">查看</a>\r\n                            {{else}}\r\n                                <span style="color:#bbb;">查看</span>\r\n                            {{/if}}\r\n                        </td>\r\n                        <td><span class="difference"></span></td>\r\n                        <td>{{busCompany.billRemark}}</td>\r\n                        {{if tripPlan.billStatus == 2}}<td>{{if busCompany.isConfirmAccount == 0}}未对账{{else}}已对账{{/if}}</td>{{/if}}\r\n                    </tr>\r\n                    {{/if}}\r\n                    {{/each}}\r\n                    </tbody>\r\n                </table>\r\n                {{if tripPlan.billStatus > -1}}\r\n                    <div style="width:60%;">\r\n                        <div> \r\n                            <label style="margin:5px 0px 0px 0px;">财务审核批注：</label>\r\n                            <input name="accountFinancialCheckComment" {{if (!(tripPlan.billStatus == 1 && isFinance)) }}readonly="readonly"{{/if}} type="text" style="width:30%;" value="{{if remarkArrangeList.busRemark.length>0}}{{remarkArrangeList.busRemark[0].opCheckRemark}}{{/if}}" />\r\n                        \r\n                            <label style="margin:5px 0px 0px 10px;">计调审核批注：</label>\r\n                            <input name="accountOPCheckComment" {{if (!(tripPlan.billStatus == 0 && isOp)) }}readonly="readonly"{{/if}} type="text" style="width:30%;" value="{{if remarkArrangeList.busRemark.length>0}}{{remarkArrangeList.busRemark[0].financeCheckRemark}}{{/if}}" />\r\n                        </div>\r\n                    </div>\r\n                {{/if}}\r\n            </div>\r\n            <!-- 餐费 -->\r\n            <div id="financial-count-tripdetail-restaurantpay" class="tab-pane fade">\r\n                \r\n                <table class="table table-striped table-bordered table-hover">\r\n                    <thead>\r\n                        <tr>\r\n                            <th class="th-border">时间</th>\r\n                            <th class="th-border">餐厅</th>\r\n                            <th class="th-border">类型</th>\r\n                            <th class="th-border">餐标</th>\r\n                            <th class="th-border">人数</th>\r\n                            <th class="th-border">优惠</th>\r\n                            <th class="th-border">应付</th>\r\n                            <th class="th-border">已付</th>\r\n                            <th class="th-border">导付</th>\r\n                            <th class="th-border">单据</th>\r\n                            <th class="th-border">差额</th>\r\n                            <th class="th-border">导游报账备注</th>\r\n                            {{if tripPlan.billStatus == 2 }}<th class="th-border" rowspan="2">是否对账</th>{{/if}}\r\n                        </tr>\r\n                    </thead>\r\n                    <tbody class="T-count-restaurant"> \r\n                    {{each dayList as day}}\r\n                    {{if day.restaurantArrange != null}}\r\n                    {{each day.restaurantArrange as arrangeList}}\r\n                    {{each arrangeList.restaurantArrangeList as arrange index}}\r\n                    {{if arrange != null}}\r\n                    <tr badStatus = "{{arrange.badStatus}}" restaurantArrangeId="{{arrange.id}}" restaurantId="{{if arrange.restaurant != null}}{{arrange.restaurant.id}}{{/if}}" restaurantStandardId="{{if arrange.restaurantStandard != null}}{{arrange.restaurantStandard.id}}{{/if}}" whichDay="{{arrange.whichDay}}">\r\n                        {{if index == 0}}<td rowspan="{{arrangeList.restaurantArrangeList.length}}"><span class="whichDay"></span></td>{{/if}}\r\n                        {{if index == 0}}<td rowspan="{{arrangeList.restaurantArrangeList.length}}">\r\n                        {{if arrange.billUpdateTime != null}}\r\n                            {{if arrange.restaurantId == -1}}\r\n                                导游自选\r\n                            {{else}}\r\n                                {{if arrange.restaurant != null}}\r\n                                    {{arrange.restaurant.name}}\r\n                                {{/if}}\r\n                            {{/if}}\r\n                        {{else}}\r\n                            {{if arrange.restaurantId == -1}}\r\n                                导游自选\r\n                            {{else}}\r\n                                {{if arrange.restaurant != null}}\r\n                                    {{arrange.restaurant.name}}\r\n                                {{/if}}\r\n                            {{/if}}\r\n                        {{/if}}\r\n                        </td>{{/if}}\r\n                        <td>{{arrange.type}}</td> \r\n                        <td>{{if arrange.badStatus == 1}}<span>{{arrange.price}}</span>{{else}}<span class="price">{{arrange.price}}</span>{{/if}}<input type="hidden" name="price" value="{{arrange.price}}" /></td>\r\n                        <td>{{if arrange.badStatus == 1}}<span>{{arrange.memberCount}}</span>{{else}}<span>{{if arrange.billUpdateTime != null}}{{arrange.realCount}}{{else}}{{arrange.memberCount}}{{/if}}</span>{{/if}}<input style="width:90px;" type="hidden" name="realCount" {{if arrange.billUpdateTime != null}}value="{{arrange.realCount}}" \r\n                        {{else}}value="{{arrange.memberCount}}"{{/if}} old="{{arrange.realCount}}" maxlength="5"\r\n                        {{if arrange.isConfirmAccount == 1}}readOnly="readOnly"{{/if}}/></td>\r\n                        <td>{{if arrange.badStatus == 1}}<span>{{arrange.realReduceMoney}}</span>{{else}}<span>{{arrange.realReduceMoney}}</span>{{/if}}<input type="hidden" name="realReduceMoney" value="{{arrange.realReduceMoney}}" old="{{arrange.realReduceMoney}}"/></td>\r\n                        <td>{{if arrange.badStatus == 1}}<span class="restneedPayMoney">{{arrange.payedMoney+arrange.realGuidePayMoney}}</span>{{else}}<span class="restneedPayMoney"></span>{{/if}}<input type="hidden" value="{{arrange.needPayMoney}}" name="needPayMoney"></td>\r\n                        <td>{{arrange.payedMoney}}</td>\r\n                        <td>\r\n                        <span>\r\n                            {{if arrange.payType == 0}}\r\n                                现金\r\n                                {{else if arrange.payType == 1}}\r\n                                刷卡\r\n                                {{else if arrange.payType == 2}}\r\n                                签单\r\n                            {{/if}}\r\n                        </span>\r\n                        &nbsp;&nbsp;\r\n                        {{if arrange.badStatus == 1}}<span>{{if arrange.payType == 2}}{{arrange.signMoney}}{{else}}{{arrange.realGuidePayMoney}}{{/if}}</span>{{else}}\r\n                        \r\n                        <span>{{if arrange.billUpdateTime != null}}{{arrange.realGuidePayMoney}}{{else}}{{arrange.guidePayMoney}}{{/if}}</span>{{/if}}\r\n\r\n                            <input type="hidden" name="payedMoney" value="{{arrange.payedMoney}}" />\r\n                            <input type="hidden" name="guidePayMoney" value="{{arrange.guidePayMoney}}" /></td>\r\n                        <td>{{if arrange.billImage != null && arrange.billImage != ""}}\r\n                                <a href="javascript:void(0);" url="{{arrange.billImage}}" class="btn-view">查看</a>\r\n                            {{else}}\r\n                                <span style="color:#bbb;">查看</span>\r\n                            {{/if}}\r\n                        </td>\r\n                        <td><span class="difference"></span></td>\r\n                        <td><span class="billRemark">{{arrange.billRemark}}</span></td>\r\n                        {{if tripPlan.billStatus == 2}}<td>{{if arrange.isConfirmAccount == 0}}未对账{{else}}已对账{{/if}}</td>{{/if}}\r\n                    </tr>\r\n                    {{/if}}\r\n                    {{/each}}\r\n                    {{/each}}\r\n                    {{/if}}\r\n                    {{/each}}\r\n                    </tbody>\r\n                </table>\r\n                {{if tripPlan.billStatus > -1}}\r\n                    <div style="width:60%;">\r\n                        <div> \r\n                            <label style="margin:5px 0px 0px 0px;">财务审核批注：</label>\r\n                            <input name="accountFinancialCheckComment" {{if (!(tripPlan.billStatus == 1 && isFinance)) }}readonly="readonly"{{/if}} type="text" style="width:30%;" value="{{if remarkArrangeList.restRemark.length>0}}{{remarkArrangeList.restRemark[0].opCheckRemark}}{{/if}}" />\r\n                        \r\n                            <label style="margin:5px 0px 0px 10px;">计调审核批注：</label>\r\n                            <input name="accountOPCheckComment" {{if (!(tripPlan.billStatus == 0 && isOp)) }}readonly="readonly"{{/if}} type="text" style="width:30%;" value="{{if remarkArrangeList.restRemark.length>0}}{{remarkArrangeList.restRemark[0].financeCheckRemark}}{{/if}}" />\r\n                        </div>\r\n                    </div>\r\n                {{/if}}\r\n            </div>\r\n            <!-- 房费 -->\r\n            <div id="financial-count-tripdetail-hotelpay" class="tab-pane fade">\r\n                <table class="table table-striped table-bordered table-hover">\r\n                    <thead>\r\n                    <tr>\r\n                        <th class="th-border">时间</th>\r\n                        <th class="th-border">酒店</th>\r\n                        <th class="th-border">房型</th>\r\n                        <th class="th-border">单价</th>\r\n                        <th class="th-border">间数</th>\r\n                        <th class="th-border">优惠</th>\r\n                        <th class="th-border">应付</th>\r\n                        <th class="th-border">已付</th>\r\n                        <th class="th-border">导付</th>\r\n                        <th class="th-border">单据</th>\r\n                        <th class="th-border">差额</th>\r\n                        <th class="th-border">导游报账备注</th>\r\n                        {{if tripPlan.billStatus == 2 }}<th class="th-border" rowspan="2">是否对账</th>{{/if}}\r\n                    </tr> \r\n                    </thead>\r\n                    <tbody class="T-count-hotel">\r\n                    {{each dayList as day}}\r\n                    {{if day.hotelArrange != null}}\r\n                    {{each day.hotelArrange as arrangeList}}\r\n                    {{each arrangeList.hotelArrangeList as arrange index}}\r\n                    {{if arrange != null}}\r\n                    <tr badStatus = "{{arrange.badStatus}}" hotelArrangeId="{{arrange.id}}" hotelId="{{if arrange.hotel != null}}{{arrange.hotel.id}}{{/if}}" restaurantStandardId="{{if arrange.hotelRoom != null}}{{arrange.hotelRoom.id}}{{/if}}" whichDay="{{arrange.whichDay}}">\r\n                        {{if index == 0}}<td rowspan="{{arrangeList.hotelArrangeList.length}}"><span class="whichDay"></span></td>{{/if}}\r\n                        {{if index == 0}}<td rowspan="{{arrangeList.hotelArrangeList.length}}">{{if arrange.hotel != null}}{{arrange.hotel.name}}{{/if}}</td>{{/if}}\r\n                        <td>{{if arrange.hotelRoom != null}}{{arrange.hotelRoom.type}}{{/if}}</td>\r\n                        <td>{{if arrange.badStatus == 1}}<span>{{arrange.price}}</span>{{else}}<span>{{arrange.price}}</span>{{/if}}\r\n                        <input type="hidden" name="price" value="{{arrange.price}}" /></td>\r\n                        <td>{{if arrange.badStatus == 1}}<span>{{arrange.memberCount}}</span>{{else}}<span>{{if arrange.billUpdateTime != null}}{{arrange.realCount}}{{else}}{{arrange.memberCount}}{{/if}}</span>{{/if}}\r\n                        <input style="width:90px;" type="hidden" name="realCount" {{if arrange.billUpdateTime !=null}}value="{{arrange.realCount}}" {{else}}value="{{arrange.memberCount}}"{{/if}}/></td>\r\n                        <td>{{if arrange.badStatus == 1}}<span>{{arrange.realReduceMoney}}</span>{{else}}<span>{{arrange.realReduceMoney}}</span>{{/if}}\r\n                        <input type="hidden" name="realReduceMoney" value="{{arrange.realReduceMoney}}" old="{{arrange.realReduceMoney}}"/></td>\r\n                        <td>{{if arrange.badStatus == 1}}<span class="hotelneedPayMoney">{{arrange.payedMoney+arrange.realGuidePayMoney}}</span>{{else}}<span class="hotelneedPayMoney"></span>{{/if}}\r\n                        <input name="needPayMoney" type="hidden" value="{{arrange.needPayMoney}}"></td>\r\n                        <td>{{arrange.payedMoney}}</td>\r\n                        <td>\r\n                        <span>\r\n                            {{if arrange.payType == 0}}\r\n                                现金\r\n                                {{else if arrange.payType == 1}}\r\n                                刷卡\r\n                                {{else if arrange.payType == 2}}\r\n                                签单\r\n                            {{/if}}\r\n                        </span>\r\n                        &nbsp;&nbsp;\r\n                        {{if arrange.badStatus == 1}}<span>{{if arrange.payType == 2}}{{arrange.signMoney}}{{else}}{{arrange.realGuidePayMoney}}{{/if}}</span>{{else}}\r\n                        \r\n                        <span>{{if arrange.billUpdateTime != null}}{{arrange.realGuidePayMoney}}{{else}}{{arrange.guidePayMoney}}{{/if}}</span>{{/if}}\r\n\r\n                            <input type="hidden" name="payedMoney" value="{{arrange.payedMoney}}" />\r\n                            <input type="hidden" name="guidePayMoney" value="{{arrange.guidePayMoney}}" /></td>\r\n                        <td>{{if arrange.billImage != null && arrange.billImage != ""}}\r\n                                <a href="javascript:void(0);" url="{{arrange.billImage}}" class="btn-view">查看</a>\r\n                            {{else}}\r\n                                <span style="color:#bbb;">查看</span>\r\n                            {{/if}}\r\n                        </td>\r\n                        <td><span class="difference"></span></td>\r\n                        <td>{{arrange.billRemark}}</td>\r\n                          {{if tripPlan.billStatus == 2}}<td>{{if arrange.isConfirmAccount == 0}}未对账{{else}}已对账{{/if}}</td>{{/if}}\r\n                    </tr>\r\n                    {{/if}}\r\n                    {{/each}}\r\n                    {{/each}}\r\n                    {{/if}}\r\n                    {{/each}}\r\n                    </tbody>\r\n                </table>\r\n                {{if tripPlan.billStatus > -1}}\r\n                <div style="width:60%;">\r\n                    <div> \r\n                        <label style="margin:5px 0px 0px 0px;">财务审核批注：</label>\r\n                        <input name="accountFinancialCheckComment" {{if (!(tripPlan.billStatus == 1 && isFinance)) }}readonly="readonly"{{/if}} type="text" style="width:30%;" value="{{if remarkArrangeList.hotelRemark.length>0}}{{remarkArrangeList.hotelRemark[0].opCheckRemark}}{{/if}}" />\r\n                    \r\n                        <label style="margin:5px 0px 0px 10px;">计调审核批注：</label>\r\n                        <input name="accountOPCheckComment" {{if (!(tripPlan.billStatus == 0 && isOp)) }}readonly="readonly"{{/if}} type="text" style="width:30%;" value="{{if remarkArrangeList.hotelRemark.length>0}}{{remarkArrangeList.hotelRemark[0].financeCheckRemark}}{{/if}}" />\r\n                    </div>\r\n                </div>\r\n                {{/if}}\r\n            </div>\r\n            <!-- 景区 -->\r\n            <div id="financial-count-tripdetail-scenicpay" class="tab-pane fade">\r\n                <table class="table table-striped table-bordered table-hover">\r\n                    <thead>\r\n                    <tr>\r\n                        <th class="th-border">时间</th>\r\n                        <th class="th-border">景区</th>\r\n                        <th class="th-border">收费项目</th>\r\n                        <th class="th-border">单价</th>\r\n                        <th class="th-border">数量</th>\r\n                        <th class="th-border">优惠</th>\r\n                        <th class="th-border">应付</th>\r\n                        <th class="th-border">已付</th> \r\n                        <th class="th-border">导付</th>\r\n                        <th class="th-border">单据</th>\r\n                        <th class="th-border">差额</th>\r\n                        <th class="th-border">导游报账备注</th>\r\n                        {{if tripPlan.billStatus == 2 }}<th class="th-border" rowspan="2">是否对账</th>{{/if}}\r\n                    </tr>\r\n                    </thead> \r\n                    <tbody class="T-count-scenic">\r\n                    {{each dayList as day}}\r\n                    {{if day.scenicArrange != null}}\r\n                    {{each day.scenicArrange as arrangeList}}\r\n                    {{each arrangeList.scenicArrangeList as arrange index}}\r\n                    {{if arrange != null}}\r\n                    <tr badStatus = "{{arrange.badStatus}}" scenicArrangeId="{{arrange.id}}" scenicId="{{arrange.scenicId}}" scenicItemId="{{arrange.hotelRoomId}}" whichDay="{{arrange.whichDay}}">\r\n                        {{if index == 0}}<td rowspan="{{arrangeList.scenicArrangeList.length}}"><span class="whichDay"></span></td>{{/if}}\r\n                        {{if index == 0}}<td rowspan="{{arrangeList.scenicArrangeList.length}}">{{if arrange.scenic != null}}{{arrange.scenic.name}}{{/if}}</td>{{/if}}\r\n                        <td>{{if arrange.scenicItem != null}}{{arrange.scenicItem.name}}{{/if}}</td>\r\n                        <td>{{if arrange.badStatus == 1}}<span>{{arrange.price}}</span>{{else}}<span> {{arrange.price}}</span>{{/if}}\r\n                       <input type="hidden" name="price" value="{{arrange.price}}" /></td>\r\n                        <td>{{if arrange.badStatus == 1}}<span>{{arrange.memberCount}}</span>{{else}}<span>{{if arrange.billUpdateTime != null}}{{arrange.realCount}}{{else}}{{arrange.memberCount}}{{/if}}</span>{{/if}}\r\n                        <input style="width:90px;" type="hidden" name="realCount" {{if arrange.billUpdateTime !=null}}value="{{arrange.realCount}}" {{else}}value="{{arrange.memberCount}}"{{/if}}/></td>\r\n                        <td>{{if arrange.badStatus == 1}}<span>{{arrange.realReduceMoney}}</span>{{else}}<span>{{arrange.realReduceMoney}}</span>{{/if}}\r\n                        <input type="hidden" name="realReduceMoney" value="{{arrange.realReduceMoney}}" old="{{arrange.realReduceMoney}}"/></td>\r\n                        <td>{{if arrange.badStatus == 1}}<span class="scenicneedPayMoney">{{arrange.payedMoney+arrange.realGuidePayMoney}}</span>{{else}}<span class="scenicneedPayMoney"></span>{{/if}}\r\n                        <input type="hidden" name="needPayMoney" value="{{arrange.needPayMoney}}"></td>\r\n                        <td>{{arrange.payedMoney}}</td>\r\n                        <td>\r\n                        <span>\r\n                            {{if arrange.payType == 0}}\r\n                                现金\r\n                                {{else if arrange.payType == 1}}\r\n                                刷卡\r\n                                {{else if arrange.payType == 2}}\r\n                                签单\r\n                            {{/if}}\r\n                        </span>\r\n                        &nbsp;&nbsp;\r\n                        {{if arrange.badStatus == 1}}<span>{{if arrange.payType == 2}}{{arrange.signMoney}}{{else}}{{arrange.realGuidePayMoney}}{{/if}}</span>{{else}}<span>\r\n                        \r\n                        {{if arrange.billUpdateTime != null}}{{arrange.realGuidePayMoney}}{{else}}{{arrange.guidePayMoney}}{{/if}}</span>{{/if}}\r\n                            \r\n                            <input type="hidden" name="payedMoney" value="{{arrange.payedMoney}}" />\r\n                            <input type="hidden" name="guidePayMoney" value="{{arrange.guidePayMoney}}" /></td>\r\n                        <td>{{if arrange.billImage != null && arrange.billImage != ""}}\r\n                                <a href="javascript:void(0);" url="{{arrange.billImage}}" class="btn-view">查看</a>\r\n                            {{else}}\r\n                                <span style="color:#bbb;">查看</span>\r\n                            {{/if}}\r\n                        </td>\r\n                        <td><span class="difference"></span></td>\r\n                        <td>{{arrange.billRemark}}</td>\r\n                        {{if tripPlan.billStatus == 2}}<td>{{if arrange.isConfirmAccount == 0}}未对账{{else}}已对账{{/if}}</td>{{/if}}\r\n                    </tr>\r\n                    {{/if}}\r\n                    {{/each}}\r\n                    {{/each}}\r\n                    {{/if}}\r\n                    {{/each}}\r\n                    </tbody>\r\n                </table>\r\n                {{if tripPlan.billStatus > -1}}\r\n                <div style="width:60%;"><div> \r\n                    <label style="margin:5px 0px 0px 0px;">财务审核批注：</label>\r\n                    <input name="accountFinancialCheckComment" {{if (!(tripPlan.billStatus == 1 && isFinance)) }}readonly="readonly"{{/if}} type="text" style="width:30%;" value="{{if remarkArrangeList.scenicRemark.length>0}}{{remarkArrangeList.scenicRemark[0].opCheckRemark}}{{/if}}" />\r\n                \r\n                    <label style="margin:5px 0px 0px 10px;">计调审核批注：</label>\r\n                    <input name="accountOPCheckComment" {{if (!(tripPlan.billStatus == 0 && isOp)) }}readonly="readonly"{{/if}} type="text" style="width:30%;" value="{{if remarkArrangeList.scenicRemark.length>0}}{{remarkArrangeList.scenicRemark[0].financeCheckRemark}}{{/if}}" />\r\n                </div>\r\n                </div>{{/if}}\r\n            </div>\r\n            <!-- 票务 -->\r\n            <div id="financial-count-tripdetail-ticketpay" class="tab-pane fade">\r\n                <table class="table table-striped table-bordered table-hover">\r\n                    <thead>\r\n                    <tr>\r\n                        <th class="th-border">票务商家</th>\r\n                        <th class="th-border">类型</th>\r\n                        <th class="th-border">日期</th>\r\n                        <th class="th-border">出发地</th>\r\n                        <th class="th-border">目的地</th>\r\n                        <th class="th-border">班次</th>\r\n                        <th class="th-border">座位级别</th>\r\n                        <th class="th-border">单价</th>\r\n                        <th class="th-border">数量</th>\r\n                        <th class="th-border">优惠</th>\r\n                        <th class="th-border">应付</th>\r\n                        <th class="th-border">已付</th>\r\n                        <th class="th-border">导付</th>\r\n                        <th class="th-border">单据</th>\r\n                        <th class="th-border">差额</th>\r\n                        <th class="th-border">导游报账备注</th>\r\n                        {{if tripPlan.billStatus == 2 }}<th class="th-border" rowspan="2">是否对账</th>{{/if}}\r\n                    </tr>\r\n                    </thead>\r\n                    <tbody class="T-count-ticket">\r\n                    {{each ticketArrangeList as ticketArrange}}\r\n                    {{each ticketArrange.ticketArrangeList as arrange index}}\r\n                    <tr badStatus = "{{arrange.badStatus}}" ticketArrangeId="{{arrange.id}}" ticketId="{{arrange.ticket.id}}" itemId="{{arrange.id}}">\r\n                    {{if index == 0}}<td rowspan="{{ticketArrange.ticketArrangeList.length}}">{{if arrange.ticket != null}}{{arrange.ticket.name}}{{/if}}</td>{{/if}}\r\n                    {{if index == 0}}<td rowspan="{{ticketArrange.ticketArrangeList.length}}">{{if arrange.type == 1}}机票{{else if arrange.type== 2}}汽车票{{else if arrange.type == 3}}火车票{{else if arrange.type == 4}}轮船票{{/if}}</td>{{/if}}\r\n                    {{if index == 0}}<td rowspan="{{ticketArrange.ticketArrangeList.length}}">{{arrange.startTime}}</td>{{/if}}\r\n                    {{if index == 0}}<td rowspan="{{ticketArrange.ticketArrangeList.length}}">{{arrange.startingCity}}</td>{{/if}}\r\n                    {{if index == 0}}<td rowspan="{{ticketArrange.ticketArrangeList.length}}">{{arrange.arriveCity}}</td>{{/if}}\r\n                    <td>{{arrange.shift}}</td>\r\n                    <td>{{arrange.seatLevel}}</td>\r\n                        <td>{{if arrange.badStatus == 1}}<span>{{arrange.price}}</span>{{else}}<span>{{arrange.price}}</span>{{/if}}\r\n                        <input type="hidden" name="price" value="{{arrange.price}}" /></td>\r\n                        <td>{{if arrange.badStatus == 1}}<span>{{arrange.memberCount}}</span>{{else}}<span>{{if arrange.billUpdateTime != null}}{{arrange.realCount}}{{else}}{{arrange.memberCount}}{{/if}}</span>{{/if}}\r\n                        <input style="width:90px;" name="realCount" type="hidden" {{if arrange.billUpdateTime !=null}}value="{{arrange.realCount}}" {{else}}value="{{arrange.memberCount}}"{{/if}} /></td>\r\n                        <td>{{if arrange.badStatus == 1}}<span>{{arrange.realReduceMoney}}</span>{{else}}<span>{{arrange.realReduceMoney}}</span>{{/if}}\r\n                        <input type="hidden" name="realReduceMoney" value="{{arrange.realReduceMoney}}" old="{{arrange.realReduceMoney}}"/></td>\r\n                        <td>{{if arrange.badStatus == 1}}<span class="ticketneedPayMoney">{{arrange.payedMoney+arrange.realGuidePayMoney}}</span>{{else}}<span class="ticketneedPayMoney"></span>{{/if}}\r\n                        <input type="hidden" value="{{arrange.needPayMoney}}" name="needPayMoney"></td>\r\n                        <td>{{arrange.payedMoney}}</td>\r\n                        <td>\r\n                        <span>\r\n                            {{if arrange.payType == 0}}\r\n                                现金\r\n                                {{else if arrange.payType == 1}}\r\n                                刷卡\r\n                                {{else if arrange.payType == 2}}\r\n                                签单\r\n                            {{/if}}\r\n                        </span>\r\n                        &nbsp;&nbsp;\r\n                        {{if arrange.badStatus == 1}}<span>{{if arrange.payType == 2}}{{arrange.signMoney}}{{else}}{{arrange.realGuidePayMoney}}{{/if}}</span>{{else}}\r\n                        \r\n                        <span>{{if arrange.billUpdateTime != null}}{{arrange.realGuidePayMoney}}{{else}}{{arrange.guidePayMoney}}{{/if}}</span>{{/if}}\r\n                            <input type="hidden" name="payedMoney" value="{{arrange.payedMoney}}" />\r\n                            <input type="hidden" name="guidePayMoney" value="{{arrange.guidePayMoney}}" /></td>\r\n                        <td>{{if arrange.billImage != null && arrange.billImage != ""}}\r\n                                <a href="javascript:void(0);" url="{{arrange.billImage}}" class="btn-view">查看</a>\r\n                            {{else}}\r\n                                <span style="color:#bbb;">查看</span>\r\n                            {{/if}}\r\n                        </td>\r\n                        <td><span class="difference"></span></td>\r\n                        <td>{{arrange.billRemark}}</td>\r\n                          {{if tripPlan.billStatus == 2}}<td>{{if arrange.isConfirmAccount == 0}}未对账{{else}}已对账{{/if}}</td>{{/if}}\r\n                    </tr>\r\n                    {{/each}}\r\n                    {{/each}}\r\n                    </tbody>\r\n                </table>\r\n                {{if tripPlan.billStatus > -1}}\r\n                    <div style="width:60%;">\r\n                        <div> \r\n                            <label style="margin:5px 0px 0px 0px;">财务审核批注：</label>\r\n                            <input name="accountFinancialCheckComment" {{if (!(tripPlan.billStatus == 1 && isFinance)) }}readonly="readonly"{{/if}} type="text" style="width:30%;" value="{{if remarkArrangeList.ticketRemark.length>0}}{{remarkArrangeList.ticketRemark[0].opCheckRemark}}{{/if}}" />\r\n                        \r\n                            <label style="margin:5px 0px 0px 10px;">计调审核批注：</label>\r\n                            <input name="accountOPCheckComment" {{if (!(tripPlan.billStatus == 0 && isOp)) }}readonly="readonly"{{/if}} type="text" style="width:30%;" value="{{if remarkArrangeList.ticketRemark.length>0}}{{remarkArrangeList.ticketRemark[0].financeCheckRemark}}{{/if}}" />\r\n                        </div>\r\n                    </div>\r\n                {{/if}}\r\n            </div>\r\n            <!-- 其它支出 -->\r\n            <div id="financial-count-tripdetail-otherpay" class="tab-pane fade">\r\n                <table class="table table-striped table-bordered table-hover">\r\n                    <thead>\r\n                    <tr>\r\n                        <th class="th-border">时间</th>\r\n                        <th class="th-border">项目</th>\r\n                        <th class="th-border">单价</th>\r\n                        <th class="th-border">数量</th>\r\n                        <th class="th-border">优惠</th>\r\n                        <th class="th-border">应付</th>\r\n                        <th class="th-border">已付</th>\r\n                        <th class="th-border">导付</th>\r\n                        <th class="th-border">单据</th>\r\n                        <th class="th-border">差额</th>\r\n                        <th class="th-border">导游报账备注</th> \r\n                        {{if tripPlan.billStatus == 2 }}<th class="th-border" rowspan="2">是否对账</th>{{/if}}\r\n                    </tr>\r\n                    </thead>\r\n                    <tbody class="T-count-otherOut"> \r\n                    {{each dayList as day}}\r\n                    {{if day.otherArrange != null}}\r\n                    {{each day.otherArrange as arrange index}}\r\n                    {{if arrange != null}}\r\n                    <tr badStatus = "{{arrange.badStatus}}" otherArrangeId="{{arrange.id}}" whichDay="{{arrange.whichDay}}">\r\n                        <td><span class="whichDay"></span></td>\r\n                        <td>{{arrange.name}}</td>\r\n                        <td>{{if arrange.badStatus == 1}}<span>{{arrange.price}}</span>{{else}}<span class="price">{{arrange.price}}</span>{{/if}}\r\n                        <input type="hidden" name="price" value="{{arrange.price}}" {{if arrange.isConfirmAccount == 1}}readOnly="readOnly"{{/if}}/></td>\r\n                        <td>{{if arrange.badStatus == 1}}<span>{{arrange.memberCount}}</span>{{else}}<span>{{if arrange.billUpdateTime != null}}{{arrange.realCount}}{{else}}{{arrange.memberCount}}{{/if}}</span>{{/if}}\r\n                        <input style="width:90px;" type="hidden" name="realCount" {{if arrange.billUpdateTime}}value="{{arrange.realCount}}"{{else}}value="{{arrange.memberCount}}"{{/if}} /></td>\r\n                        <td>{{if arrange.badStatus == 1}}<span>{{arrange.realReduceMoney}}</span>{{else}}<span>{{arrange.realReduceMoney}}</span>{{/if}}\r\n                        <input type="hidden" name="realReduceMoney" value="{{arrange.realReduceMoney}}"/></td>\r\n                        <td>{{if arrange.badStatus == 1}}<span class="otherOutNeedPayMoney">{{arrange.payedMoney+arrange.realGuidePayMoney}}</span>{{else}}<span class="otherOutNeedPayMoney"></span>{{/if}}\r\n                        <input type="hidden" name="needPayMoney" value="{{arrange.needPayMoney}}"></td>\r\n                        <td>{{arrange.payedMoney}}</td>\r\n                        <td>\r\n                        <span>\r\n                            {{if arrange.payType == 0}}\r\n                                现金\r\n                                {{else if arrange.payType == 1}}\r\n                                刷卡\r\n                                {{else if arrange.payType == 2}}\r\n                                签单\r\n                            {{/if}}\r\n                        </span>\r\n                        &nbsp;&nbsp;\r\n                        {{if arrange.badStatus == 1}}<span>{{if arrange.payType == 2}}{{arrange.signMoney}}{{else}}{{arrange.realGuidePayMoney}}{{/if}}</span>{{else}}\r\n                        \r\n                        <span>{{if arrange.billUpdateTime != null}}{{arrange.realGuidePayMoney}}{{else}}{{arrange.guidePayMoney}}{{/if}}</span>{{/if}}\r\n                            \r\n                            <input type="hidden" name="payedMoney" value="{{arrange.payedMoney}}" />\r\n                            <input type="hidden" name="guidePayMoney" value="{{arrange.guidePayMoney}}" /></td>\r\n                        <td>{{if arrange.billImage != null && arrange.billImage != ""}}\r\n                                <a href="javascript:void(0);" url="{{arrange.billImage}}" class="btn-view">查看</a>\r\n                            {{else}}\r\n                                <span style="color:#bbb;">查看</span>\r\n                            {{/if}}\r\n                        </td>\r\n                        <td><span class="difference"></span></td>\r\n                        <td>{{arrange.billRemark}}</td>\r\n                          {{if tripPlan.billStatus == 2}}<td>{{if arrange.isConfirmAccount == 0}}未对账{{else}}已对账{{/if}}</td>{{/if}}\r\n                    </tr>\r\n                    {{/if}}\r\n                    {{/each}}\r\n                    {{/if}}\r\n                    {{/each}}\r\n                    </tbody>\r\n                </table>\r\n                {{if tripPlan.billStatus > -1}}\r\n                    <div style="width:60%;">\r\n                        <div> \r\n                            <label style="margin:5px 0px 0px 0px;">财务审核批注：</label>\r\n                            <input name="accountFinancialCheckComment" {{if (!(tripPlan.billStatus == 1 && isFinance)) }}readonly="readonly"{{/if}} type="text" style="width:30%;" value="{{if remarkArrangeList.otherOutRemark.length>0}}{{remarkArrangeList.otherOutRemark[0].opCheckRemark}}{{/if}}" />\r\n                        \r\n                            <label style="margin:5px 0px 0px 10px;">计调审核批注：</label>\r\n                            <input name="accountOPCheckComment" {{if (!(tripPlan.billStatus == 0 && isOp)) }}readonly="readonly"{{/if}} type="text" style="width:30%;" value="{{if remarkArrangeList.otherOutRemark.length>0}}{{remarkArrangeList.otherOutRemark[0].financeCheckRemark}}{{/if}}" />\r\n                        </div>\r\n                    </div>\r\n                {{/if}}\r\n            </div>\r\n            {{if touristGroup != null}}\r\n            <!-- 中转 -->\r\n            <div id="financial-count-tripdetail-outarrangepay" class="tab-pane fade T-transit">\r\n                <table class="table table-striped table-bordered table-hover">\r\n                    <thead>\r\n                        <tr>\r\n                        <th class="th-border">序号</th>\r\n                        <th class="th-border">客户</th>\r\n                        <th class="th-border">中转单号</th>\r\n                        <th class="th-border">小组联系人</th>\r\n                        <th class="th-border">联系电话</th>\r\n                        <th class="th-border">人数</th>\r\n                        <th class="th-border">接团</th>\r\n                        <th class="th-border">送团</th>\r\n                        <th class="th-border">明细</th>\r\n                        </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                    {{each touristGroup.touristGroupList as touristGroup index}}\r\n                     <tr>\r\n                        <td>{{index+1}}</td>\r\n                        <td>{{touristGroup.partnerAgencyName}}</td>\r\n                        <td>{{touristGroup.orderNumber}}</td>\r\n                        <td>{{touristGroup.name}}</td>\r\n                        <td>{{touristGroup.mobileNumber}}</td>\r\n                        <td>{{touristGroup.adultCount}}大{{touristGroup.childCount}}小</td>\r\n                        <td>{{touristGroup.arriveService}}</td>\r\n                        <td>{{touristGroup.leaveService}}</td>\r\n                        <td><a href="javascript:void(0);" data-entity-id="{{touristGroup.id}}" class="T-viewTripTransit">查看</a></td>\r\n                     </tr>\r\n                     {{/each}}\r\n                    </tbody>\r\n                </table>\r\n\r\n                {{if tripPlan.billStatus > -1}}\r\n                <div style="width:60%;"><div> \r\n                    <label style="margin:5px 0px 0px 0px;">财务审核批注：</label>\r\n                    <input name="accountFinancialCheckComment" {{if (!(tripPlan.billStatus == 1 && isFinance)) }}readonly="readonly"{{/if}} type="text" style="width:30%;" value="{{if remarkArrangeList.transferRemark.length>0}}{{remarkArrangeList.transferRemark[0].opCheckRemark}}{{/if}}" />\r\n                    <label style="margin:5px 0px 0px 10px;">计调审核批注：</label>\r\n                    <input name="accountOPCheckComment" {{if (!(tripPlan.billStatus == 0 && isOp)) }}readonly="readonly"{{/if}} type="text" style="width:30%;" value="{{if remarkArrangeList.transferRemark.length>0}}{{remarkArrangeList.transferRemark[0].financeCheckRemark}}{{/if}}" />\r\n                </div>\r\n                </div>{{/if}}\r\n            </div>\r\n            {{/if}}\r\n             <!-- 保险 -->\r\n            <div id="financial-count-tripdetail-insurance" class="tab-pane fade T-insurance">\r\n                \r\n                <table class="table table-striped table-bordered table-hover">\r\n                    <thead>\r\n                    <tr>\r\n                        <th class="th-border">保险公司</th>\r\n                        <th class="th-border">险种</th>\r\n                        <th class="th-border">单价</th>\r\n                        <th class="th-border">数量</th>\r\n                        <th class="th-border">应付</th>\r\n                        <th class="th-border">已付</th>\r\n                        <th class="th-border">导游报账备注</th>\r\n                        {{if tripPlan.billStatus == 2 }}<th class="th-border" rowspan="2">是否对账</th>{{/if}}\r\n                    </tr>\r\n                    </thead>\r\n                    <tbody class="T-count-insurance">\r\n                    {{each insuranceArrangeList as insuranceArrange}}\r\n                    <tr>\r\n                    <td>{{insuranceArrange.insurance.name}}</td>\r\n                    <td>{{if insuranceArrange.type == null}}{{if insuranceArrange.insuranceItem != null}}{{insuranceArrange.insuranceItem.name}}{{/if}}{{else}}{{insuranceArrange.type}}{{/if}}</td>\r\n                    <td>{{insuranceArrange.price}}</td>\r\n                    <td>{{insuranceArrange.memberCount}}</td>\r\n                    <td>{{insuranceArrange.needPayMoney}}</td>\r\n                    <td>{{insuranceArrange.payedMoney}}</td>\r\n                    <td></td>\r\n                    </tr>\r\n                    {{/each}}\r\n                    </tbody>\r\n                </table>\r\n\r\n                {{if tripPlan.billStatus > -1}}\r\n                <div style="width:60%;">\r\n                    <div> \r\n                        <label style="margin:5px 0px 0px 0px;">财务审核批注：</label>\r\n                        <input name="accountFinancialCheckComment" {{if (!(tripPlan.billStatus == 1 && isFinance)) }}readonly="readonly"{{/if}} type="text" style="width:30%;" value="{{if remarkArrangeList.insuranceRemark.length>0}}{{remarkArrangeList.insuranceRemark[0].opCheckRemark}}{{/if}}" />\r\n                    \r\n                        <label style="margin:5px 0px 0px 10px;">计调审核批注：</label>\r\n                        <input name="accountOPCheckComment" {{if (!(tripPlan.billStatus == 0 && isOp)) }}readonly="readonly"{{/if}} type="text" style="width:30%;" value="{{if remarkArrangeList.insuranceRemark.length>0}}{{remarkArrangeList.insuranceRemark[0].financeCheckRemark}}{{/if}}" />\r\n                    </div>\r\n                </div>\r\n                {{/if}}\r\n            </div>\r\n            <!-- 导游 -->\r\n            <div id="financial-count-tripdetail-guide" class="tab-pane fade">\r\n                <table class="table table-striped table-bordered table-hover">\r\n                    <thead>\r\n                    <tr>\r\n                        <th class="th-border"><span class="necessary">*</span>指定导游报账</th>\r\n                        <th class="th-border"><span class="necessary">*</span>开始日期</th>\r\n                        <th class="th-border"><span class="necessary">*</span>结束日期</th>\r\n                        <th class="th-border">任务</th>\r\n                        <th class="th-border">导游</th>\r\n                        <th class="th-border">导服费</th>\r\n                        <th class="th-border"><span class="necessary">*</span>管理费</th>\r\n                        <th class="th-border"><span class="necessary">*</span>导游预支金额</th>\r\n                        <th class="th-border"><span class="necessary">*</span>备注</th>\r\n                    </tr>\r\n                    </thead>\r\n                    <tbody class="T-count-guide">\r\n                    {{each guideArranges as rs index}}\r\n                        <tr guideid = "{{rs.guide.id}}">\r\n                            <td><input disabled="disabled" type="radio" name="" {{if rs.isAccountGuide == 1}}checked="checked"{{/if}}/></td>\r\n                            <td>{{rs.startTime | dateFormat: \'yyyy-MM-dd\'}}</td>\r\n                            <td>{{rs.endTime | dateFormat: \'yyyy-MM-dd\'}}</td>\r\n                            <td>\r\n                                {{if rs.taskType == 0}}\r\n                                    全程\r\n                                {{else if rs.taskType == 1}}\r\n                                    接机\r\n                                {{else if rs.taskType == 2}}\r\n                                    送机\r\n                                {{else if rs.taskType == 3}}\r\n                                    前段\r\n                                {{else if rs.taskType == 4}}\r\n                                    中段\r\n                                {{else if rs.taskType == 5}}\r\n                                    后段\r\n                                {{/if}}\r\n                            </td>\r\n                            <td>{{rs.guide.realname}}</td>\r\n                            <td>{{rs.price}}<input value="{{rs.price}}" name="price" type="hidden"></td>\r\n                            <td>{{rs.manageFee}}<input value="{{rs.manageFee}}" name="manageFee" type="hidden"></td>\r\n                            <td>{{rs.guideAllPreMoney}}</td>\r\n                            <td>{{rs.remark}}</td>\r\n                        </tr>\r\n                    {{/each}}\r\n                    </tbody>\r\n                </table>\r\n\r\n                {{if tripPlan.billStatus > -1}}\r\n                    <div style="width:60%;">\r\n                        <div> \r\n                            <label style="margin:5px 0px 0px 0px;">财务审核批注：</label>\r\n                            <input name="accountFinancialCheckComment" {{if (!(tripPlan.billStatus == 1 && isFinance)) }}readonly="readonly"{{/if}} type="text" style="width:30%;" value="{{if remarkArrangeList.guideRemark.length>0}}{{remarkArrangeList.guideRemark[0].opCheckRemark}}{{/if}}" />\r\n                        \r\n                            <label style="margin:5px 0px 0px 10px;">计调审核批注：</label>\r\n                            <input name="accountOPCheckComment" {{if (!(tripPlan.billStatus == 0 && isOp)) }}readonly="readonly"{{/if}} type="text" style="width:30%;" value="{{if remarkArrangeList.guideRemark.length>0}}{{remarkArrangeList.guideRemark[0].financeCheckRemark}}{{/if}}" />\r\n                        </div>\r\n                    </div>\r\n                {{/if}}\r\n            </div>\r\n        </div>\r\n    </div>\r\n    <div style="height:30px;"></div>\r\n</div>\r\n'.split(/\n/)[$line - 1].replace(/^\s+/, "")
            };
        }
    });
});