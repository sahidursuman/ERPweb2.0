/*TMODJS:{"debug":true,"version":519,"md5":"9a9b8c5935b9a4446a0a9612304ef8d7"}*/
define(function(require) {
    return require("../../../template")("financial/count/view/Reimbursement", function($data, $filename) {
        try {
            var $utils = this, $helpers = $utils.$helpers, $line = 0, $escape = $utils.$escape, tripPlan = $data.tripPlan, busCompanyArrange = $data.busCompanyArrange, touristGroup = $data.touristGroup, guideArrange = $data.guideArrange, insurancePrice = $data.insurancePrice, isOp = $data.isOp, WEB_IMG_URL_BIG = $data.WEB_IMG_URL_BIG, WEB_IMG_URL_SMALL = $data.WEB_IMG_URL_SMALL, financialTripPlanId = $data.financialTripPlanId, remarkArrangeList = $data.remarkArrangeList, $each = $utils.$each, dayList = $data.dayList, arrangeIncomePaymentList = ($data.day, 
            $data.$index, $data.shopArrangeList, $data.arrange, $data.index, $data.arrangeList, 
            $data.arrangeIncomePaymentList), insuranceArrangeList = ($data.otherInCome, $data.insuranceArrangeList), ticketArrangeList = ($data.insuranceArrange, 
            $data.busCompany, $data.restaurant, $data.ticketArrangeList), $out = ($data.ticketArrange, 
            "");
            return $out += '<div class="col-sm-12 countReimbursement"> <table class="table table-striped table-bordered table-hover all main-table T-main-table" style="margin-top: 30px;"> <tbody> <tr style=""> <td><label style="font-weight: bold;">线路：', 
            $line = 5, $out += $escape(tripPlan.lineProduct.name), $out += '</label></td> <td><label style="font-weight: bold;">类别：', 
            $line = 6, $out += $escape(tripPlan.lineProduct.type), $out += '</label></td> <td><label style="font-weight: bold;">应用范围：', 
            $line = 7, 1 == tripPlan.lineProduct.customerType ? ($out += "团体", $line = 7) : 0 == tripPlan.lineProduct.customerType && ($out += "散客", 
            $line = 7), $out += '</label></td> <td><label style="font-weight: bold;">天数：<span class="T-ProductDays" style="font-weight: bold;">', 
            $line = 8, $out += $escape(tripPlan.lineProduct.days), $out += '</span></label></td> </tr> <tr> <td><label style="font-weight: bold;">团号：', 
            $line = 11, $out += $escape(tripPlan.tripNumber), $out += '</label></td> <td><label style="font-weight: bold;">出团日期:<span style="font-weight: bold;" class = "startTime_Choose" name="startTime_Choose">', 
            $line = 12, $out += $escape($helpers.dateFormat(tripPlan.startTime, "yyyy-MM-dd")), 
            $out += '</span></label></td> <td><label style="font-weight: bold;">完团日期：', $line = 13, 
            $out += $escape($helpers.dateFormat(tripPlan.endTime, "yyyy-MM-dd")), $out += '</label></td> <td><label style="font-weight: bold;">团队人数：', 
            $line = 14, $out += $escape(tripPlan.touristAdultCount), $out += "大", $line = 14, 
            $out += $escape(tripPlan.touristChildCount), $out += '小</label></td> </tr> <tr> <td> <label style="font-weight: bold;">导游：', 
            $line = 17, null != tripPlan.guide && ($line = 17, $out += $escape(tripPlan.guide.realname), 
            $line = 17), $out += '</label></td> <td><label style="font-weight: bold;">全陪：', 
            $line = 18, $out += $escape(tripPlan.accompanyGuideName), $out += '</label></td> <td></td> <td></td> </tr> </tbody> </table> <input type="hidden" name="totalPersonCount" value="', 
            $line = 24, $out += $escape(tripPlan.touristAdultCount + tripPlan.touristChildCount), 
            $out += '"/> <input type="hidden" name=\'busNumber\' class="busNumber" value="', 
            $line = 25, $out += $escape(busCompanyArrange.length), $out += '"> <table class="table table-striped table-bordered table-hover all main-table T-main-table" style="margin-top: 30px;"> <tbody> <tr > <td colspan="8"> <div style="float: left;margin-left:10px;"> <input type="hidden" class="financial-tripPlanId" value="', 
            $line = 31, $out += $escape(tripPlan.id), $out += '" /> <input type="hidden" class="tripPlanAdultCount" value="', 
            $line = 32, $out += $escape(tripPlan.touristAdultCount), $out += '" /> <input type="hidden" class="tripPlanChildCount" value="', 
            $line = 33, $out += $escape(tripPlan.touristChildCount), $out += '" /> <input type="hidden" class="tripPlanStartTime" value="', 
            $line = 34, $out += $escape($helpers.dateFormat(tripPlan.startTime, "yyyy-MM-dd")), 
            $out += '" /> <label style="margin-left:50px;font-weight: bold;">毛利：<span class="grossProfitMoney">0</span></label> <label style="margin-left:50px;font-weight: bold;">人均毛利：<span class="perGrossProfitMoney">0</span></label> <label style="margin-left:50px;font-weight: bold;">导游预支金额：<span class="guideAllPreMoney">', 
            $line = 37, $out += $escape(tripPlan.guideAllPreMoney), $out += '</span></label> </div></td> </tr> <tr > <td colspan="2"><label style="font-weight: bold;">收入：<span class="tripIncome">0</span></label></td> <td colspan="4"><label style="font-weight: bold;">团成本：<span class="tripCost">0</span></label></td> <td colspan="2"><label style="font-weight: bold;">中转成本：<span class="tripTransitCost">0</span></label></td> </tr> <tr> <td><label>应收团款：<span class="tripIncome-getAllMoney">', 
            $line = 48, $out += $escape(touristGroup.needPayAllMoney), $out += '</span></label></td> <td><label>自费返佣：<span class="tripIncome-selfPayTravelAgencyRebateMoney">0</span></label></td> <td><label>导服费：<span class="tripCost-guideArrangePrice">', 
            $line = 50, $out += $escape(guideArrange.price), $out += '</span></label></td> <td><label>保险：<span class="tripCost-insuranceArrangeNeedPayMoney">', 
            $line = 51, $out += $escape(insurancePrice), $out += '</span></label></td> <td><label>车费：<span class="tripCost-busCompanyNeedPayMoney">0</span></label></td> <td><label>导游购物返佣：<span class="tripCost-guideshopFee">', 
            $line = 53, $out += $escape(guideArrange.manageFee), $out += '</span></label></td> <td><label>车费：<span class="tripTransitCost-busCompanyNeedPayMoney">', 
            $line = 54, $out += $escape(touristGroup.outBusMoney), $out += '</span></label></td> <td><label>餐食费用：<span class="tripTransitCost-outRestaurantMoney">', 
            $line = 55, $out += $escape(touristGroup.outRestaurantMoney), $out += '</span></label></td> </tr> <tr> <td><label>购物返佣：<span class="tripIncome-shopTravelAgencyRateMoney">0</span></label></td> <td><label>其他收入：<span class="tripIncome-otherInCome">0</span></label></td> <td><label>餐费：<span class="tripCost-restaurantArrangeNeedPayMoney">0</span></label></td> <td><label>房费：<span class="tripCost-hotelArrangeNeedPayMoney">0</span></label></td> <td><label>景区费用：<span class="tripCost-scenicArrangeNeedPayMoney">0</span></label></td> <td><label>导游自费返佣：<span class="tripCost-guideSelfMoney">', 
            $line = 63, $out += $escape(touristGroup.outBusMoney), $out += '</span></label></td> <td><label>房费：<span class="tripTransitCost-hotelArrangeNeedPayMoney">', 
            $line = 64, $out += $escape(touristGroup.outHotelMoney), $out += '</span></label></td> <td><label>其他费用：<span class="tripTransitCost-outOtherMoney">', 
            $line = 65, $out += $escape(touristGroup.outOtherMoney), $out += '</span></label></td> </tr> <tr> <td><label>导游管理费：<span class="tripIncome-guideManageMoney">', 
            $line = 68, $out += $escape(guideArrange.manageFee), $out += '</span></label></td> <td></td> <td><label>票务费用：<span class="tripCost-ticketArrangeNeedPayMoney">0</span></label></td> <td><label>其他费用：<span class="tripCost-otherArrangeNeedPayMoney">0</span></label></td> <td><label>自费费用：<span class="tripCost-selfArrangeNeedPayMoney">0</span></label></td> <td><label style="display: none;">地接费用：<span class="tripCost-groundArrangeNeedPayMoney"></span></label></td> <td><label>票务费用', 
            $line = 74, $out += $escape(isOp), $out += '：<span class="tripTransitCost-ticketArrangeNeedPayMoney">', 
            $line = 74, $out += $escape(touristGroup.outTicketMoney), $out += '</span></label></td> <td></td> </tr> </tbody> </table> <input type="hidden" value="', 
            $line = 79, $out += $escape(WEB_IMG_URL_BIG), $out += '" name="WEB_IMG_URL_BIG" /> <input type="hidden" value="', 
            $line = 80, $out += $escape(WEB_IMG_URL_SMALL), $out += '" name="WEB_IMG_URL_SMALL" /> <div class="row" style="margin-bottom:15px;"> <div style="float:left;"> <button data-entity-id="', 
            $line = 84, $out += $escape(tripPlan.id), $out += '" data-entity-financial-id="', 
            $line = 84, $out += $escape(financialTripPlanId), $out += '" class="btn btn-xs btn-primary btn-transfter T-saveCount" style="margin-left: 20px;"> <i class="ace-icon fa fa-save"></i>保存信息 </button> <button data-entity-id="', 
            $line = 87, $out += $escape(tripPlan.id), $out += '" data-entity-financial-id="', 
            $line = 87, $out += $escape(financialTripPlanId), $out += '" class="btn btn-xs btn-success btn-transfter T-fanishAccount" style="margin-left: 20px;"> <i class="ace-icon fa fa-check-circle"></i>报账完成 </button> </div>  <div style="margin-top:5px;float:left;width:90px;text-align:center;"> <a href="javascript:void(0);" class="T-tripPlanArrange" style="margin-left: 20px;">安排预算表</a> </div> </div> <div class="tabbable"> <ul class="nav nav-tabs"> <li class="active col-sm-1 no-padding align-center"> <a data-toggle="tab" href="#financial-count-reimbursement-money" aria-expanded="true">团款</a> </li> <li class="col-sm-1 no-padding align-center"> <a data-toggle="tab" href="#financial-count-reimbursement-shop" aria-expanded="true">购物</a> </li> <li class="col-sm-1 no-padding align-center"> <a data-toggle="tab" href="#financial-count-reimbursement-selfpay" aria-expanded="true">自费</a> </li> <li class="col-sm-1 no-padding align-center"> <a data-toggle="tab" href="#financial-count-reimbursement-other-incoming" aria-expanded="true">其他收入</a> </li> <li class="col-sm-1 no-padding align-center"> <a data-toggle="tab" href="#financial-count-reimbursement-other-insurance" aria-expanded="true">保险</a> </li> <li class="col-sm-1 no-padding align-center"> <a data-toggle="tab" href="#financial-count-reimbursement-buspay" aria-expanded="true">车费</a> </li> <li class="col-sm-1 no-padding align-center"> <a data-toggle="tab" href="#financial-count-reimbursement-restaurantpay" aria-expanded="true">餐费</a> </li> <li class="col-sm-1 no-padding align-center"> <a data-toggle="tab" href="#financial-count-reimbursement-hotelpay" aria-expanded="true">房费</a> </li> <li class="col-sm-1 no-padding align-center"> <a data-toggle="tab" href="#financial-count-reimbursement-scenicpay" aria-expanded="true">景区</a> </li> <li class="col-sm-1 no-padding align-center"> <a data-toggle="tab" href="#financial-count-reimbursement-ticketpay" aria-expanded="true">票务</a> </li> <li class="col-sm-1 no-padding align-center"> <a data-toggle="tab" href="#financial-count-reimbursement-otherpay" aria-expanded="true">其他支出</a> </li> ', 
            $line = 134, null != touristGroup && ($out += ' <li class="col-sm-1 no-padding align-center"> <a data-toggle="tab" href="#financial-count-reimbursement-outarrangepay" aria-expanded="true">中转</a> </li> ', 
            $line = 138), $out += ' </ul> <div class="tab-content financial-count-reimbursement-reimbursement-tab T-list" style="position: relative;top:-2px">  <div id="financial-count-reimbursement-money" class="tab-pane fade active in T-tripDetail"> <table class="table table-striped table-bordered table-hover"> <tbody> <tr> <td class="th-border">应收</td> <td class="th-border">已收</td> <td class="th-border">现收</td> <td class="th-border">明细</td> <tr class="th-border"> <td><span class="">', 
            $line = 151, $out += $escape(touristGroup.needPayAllMoney), $out += '</span></td> <td><span class="">', 
            $line = 152, $out += $escape(touristGroup.payedMoney), $out += '</span></td> <td><span class="">', 
            $line = 153, $out += $escape(touristGroup.currentNeedPayMoney), $out += '</span></td> <td><a href="javascript:void(0);" data-entity-id="', 
            $line = 154, $out += $escape(tripPlan.id), $out += '" class="T-viewGroupDetail">查看</a></td> </tr> </tbody> </table> ', 
            $line = 158, tripPlan.billStatus > -1 && ($out += ' <div style="width:60%;"> <div> <label style="margin:5px 0px 0px 0px;">财务审核批注：</label> <input readonly="readonly" type="text" style="width:30%;" value="', 
            $line = 162, null != remarkArrangeList[0] && ($line = 162, $out += $escape(remarkArrangeList[0].opCheckRemark), 
            $line = 162), $out += '" /> <label style="margin:5px 0px 0px 10px;">计调审核批注：</label> <input readonly="readonly" type="text" style="width:30%;" value="', 
            $line = 164, null != remarkArrangeList[0] && ($line = 164, $out += $escape(remarkArrangeList[0].financeCheckRemark), 
            $line = 164), $out += '" /> </div> </div>', $line = 166), $out += ' </div>  <div id="financial-count-reimbursement-shop" class="tab-pane fade T-shop-add"> <div class="ui-sortable-handle widget-container-col"> <h5 class="title-size"> <i class="ace-icon fa fa-medkit"></i> 购物安排 <a href="javascript:void(0)" class="T-addShopping"> <button class="btn btn-sm btn-success T-add" style="margin-left: 20px"> <i class="ace-icon fa fa-plus"></i> 新增 </button> </a> </h5> </div> <table class="table table-striped table-bordered table-hover"> <thead> <tr> <th class="th-border" colspan="6">打单</th> <th class="th-border" colspan="2">社佣</th> <th class="th-border" colspan="2">导佣</th> <th class="th-border" colspan="2">人数返佣</th> <th class="th-border" colspan="2">停车返佣</th> <th class="th-border" rowspan="2">购物返佣总收入</th>  <th class="th-border" rowspan="2">导游报账备注</th> ', 
            $line = 192, 2 == tripPlan.billStatus && ($out += '<th class="th-border" rowspan="2">是否对账</th>', 
            $line = 192), $out += ' </tr> <tr> <th class="th-border"><span class="necessary">*</span>时间</th> <th class="th-border"><span class="necessary">*</span>购物店</th> <th class="th-border"><span class="necessary">*</span>商品</th> <th class="th-border"><span class="necessary">*</span>金额</th> <th class="th-border">单据</th> <th class="th-border">总金额</th> <th class="th-border"><span class="necessary">*</span>比例%</th> <th class="th-border">返佣</th> <th class="th-border"><span class="necessary">*</span>比例%</th> <th class="th-border">返佣</th> <th class="th-border">元/人</th> <th class="th-border">返佣</th> <th class="th-border">元/车</th> <th class="th-border">返佣</th> </tr></thead> <tbody class="T-count-shopping"> ', 
            $line = 211, $each(dayList, function(day) {
                $out += " ", $line = 212, null != day.shopArrange && ($out += " ", $line = 213, 
                $each(day.shopArrange, function(shopArrangeList) {
                    $out += " ", $line = 214, $each(shopArrangeList.shopArrangePolicy, function(arrange, index) {
                        $out += " ", $line = 215, null != arrange && ($out += ' <tr shopArrangeId="', $line = 216, 
                        $out += $escape(arrange.id), $out += '" shopId="', $line = 216, $out += $escape(arrange.whichDay), 
                        $out += "_", $line = 216, $out += $escape(arrange.shopId), $out += '"> ', $line = 217, 
                        0 == index && ($out += '<td rowspan="', $line = 217, $out += $escape(shopArrangeList.shopArrangePolicy.length), 
                        $out += '">第', $line = 217, $out += $escape(arrange.whichDay), $out += "天</td>", 
                        $line = 217), $out += " ", $line = 218, 0 == index && ($out += '<td rowspan="', 
                        $line = 218, $out += $escape(shopArrangeList.shopArrangePolicy.length), $out += '">', 
                        $line = 218, $out += $escape(arrange.shop.name), $out += "</td>", $line = 218), 
                        $out += " <td>", $line = 219, $out += $escape(arrange.shopPolicy.name), $out += '</td> <td><input policyId="', 
                        $line = 220, null != arrange.shopPolicy && ($line = 220, $out += $escape(arrange.shopPolicy.id), 
                        $line = 220), $out += '" name="consumeMoney" style="width:90px;" type="text" value="', 
                        $line = 220, $out += $escape(arrange.consumeMoney), $out += '" old="', $line = 220, 
                        $out += $escape(arrange.consumeMoney), $out += '" maxlength="11" ', $line = 221, 
                        1 == arrange.isConfirmAccount && ($out += ' readOnly="readOnly" ', $line = 221), 
                        $out += "/></td> <td>", $line = 222, null != arrange.billImage && "" != arrange.billImage ? ($out += ' <a href="javascript:void(0);" url="', 
                        $line = 223, $out += $escape(arrange.billImage), $out += '" class="btn-view">查看</a> ', 
                        $line = 224) : ($out += ' <span style="color:#bbb;">查看</span> ', $line = 226), $out += " </td> ", 
                        $line = 228, 0 == index && ($out += '<td rowspan="', $line = 228, $out += $escape(shopArrangeList.shopArrangePolicy.length), 
                        $out += '"><span class="sumMoney', $line = 228, $out += $escape(arrange.whichDay), 
                        $out += "_", $line = 228, $out += $escape(arrange.shopId), $out += '"></span></td>', 
                        $line = 228), $out += ' <td><input name="travelAgencyRate" style="width:90px;" type="text" value="', 
                        $line = 229, $out += $escape(100 * arrange.travelAgencyRate), $out += '" old="', 
                        $line = 229, $out += $escape(arrange.travelAgencyRate), $out += '" maxlength="5" ', 
                        $line = 229, 1 == arrange.isConfirmAccount && ($out += ' readOnly="readOnly" ', 
                        $line = 229), $out += '/></td> <td><span class="travelAgencyRateMoney">', $line = 230, 
                        $out += $escape(arrange.travelAgencyRateMoney), $out += '</span><input type="hidden" class="travelAgencyRateMoney', 
                        $line = 230, $out += $escape(arrange.whichDay), $out += "_", $line = 230, $out += $escape(arrange.shopId), 
                        $out += '" name="travelAgencyRateMoney" value="', $line = 230, $out += $escape(arrange.travelAgencyRateMoney), 
                        $out += '" ', $line = 230, 1 == arrange.isConfirmAccount && ($out += 'readOnly="readOnly"', 
                        $line = 230), $out += '/></td> <td><input name="guideRate" style="width:90px;" type="text" value="', 
                        $line = 231, $out += $escape(100 * arrange.guideRate), $out += '" old="', $line = 231, 
                        $out += $escape(arrange.guideRate), $out += '" maxlength="5" ', $line = 231, 1 == arrange.isConfirmAccount && ($out += 'readOnly="readOnly"', 
                        $line = 231), $out += '/></td> <td><span class="guideRateMoney">', $line = 232, 
                        $out += $escape(arrange.guideRkateMoney), $out += '</span><input type="hidden" class="guideRateMoney', 
                        $line = 232, $out += $escape(arrange.whichDay), $out += "_", $line = 232, $out += $escape(arrange.shopId), 
                        $out += '" name="guideRateMoney" value="', $line = 232, $out += $escape(arrange.guideRateMoney), 
                        $out += '" ', $line = 233, 1 == arrange.isConfirmAccount && ($out += 'readOnly="readOnly"', 
                        $line = 233), $out += "/></td> ", $line = 234, 0 == index && ($out += '<td rowspan="', 
                        $line = 234, $out += $escape(shopArrangeList.shopArrangePolicy.length), $out += '"><input type="text" name="customerRebateMoney', 
                        $line = 234, $out += $escape(arrange.whichDay), $out += "_", $line = 234, $out += $escape(arrange.shopId), 
                        $out += '" value="', $line = 234, arrange.customerRebateMoney < 1 ? ($line = 234, 
                        $out += $escape(arrange.shop.customerRebateMoney), $line = 234) : ($line = 234, 
                        $out += $escape(arrange.customerRebateMoney), $line = 234), $out += '" style="width:90px;" old="', 
                        $line = 234, arrange.customerRebateMoney < 1 ? ($line = 234, $out += $escape(arrange.shop.customerRebateMoney), 
                        $line = 234) : ($line = 234, $out += $escape(arrange.customerRebateMoney), $line = 234), 
                        $out += '" maxlength="11" ', $line = 234, 1 == arrange.isConfirmAccount && ($out += 'readOnly="readOnly"', 
                        $line = 234), $out += '/><input type="hidden" name="touristAdultCount', $line = 234, 
                        $out += $escape(arrange.whichDay), $out += "_", $line = 234, $out += $escape(arrange.shopId), 
                        $out += '" value="', $line = 234, $out += $escape(tripPlan.touristAdultCount), $out += '" ', 
                        $line = 234, 1 == arrange.isConfirmAccount && ($out += 'readOnly="readOnly"', $line = 234), 
                        $out += "/></td>", $line = 234), $out += " ", $line = 235, 0 == index && ($out += '<td rowspan="', 
                        $line = 235, $out += $escape(shopArrangeList.shopArrangePolicy.length), $out += '"><span class="sumCustomerRebateMoney', 
                        $line = 235, $out += $escape(arrange.whichDay), $out += "_", $line = 235, $out += $escape(arrange.shopId), 
                        $out += ' sumCustomerRebateMoney">', $line = 235, $out += $escape(shopArrangeList.customerRebateMoney), 
                        $out += "</span></td>", $line = 235), $out += " ", $line = 236, 0 == index && ($out += '<td rowspan="', 
                        $line = 236, $out += $escape(shopArrangeList.shopArrangePolicy.length), $out += '"><input ', 
                        $line = 236, 1 == arrange.isConfirmAccount && ($out += 'readonly="readOnly"', $line = 236), 
                        $out += ' type="text" name="parkingRebateMoney', $line = 236, $out += $escape(arrange.whichDay), 
                        $out += "_", $line = 236, $out += $escape(arrange.shopId), $out += '" value="', 
                        $line = 236, arrange.parkingRebateMoney < 1 ? ($line = 236, $out += $escape(arrange.shop.parkingRebateMoney), 
                        $line = 236) : ($line = 236, $out += $escape(arrange.parkingRebateMoney), $line = 236), 
                        $out += '" style="width:90px;" old="', $line = 236, arrange.parkingRebateMoney < 1 ? ($line = 236, 
                        $out += $escape(arrange.shop.parkingRebateMoney), $line = 236) : ($line = 236, $out += $escape(arrange.parkingRebateMoney), 
                        $line = 236), $out += '" maxlength="11" /><input type="hidden" name="busNumber', 
                        $line = 237, $out += $escape(arrange.whichDay), $out += "_", $line = 237, $out += $escape(arrange.shopId), 
                        $out += '" class="busNumber" value="', $line = 237, $out += $escape(busCompanyArrange.length), 
                        $out += '" ', $line = 237, 1 == arrange.isConfirmAccount && ($out += 'readOnly="readOnly"', 
                        $line = 237), $out += " /></td>", $line = 237), $out += " ", $line = 238, 0 == index && ($out += '<td rowspan="', 
                        $line = 238, $out += $escape(shopArrangeList.shopArrangePolicy.length), $out += '"><span class="sumParkingRebateMoney', 
                        $line = 238, $out += $escape(arrange.whichDay), $out += "_", $line = 238, $out += $escape(arrange.shopId), 
                        $out += ' sumParkingRebateMoney">', $line = 238, $out += $escape(shopArrangeList.parkingRebateMoney), 
                        $out += "</span></td>", $line = 238), $out += " ", $line = 239, 0 == index && ($out += '<td rowspan="', 
                        $line = 239, $out += $escape(shopArrangeList.shopArrangePolicy.length), $out += '"><span class="T-shopIncome T-shopIncome', 
                        $line = 239, $out += $escape(arrange.whichDay), $out += "_", $line = 239, $out += $escape(arrange.shopId), 
                        $out += '"></span></td>', $line = 239), $out += " <!-- ", $line = 240, 0 == index && ($out += '<td rowspan="', 
                        $line = 240, $out += $escape(shopArrangeList.shopArrangePolicy.length), $out += '"><input type="text" style="width:90px;"/></td>', 
                        $line = 240), $out += ' --> <td><input name="billRemark" value="', $line = 241, 
                        $out += $escape(arrange.billRemark), $out += '" maxlength="1000" /></td> ', $line = 242, 
                        2 == tripPlan.billStatus && ($out += "<td>", $line = 242, 0 == arrange.isConfirmAccount ? ($out += "未对账", 
                        $line = 242) : ($out += "已对账", $line = 242), $out += "</td>", $line = 242), $out += " </tr> ", 
                        $line = 244), $out += " ", $line = 245;
                    }), $out += " ", $line = 246;
                }), $out += " ", $line = 247), $out += " ", $line = 248;
            }), $out += ' </tbody> </table> </div>  <div id="financial-count-reimbursement-selfpay" class="tab-pane fade T-self-add"> <div class="ui-sortable-handle widget-container-col"> <h5 class="title-size"> <i class="ace-icon fa fa-medkit"></i> 自费安排 <a href="javascript:void(0)" class="T-addSelf"> <button class="btn btn-sm btn-success T-add" style="margin-left: 20px"> <i class="ace-icon fa fa-plus"></i> 新增 </button> </a> </h5> </div> <table class="table table-striped table-bordered table-hover"> <thead> <tr> <th class="th-border" colspan="14">消费</th> <th class="th-border" colspan="2">社佣</th> <th class="th-border" colspan="2">导佣</th>  <th class="th-border" rowspan="2">导游报账备注</th> ', 
            $line = 274, 2 == tripPlan.billStatus && ($out += '<th class="th-border" rowspan="2">是否对账</th>', 
            $line = 274), $out += ' </tr> <tr> <th class="th-border"><span class="necessary">*</span>时间</th> <th class="th-border"><span class="necessary">*</span>自费商家</th> <th class="th-border"><span class="necessary">*</span>项目</th> <th class="th-border"><span class="necessary">*</span>单价</th> <th class="th-border"><span class="necessary">*</span>底价</th> <th class="th-border">人数返佣</th> <th class="th-border"><span class="necessary">*</span>数量</th> <th class="th-border">优惠</th> <th class="th-border">应收</th> <th class="th-border">应付</th> <th class="th-border">已付</th> <th class="th-border">导付</th> <th class="th-border">现收</th> <th class="th-border">单据</th> <th class="th-border"><span class="necessary">*</span>比例%</th> <th class="th-border">返佣</th> <th class="th-border"><span class="necessary">*</span>比例%</th> <th class="th-border">返佣</th> </tr></thead> <tbody class="T-count-selfPay"> ', 
            $line = 297, $each(dayList, function(day) {
                $out += " ", $line = 298, null != day.selfPayArrange && ($out += " ", $line = 299, 
                $each(day.selfPayArrange, function(arrangeList) {
                    $out += " ", $line = 300, $each(arrangeList.selfPayArrangeList, function(arrange, index) {
                        $out += " ", $line = 301, null != arrange && ($out += ' <tr badStatus = "', $line = 302, 
                        $out += $escape(arrange.badStatus), $out += '" selfPayArrangeId="', $line = 302, 
                        $out += $escape(arrange.id), $out += '" selfPayId="', $line = 302, $out += $escape(arrange.selfPayId), 
                        $out += '"> ', $line = 303, 0 == index && ($out += '<td rowspan="', $line = 303, 
                        $out += $escape(arrangeList.selfPayArrangeList.length), $out += '">第', $line = 303, 
                        $out += $escape(arrange.whichDay), $out += "天</td>", $line = 303), $out += " ", 
                        $line = 304, 0 == index && ($out += '<td rowspan="', $line = 304, $out += $escape(arrangeList.selfPayArrangeList.length), 
                        $out += '">', $line = 304, $out += $escape(arrange.selfPay.name), $out += "</td>", 
                        $line = 304), $out += " <td>", $line = 305, null != arrange.selfPayItem && ($line = 305, 
                        $out += $escape(arrange.selfPayItem.name), $line = 305), $out += "</td> <td>", $line = 306, 
                        1 == arrange.badStatus ? ($out += "<span>", $line = 306, $out += $escape(arrange.marketPrice), 
                        $out += "</span>", $line = 306) : ($out += "<span>", $line = 306, $out += $escape(arrange.marketPrice), 
                        $out += "</span>", $line = 306), $out += ' <input type="hidden" name="marketPrice" value="', 
                        $line = 307, $out += $escape(arrange.marketPrice), $out += '"/></td> <td>', $line = 308, 
                        1 == arrange.badStatus ? ($out += "<span>", $line = 308, $out += $escape(arrange.price), 
                        $out += "</span>", $line = 308) : ($out += "<span> ", $line = 308, $out += $escape(arrange.price), 
                        $out += "</span>", $line = 308), $out += ' <input type="hidden" name="price" value="', 
                        $line = 309, $out += $escape(arrange.price), $out += '" /></td> <td>', $line = 310, 
                        1 == arrange.badStatus ? ($out += "<span>", $line = 310, $out += $escape(arrange.customerRebateMoney), 
                        $out += "</span>", $line = 310) : ($out += "<span>", $line = 310, $out += $escape(arrange.customerRebateMoney), 
                        $out += "</span>", $line = 310), $out += "</td> <td>", $line = 311, 1 == arrange.badStatus ? ($out += "<span>", 
                        $line = 311, $out += $escape(arrange.memberCount), $out += "</span>", $line = 311) : ($out += '<input style="width:60px;" type="text" name="realCount" ', 
                        $line = 311, null != arrange.billUpdateTime ? ($out += 'value="', $line = 311, $out += $escape(arrange.realCount), 
                        $out += '"', $line = 311) : ($out += 'value="', $line = 311, $out += $escape(arrange.memberCount), 
                        $out += '"', $line = 311), $out += ' maxlength="5"/><input type="hidden" name="memberCount" value="', 
                        $line = 311, $out += $escape(arrange.memberCount), $out += '" ', $line = 311, 1 == arrange.isConfirmAccount && ($out += 'readOnly="readOnly"', 
                        $line = 311), $out += " />", $line = 311), $out += " </td> <td>", $line = 313, 1 == arrange.badStatus ? ($out += "<span>", 
                        $line = 313, $out += $escape(arrange.realReduceMoney), $out += "</span>", $line = 313) : ($out += '<input type="text" name="realReduceMoney" value="', 
                        $line = 313, $out += $escape(arrange.realReduceMoney), $out += '" style="width:60px;"/>', 
                        $line = 313), $out += ' <input type="hidden" name="realReduceMoney" value="', $line = 314, 
                        $out += $escape(arrange.realReduceMoney), $out += '" style="width:60px;"/> </td> <td>', 
                        $line = 316, 1 == arrange.badStatus ? ($out += '<span class="needIncome"></span>', 
                        $line = 316) : ($out += '<span class="needIncome"></span>', $line = 316), $out += " </td> <td>", 
                        $line = 318, 1 == arrange.badStatus ? ($out += '<span class="needPayMoney">', $line = 318, 
                        $out += $escape(arrange.payedMoney + arrange.realGuidePayMoney), $out += "</span>", 
                        $line = 318) : ($out += '<span class="needPayMoney" >', $line = 318, $out += $escape(arrange.needPayMoney), 
                        $line = 318), $out += ' </span><input type="hidden" class="selfMoney"></td> <td>', 
                        $line = 320, $out += $escape(arrange.payedMoney), $out += "</td> <td>", $line = 321, 
                        1 == arrange.badStatus ? ($out += "<span>", $line = 321, $out += $escape(arrange.realGuidePayMoney), 
                        $out += "</span>", $line = 321) : ($out += ' <input style="width:60px;" type="text" name="realGuidePayMoney" ', 
                        $line = 321, null != arrange.billUpdateTime ? ($out += 'value="', $line = 321, $out += $escape(arrange.realGuidePayMoney), 
                        $out += '"', $line = 321) : ($out += 'value="', $line = 321, $out += $escape(arrange.guidePayMoney), 
                        $out += '" ', $line = 321), $out += ' old="', $line = 321, $out += $escape(arrange.realGuidePayMoney), 
                        $out += '" maxlength="11" ', $line = 321, 1 == arrange.isConfirmAccount && ($out += 'readOnly="readOnly"', 
                        $line = 321), $out += " />", $line = 321), $out += ' <input type="hidden" name="payedMoney" value="', 
                        $line = 323, $out += $escape(arrange.payedMoney), $out += '" ', $line = 323, 1 == arrange.isConfirmAccount && ($out += 'readOnly="readOnly"', 
                        $line = 323), $out += ' /> <input type="hidden" name="guidePayMoney" value="', $line = 324, 
                        $out += $escape(arrange.guidePayMoney), $out += '" ', $line = 324, 1 == arrange.isConfirmAccount && ($out += 'readOnly="readOnly"', 
                        $line = 324), $out += " /> </td> <td>", $line = 326, 1 == arrange.badStatus ? ($out += "<span>", 
                        $line = 326, $out += $escape(arrange.realGetMoney), $out += "</span>", $line = 326) : ($out += ' <input type="text" name="realGetMoney" value="', 
                        $line = 326, $out += $escape(arrange.realGetMoney), $out += '" style="width:60px;"/>', 
                        $line = 326), $out += " </td> <td>", $line = 328, null != arrange.billImage && "" != arrange.billImage ? ($out += ' <a href="javascript:void(0);" url="', 
                        $line = 329, $out += $escape(arrange.billImage), $out += '" class="btn-view">查看</a> ', 
                        $line = 330) : ($out += ' <span style="color:#bbb;">查看</span> ', $line = 332), $out += " </td> <td>", 
                        $line = 334, 1 == arrange.badStatus ? ($out += "<span>", $line = 334, $out += $escape($helpers.parseInt(100 * arrange.travelAgencyRate)), 
                        $out += "</span>", $line = 334) : ($out += ' <input style="width:90px;" type="text" name="travelAgencyRate" value="', 
                        $line = 334, $out += $escape($helpers.parseInt(100 * arrange.travelAgencyRate)), 
                        $out += '" old="', $line = 334, $out += $escape(arrange.travelAgencyRate), $out += '" maxlength="5" ', 
                        $line = 334, 1 == arrange.isConfirmAccount && ($out += 'readOnly="readOnly"', $line = 334), 
                        $out += " />", $line = 334), $out += " </td> <td>", $line = 336, 1 == arrange.badStatus ? ($out += '<span class="travelAgencyRebateMoney">', 
                        $line = 336, $out += $escape(arrange.travelAgencyRebateMoney), $out += "</span>", 
                        $line = 336) : ($out += ' <span class="travelAgencyRebateMoney">', $line = 336, 
                        $out += $escape(arrange.travelAgencyRebateMoney), $out += "</span>", $line = 336), 
                        $out += ' <input type="hidden" name="travelAgencyRebateMoney" value="', $line = 338, 
                        $out += $escape(arrange.travelAgencyRebateMoney), $out += '" ', $line = 338, 1 == arrange.isConfirmAccount && ($out += 'readOnly="readOnly"', 
                        $line = 338), $out += " /></td> <td>", $line = 339, 1 == arrange.badStatus ? ($out += "<span>", 
                        $line = 339, $out += $escape($helpers.parseInt(100 * arrange.guideRate)), $out += "</span>", 
                        $line = 339) : ($out += ' <input style="width:90px;" type="text" name="guideRate" value="', 
                        $line = 339, $out += $escape($helpers.parseInt(100 * arrange.guideRate)), $out += '" old="', 
                        $line = 339, $out += $escape(arrange.guideRate), $out += '" maxlength="5"/>', $line = 339), 
                        $out += " </td> <td>", $line = 342, 1 == arrange.badStatus ? ($out += '<span class="guideRebateMoney">', 
                        $line = 342, $out += $escape(arrange.guideRebateMoney), $out += "</span>", $line = 342) : ($out += '<span class="guideRebateMoney">', 
                        $line = 342, $out += $escape(arrange.guideRebateMoney), $out += "</span>", $line = 342), 
                        $out += ' <input type="hidden" name="guideRebateMoney" value="', $line = 343, $out += $escape(arrange.guideRebateMoney), 
                        $out += '" ', $line = 343, 1 == arrange.isConfirmAccount && ($out += 'readOnly="readOnly"', 
                        $line = 343), $out += ' /></td> <!-- <td> <span class="guideRate">', $line = 345, 
                        $out += $escape(arrange.customerRebateMoney), $out += '</span> <input type="hidden" name="guideRate" value="', 
                        $line = 346, $out += $escape(arrange.customerRebateMoney), $out += '" ', $line = 346, 
                        1 == arrange.isConfirmAccount && ($out += 'readOnly="readOnly"', $line = 346), $out += " /></td> ", 
                        $line = 347, 0 == index && ($out += '<td rowspan="', $line = 347, $out += $escape(arrangeList.selfPayArrangeList.length), 
                        $out += '">', $line = 347, $out += $escape(arrange.customerRebateMoney * tripPlan.touristAdultCount), 
                        $out += "</td>", $line = 347), $out += ' --> <td><input value="', $line = 348, $out += $escape(arrange.billRemark), 
                        $out += '" name="billRemark" type="text" maxlength="1000"></td> ', $line = 349, 
                        2 == tripPlan.billStatus && ($out += "<td>", $line = 349, 0 == arrange.isConfirmAccount ? ($out += "未对账", 
                        $line = 349) : ($out += "已对账", $line = 349), $out += "</td>", $line = 349), $out += " </tr> ", 
                        $line = 351), $out += " ", $line = 352;
                    }), $out += " ", $line = 353;
                }), $out += " ", $line = 354), $out += " ", $line = 355;
            }), $out += ' </tbody> </table> </div>  <div id="financial-count-reimbursement-other-incoming" class="tab-pane fade T-income"> <div class="ui-sortable-handle widget-container-col"> <h5 class="title-size"> <i class="ace-icon fa fa-medkit"></i> 其他收入 <a href="javascript:void(0)" class="T-OtherIn-add"> <button class="btn btn-sm btn-success T-add" style="margin-left: 20px"> <i class="ace-icon fa fa-plus"></i> 新增 </button> </a> </h5> </div> <table class="table table-striped table-bordered table-hover"> <thead> <tr> <th class="th-border"><span class="necessary">*</span>时间</th> <th class="th-border"><span class="necessary">*</span>项目</th> <th class="th-border"><span class="necessary">*</span>单价</th> <th class="th-border"><span class="necessary">*</span>数量</th> <th class="th-border">金额</th> <th class="th-border">单据</th> <th class="th-border">导游报账备注</th> ', 
            $line = 383, 2 == tripPlan.billStatus && ($out += '<th class="th-border" rowspan="2">是否对账</th>', 
            $line = 383), $out += ' </tr> </thead> <tbody class="T-count-otherIn"> ', $line = 387, 
            $each(arrangeIncomePaymentList, function(otherInCome) {
                $out += " ", $line = 388, null != otherInCome && ($out += ' <tr otherInId="', $line = 389, 
                $out += $escape(otherInCome.id), $out += '" otherIn="', $line = 389, $out += $escape(otherInCome.id), 
                $out += '"> <td whichDay="', $line = 390, $out += $escape(otherInCome.whichDay), 
                $out += '">第', $line = 390, $out += $escape(otherInCome.whichDay), $out += '天</td> <td><input style="width:90px;" type="text" name="title" reset="true" value="', 
                $line = 391, $out += $escape(otherInCome.title), $out += '" old="', $line = 391, 
                $out += $escape(otherInCome.title), $out += '" maxlength="100" ', $line = 391, 1 == otherInCome.isConfirmAccount && ($out += 'readOnly="readOnly"', 
                $line = 391), $out += '/></td> <td><input style="width:90px;" type="text" name="price" value="', 
                $line = 392, $out += $escape(otherInCome.price), $out += '" old="', $line = 392, 
                $out += $escape(otherInCome.price), $out += '" maxlength="11" ', $line = 393, 1 == otherInCome.isConfirmAccount && ($out += 'readOnly="readOnly"', 
                $line = 393), $out += ' /></td> <td><input style="width:90px;" type="text" name="count" value="', 
                $line = 395, $out += $escape(otherInCome.count), $out += '" old="', $line = 395, 
                $out += $escape(otherInCome.count), $out += '" maxlength="11" ', $line = 396, 1 == otherInCome.isConfirmAccount && ($out += 'readOnly="readOnly"', 
                $line = 396), $out += '/></td> <td><span class="needPayMoney"><input type="hidden" name="needPayMoney" value="', 
                $line = 397, $out += $escape(otherInCome.needPayMoney), $out += '" ', $line = 398, 
                1 == otherInCome.isConfirmAccount && ($out += 'readOnly="readOnly"', $line = 398), 
                $out += "/></span></td> <td>", $line = 399, null != otherInCome.billImage && "" != otherInCome.billImage ? ($out += ' <a href="javascript:void(0);" url="', 
                $line = 400, $out += $escape(otherInCome.billImage), $out += '" class="btn-view">查看</a> ', 
                $line = 401) : ($out += ' <span style="color:#bbb;">查看</span> ', $line = 403), $out += ' </td> <td><input value="', 
                $line = 405, $out += $escape(otherInCome.billRemark), $out += '" type="text" name="billRemark" maxlength="1000" /></td> ', 
                $line = 406, 2 == tripPlan.billStatus && ($out += "<td>", $line = 406, 0 == otherInCome.isConfirmAccount ? ($out += "未对账", 
                $line = 406) : ($out += "已对账", $line = 406), $out += "</td>", $line = 406), $out += " </tr> ", 
                $line = 408), $out += " ", $line = 409;
            }), $out += ' </tbody> </table> </div> <div id="financial-count-reimbursement-other-insurance" class="tab-pane fade T-insurance"> <table class="table table-striped table-bordered table-hover"> <thead> <tr> <th class="th-border">保险公司</th> <th class="th-border">险种</th> <th class="th-border">单价</th> <th class="th-border">数量</th> <th class="th-border">应付</th> <th class="th-border">已付</th> <th class="th-border">导游报账备注</th> ', 
            $line = 426, 2 == tripPlan.billStatus && ($out += '<th class="th-border" rowspan="2">是否对账</th>', 
            $line = 426), $out += ' </tr> </thead> <tbody class="T-count-insurance"> ', $line = 430, 
            $each(insuranceArrangeList, function(insuranceArrange) {
                $out += " <tr> <td>", $line = 432, $out += $escape(insuranceArrange.insurance.name), 
                $out += "</td> <td>", $line = 433, $out += $escape(insuranceArrange.type), $out += "</td> <td>", 
                $line = 434, $out += $escape(insuranceArrange.price), $out += "</td> <td>", $line = 435, 
                $out += $escape(insuranceArrange.memberCount), $out += "</td> <td>", $line = 436, 
                $out += $escape(insuranceArrange.needPayMoney), $out += "</td> <td>", $line = 437, 
                $out += $escape(insuranceArrange.payedMoney), $out += "</td> <td></td> </tr> ", 
                $line = 440;
            }), $out += ' </tbody> </table> </div>  <div id="financial-count-reimbursement-buspay" class="tab-pane fade T-bus">  <table class="table table-striped table-bordered table-hover"> <thead> <tr> <th class="th-border"><span class="necessary">*</span>所属车队</th> <th class="th-border"><span class="necessary">*</span>车牌号</th> <th class="th-border"><span class="necessary">*</span>座位数</th> <th class="th-border"><span class="necessary">*</span>车费</th> <th class="th-border">优惠</th> <th class="th-border">应付</th> <th class="th-border">已付</th> <th class="th-border">导付</th> <th class="th-border">单据</th> <th class="th-border">差额</th> <th class="th-border">导游报账备注</th> ', 
            $line = 471, 2 == tripPlan.billStatus && ($out += '<th class="th-border" rowspan="2">是否对账</th>', 
            $line = 471), $out += ' </tr> </thead> <tbody class="T-count-bus"> ', $line = 476, 
            $each(busCompanyArrange, function(busCompany) {
                $out += " ", $line = 477, null != busCompany && ($out += ' <tr busCompanyArrangeId="', 
                $line = 478, $out += $escape(busCompany.id), $out += '" badStatus = "', $line = 478, 
                $out += $escape(busCompany.badStatus), $out += '"> <td>', $line = 479, null != busCompany.busCompany && ($line = 479, 
                $out += $escape(busCompany.busCompany.companyName), $line = 479), $out += "</td> <td>", 
                $line = 480, null != busCompany.bus && ($line = 480, $out += $escape(busCompany.bus.licenseNumber), 
                $line = 480), $out += "</td> <td>", $line = 481, null != busCompany.bus && ($line = 481, 
                $out += $escape(busCompany.bus.seatCount), $line = 481), $out += "</td> <td>", $line = 482, 
                1 == busCompany.badStatus ? ($out += "<span>", $line = 482, $out += $escape(busCompany.price), 
                $out += "</span>", $line = 482) : ($out += '<input type="text" name="price" value="', 
                $line = 482, $out += $escape(busCompany.price), $out += '"/>', $line = 482), $out += ' <input type="hidden" name="price" value="', 
                $line = 483, $out += $escape(busCompany.price), $out += '" /><input type="hidden" name="realPrice" value="', 
                $line = 483, $out += $escape(busCompany.price), $out += '" /><input type="hidden" name="realCount" value="1" /></td> <td>', 
                $line = 484, 1 == busCompany.badStatus ? ($out += "<span>", $line = 484, $out += $escape(busCompany.realReduceMoney), 
                $out += "</span>", $line = 484) : ($out += '<input type="text" name="realReduceMoney" value="', 
                $line = 484, $out += $escape(busCompany.realReduceMoney), $out += '" old="', $line = 484, 
                $out += $escape(busCompany.realReduceMoney), $out += '"/>', $line = 484), $out += " </td> <td>", 
                $line = 486, 1 == busCompany.badStatus ? ($out += '<span class="BusneedPayMoney">', 
                $line = 486, $out += $escape(busCompany.payedMoney + busCompany.realGuidePayMoney), 
                $out += "</span>", $line = 486) : ($out += '<span class="BusneedPayMoney"></span>', 
                $line = 486), $out += ' <input type="hidden" name="needPayMoney" value="', $line = 487, 
                $out += $escape(busCompany.needPayMoney), $out += '"/></td> <td>', $line = 488, 
                $out += $escape(busCompany.payedMoney), $out += "</td> <td>", $line = 489, 1 == busCompany.badStatus ? ($out += "<span>", 
                $line = 489, $out += $escape(busCompany.realGuidePayMoney), $out += "</span>", $line = 489) : ($out += '<input style="width:90px;" type="text" name="realGuidePayMoney" ', 
                $line = 489, null != busCompany.billUpdateTime ? ($out += 'value="', $line = 489, 
                $out += $escape(busCompany.realGuidePayMoney), $out += '"', $line = 489) : ($out += "value=0 ", 
                $line = 489), $out += ' old="', $line = 489, $out += $escape(busCompany.realGuidePayMoney), 
                $out += '" maxlength="11" ', $line = 489, 1 == busCompany.isConfirmAccount && ($out += ' readOnly="readOnly" ', 
                $line = 489), $out += "/>", $line = 489), $out += ' <input type="hidden" name="payedMoney" value="', 
                $line = 490, $out += $escape(busCompany.payedMoney), $out += '" ', $line = 490, 
                1 == busCompany.isConfirmAccount && ($out += 'readOnly="readOnly"', $line = 490), 
                $out += '/> <input type="hidden" name="guidePayMoney" value="', $line = 491, $out += $escape(busCompany.guidePayMoney), 
                $out += '" /></td> <td>', $line = 492, null != busCompany.billImage && "" != busCompany.billImage ? ($out += ' <a href="javascript:void(0);" url="', 
                $line = 493, $out += $escape(busCompany.billImage), $out += '" class="btn-view">查看</a> ', 
                $line = 494) : ($out += ' <span style="color:#bbb;">查看</span> ', $line = 496), $out += ' </td> <td><span class="difference"></span></td> <td><input value="', 
                $line = 499, $out += $escape(busCompany.billRemark), $out += '" type="text" name="billRemark" maxlength="1000" /></td> ', 
                $line = 500, 2 == tripPlan.billStatus && ($out += "<td>", $line = 500, 0 == busCompany.isConfirmAccount ? ($out += "未对账", 
                $line = 500) : ($out += "已对账", $line = 500), $out += "</td>", $line = 500), $out += " </tr> ", 
                $line = 502), $out += " ", $line = 503;
            }), $out += ' </tbody> </table> </div>  <div id="financial-count-reimbursement-restaurantpay" class="tab-pane fade T-restaurant"> <div class="ui-sortable-handle widget-container-col"> <h5 class="title-size"> <i class="ace-icon fa fa-medkit"></i> 餐费 <a href="javascript:void(0)" class="T-restaurantpay-add"> <button class="btn btn-sm btn-success T-add" style="margin-left: 20px"> <i class="ace-icon fa fa-plus"></i> 新增 </button> </a> </h5> </div> <table class="table table-striped table-bordered table-hover"> <thead> <tr> <th class="th-border"><span class="necessary">*</span>时间</th> <th class="th-border"><span class="necessary">*</span>餐厅</th> <th class="th-border"><span class="necessary">*</span>类型</th> <th class="th-border"><span class="necessary">*</span>餐标<span style="font-size:12px;">(元/人)</span></th> <th class="th-border"><span class="necessary">*</span>人数</th> <th class="th-border">优惠</th> <th class="th-border">应付</th> <th class="th-border">已付</th> <th class="th-border">导付</th> <th class="th-border">单据</th> <th class="th-border">差额</th> <th class="th-border">导游报账备注</th> ', 
            $line = 536, 2 == tripPlan.billStatus && ($out += '<th class="th-border" rowspan="2">是否对账</th>', 
            $line = 536), $out += ' </tr> </thead> <tbody class="T-count-restaurant"> ', $line = 540, 
            $each(dayList, function(day) {
                $out += " ", $line = 541, null != day.restaurantArrange && ($out += " ", $line = 542, 
                $each(day.restaurantArrange, function(arrangeList) {
                    $out += " ", $line = 543, $each(arrangeList.restaurantArrangeList, function(arrange, index) {
                        $out += " ", $line = 544, null != arrange && ($out += ' <tr badStatus = "', $line = 545, 
                        $out += $escape(arrange.badStatus), $out += '" restaurantArrangeId="', $line = 545, 
                        $out += $escape(arrange.id), $out += '" restaurantId="', $line = 545, null != arrange.restaurant && ($line = 545, 
                        $out += $escape(arrange.restaurant.id), $line = 545), $out += '" restaurantStandardId="', 
                        $line = 545, null != arrange.restaurantStandard && ($line = 545, $out += $escape(arrange.restaurantStandard.id), 
                        $line = 545), $out += '"> ', $line = 546, 0 == index && ($out += '<td rowspan="', 
                        $line = 546, $out += $escape(arrangeList.restaurantArrangeList.length), $out += '">第', 
                        $line = 546, $out += $escape(arrange.whichDay), $out += "天</td>", $line = 546), 
                        $out += " ", $line = 547, 0 == index && ($line = 547, 1 != arrange.isChoose ? ($out += '<td rowspan="', 
                        $line = 547, $out += $escape(arrangeList.restaurantArrangeList.length), $out += '">', 
                        $line = 547, null != arrange.restaurant && ($line = 547, $out += $escape(arrange.restaurant.name), 
                        $line = 547), $out += "</td>", $line = 547) : ($out += '<td> <select name="restaurant"> <option value = -1>请选择</option> ', 
                        $line = 550, $each(arrange.restaurantChooseArrangeList, function(restaurant) {
                            $out += ' <option style="width:150px;" value = "', $line = 551, $out += $escape(restaurant.restaurantId), 
                            $out += '" ', $line = 552, null != arrange.restaurant && ($line = 552, arrange.restaurant.id == restaurant.restaurantId && ($out += 'selected="selected"', 
                            $line = 552), $line = 552), $out += ">", $line = 552, $out += $escape(restaurant.name), 
                            $out += "</option> ", $line = 553;
                        }), $out += " </select> </td>", $line = 555), $line = 555), $out += " <!-- ", $line = 556, 
                        0 == index && ($out += '<td rowspan="', $line = 556, $out += $escape(arrangeList.restaurantArrangeList.length), 
                        $out += '"> ', $line = 557, null != arrange.billUpdateTime ? ($line = 557, null != arrange.restaurant && ($line = 557, 
                        $out += $escape(arrange.restaurant.name), $line = 557), $line = 557) : ($line = 557, 
                        1 == arrange.isChoose ? ($out += "自选", $line = 557) : ($line = 557, null != arrange.restaurant && ($line = 557, 
                        $out += $escape(arrange.restaurant.name), $line = 557), $line = 557), $line = 557), 
                        $out += "</td>", $line = 557), $out += " --> <td>", $line = 558, $out += $escape(arrange.type), 
                        $out += "</td> <td>", $line = 559, 1 == arrange.badStatus ? ($out += "<span>", $line = 559, 
                        $out += $escape(arrange.price), $out += "</span>", $line = 559) : ($out += ' <span class="price">', 
                        $line = 559, $out += $escape(arrange.price), $out += "</span>", $line = 559), $out += ' <input type="hidden" name="price" value="', 
                        $line = 560, $out += $escape(arrange.price), $out += '" /></td> <td>', $line = 561, 
                        1 == arrange.badStatus ? ($out += "<span>", $line = 561, $out += $escape(arrange.memberCount), 
                        $out += "</span>", $line = 561) : ($out += '<input style="width:90px;" type="text" name="realCount" ', 
                        $line = 561, null != arrange.billUpdateTime ? ($out += 'value="', $line = 561, $out += $escape(arrange.realCount), 
                        $out += '" ', $line = 562) : ($out += 'value="', $line = 562, $out += $escape(arrange.memberCount), 
                        $out += '"', $line = 562), $out += ' old="', $line = 562, $out += $escape(arrange.realCount), 
                        $out += '" maxlength="5" ', $line = 563, 1 == arrange.isConfirmAccount && ($out += 'readOnly="readOnly"', 
                        $line = 563), $out += "/>", $line = 563), $out += " </td> <td>", $line = 565, 1 == arrange.badStatus ? ($out += "<span>", 
                        $line = 565, $out += $escape(arrange.realReduceMoney), $out += "</span>", $line = 565) : ($out += ' <input type="text" name="realReduceMoney" value="', 
                        $line = 565, $out += $escape(arrange.realReduceMoney), $out += '" old="', $line = 565, 
                        $out += $escape(arrange.realReduceMoney), $out += '"/>', $line = 565), $out += " </td> <td>", 
                        $line = 567, 1 == arrange.badStatus ? ($out += '<span class="">', $line = 567, $out += $escape(arrange.payedMoney + arrange.realGuidePayMoney), 
                        $out += "</span>", $line = 567) : ($out += '<span class="restneedPayMoney"></span>', 
                        $line = 567), $out += ' <input type="hidden" value="', $line = 568, $out += $escape(arrange.needPayMoney), 
                        $out += '" name="needPayMoney"></td> <td>', $line = 569, $out += $escape(arrange.payedMoney), 
                        $out += "</td> <td>", $line = 570, 1 == arrange.badStatus ? ($out += "<span>", $line = 570, 
                        $out += $escape(arrange.realGuidePayMoney), $out += "</span>", $line = 570) : ($out += ' <input style="width:90px;" type="text" name="realGuidePayMoney" ', 
                        $line = 570, null != arrange.billUpdateTime ? ($out += 'value="', $line = 570, $out += $escape(arrange.realGuidePayMoney), 
                        $out += '"', $line = 570) : ($out += 'value="', $line = 570, $out += $escape(arrange.guidePayMoney), 
                        $out += '"', $line = 570), $out += ' old="', $line = 570, $out += $escape(arrange.realGuidePayMoney), 
                        $out += '" maxlength="11" ', $line = 570, 1 == arrange.isConfirmAccount && ($out += 'readOnly="readOnly"', 
                        $line = 570), $out += "/>", $line = 570), $out += ' <input type="hidden" name="payedMoney" value="', 
                        $line = 571, $out += $escape(arrange.payedMoney), $out += '" /> <input type="hidden" name="guidePayMoney" value="', 
                        $line = 572, $out += $escape(arrange.guidePayMoney), $out += '" /></td> <td>', $line = 573, 
                        null != arrange.billImage && "" != arrange.billImage ? ($out += ' <a href="javascript:void(0);" url="', 
                        $line = 574, $out += $escape(arrange.billImage), $out += '" class="btn-view">查看</a> ', 
                        $line = 575) : ($out += ' <span style="color:#bbb;">查看</span> ', $line = 577), $out += ' </td> <td><span class="difference"></span></td> <td><input value="', 
                        $line = 580, $out += $escape(arrange.billRemark), $out += '" name="billRemark" type="text"></td> ', 
                        $line = 581, 2 == tripPlan.billStatus && ($out += "<td>", $line = 581, 0 == arrange.isConfirmAccount ? ($out += "未对账", 
                        $line = 581) : ($out += "已对账", $line = 581), $out += "</td>", $line = 581), $out += " </tr> ", 
                        $line = 583), $out += " ", $line = 584;
                    }), $out += " ", $line = 585;
                }), $out += " ", $line = 586), $out += " ", $line = 587;
            }), $out += ' </tbody> </table> </div>  <div id="financial-count-reimbursement-hotelpay" class="tab-pane fade T-hotel"> <div class="ui-sortable-handle widget-container-col"> <h5 class="title-size"> <i class="ace-icon fa fa-medkit"></i>房费 <a href="javascript:void(0)" class="T-hotel-add"> <button class="btn btn-sm btn-success T-add" style="margin-left: 20px"> <i class="ace-icon fa fa-plus"></i> 新增 </button> </a> </h5> </div> <table class="table table-striped table-bordered table-hover"> <thead> <tr> <th class="th-border"><span class="necessary">*</span>时间</th> <th class="th-border"><span class="necessary">*</span>酒店</th> <th class="th-border"><span class="necessary">*</span>房型</th> <th class="th-border"><span class="necessary">*</span>单价</th> <th class="th-border"><span class="necessary">*</span>间数</th> <th class="th-border">优惠</th> <th class="th-border">应付</th> <th class="th-border">已付</th> <th class="th-border">导付</th> <th class="th-border">单据</th> <th class="th-border">差额</th> <th class="th-border">导游报账备注</th> ', 
            $line = 620, 2 == tripPlan.billStatus && ($out += '<th class="th-border" rowspan="2">是否对账</th>', 
            $line = 620), $out += ' </tr> </thead> <tbody class="T-count-hotel"> ', $line = 624, 
            $each(dayList, function(day) {
                $out += " ", $line = 625, null != day.hotelArrange && ($out += " ", $line = 626, 
                $each(day.hotelArrange, function(arrangeList) {
                    $out += " ", $line = 627, $each(arrangeList.hotelArrangeList, function(arrange, index) {
                        $out += " ", $line = 628, null != arrange && ($out += ' <tr badStatus = "', $line = 629, 
                        $out += $escape(arrange.badStatus), $out += '" hotelArrangeId="', $line = 629, $out += $escape(arrange.id), 
                        $out += '" hotelId="', $line = 629, null != arrange.hotel && ($line = 629, $out += $escape(arrange.hotel.id), 
                        $line = 629), $out += '" restaurantStandardId="', $line = 629, null != arrange.hotelRoom && ($line = 629, 
                        $out += $escape(arrange.hotelRoom.id), $line = 629), $out += '"> ', $line = 630, 
                        0 == index && ($out += '<td rowspan="', $line = 630, $out += $escape(arrangeList.hotelArrangeList.length), 
                        $out += '">第', $line = 630, $out += $escape(arrange.whichDay), $out += "天</td>", 
                        $line = 630), $out += " ", $line = 631, 0 == index && ($out += '<td rowspan="', 
                        $line = 631, $out += $escape(arrangeList.hotelArrangeList.length), $out += '">', 
                        $line = 631, null != arrange.hotel && ($line = 631, $out += $escape(arrange.hotel.name), 
                        $line = 631), $out += "</td>", $line = 631), $out += " <td>", $line = 632, null != arrange.hotelRoom && ($line = 632, 
                        $out += $escape(arrange.hotelRoom.type), $line = 632), $out += "</td> <td>", $line = 633, 
                        1 == arrange.badStatus ? ($out += "<span>", $line = 633, $out += $escape(arrange.price), 
                        $out += "</span>", $line = 633) : ($out += " <span>", $line = 633, $out += $escape(arrange.price), 
                        $out += "</span>", $line = 633), $out += ' <input type="hidden" name="price" value="', 
                        $line = 634, $out += $escape(arrange.price), $out += '" /></td> <td>', $line = 635, 
                        1 == arrange.badStatus ? ($out += "<span>", $line = 635, $out += $escape(arrange.memberCount), 
                        $out += "</span>", $line = 635) : ($out += '<input style="width:90px;" type="text" name="realCount" ', 
                        $line = 635, null != arrange.billUpdateTime ? ($out += 'value="', $line = 635, $out += $escape(arrange.realCount), 
                        $out += '" ', $line = 635) : ($out += 'value="', $line = 635, $out += $escape(arrange.memberCount), 
                        $out += '"', $line = 635), $out += 'oid="', $line = 635, $out += $escape(arrange.realCount), 
                        $out += '" maxlength="5" ', $line = 636, 1 == arrange.isConfirmAccount && ($out += 'readOnly="readOnly"', 
                        $line = 636), $out += "/>", $line = 636), $out += " </td> <td>", $line = 638, 1 == arrange.badStatus ? ($out += "<span>", 
                        $line = 638, $out += $escape(arrange.realReduceMoney), $out += "</span>", $line = 638) : ($out += ' <input type="text" name="realReduceMoney" value="', 
                        $line = 638, $out += $escape(arrange.realReduceMoney), $out += '" old="', $line = 638, 
                        $out += $escape(arrange.realReduceMoney), $out += '"/>', $line = 638), $out += " </td> <td>", 
                        $line = 640, 1 == arrange.badStatus ? ($out += '<span class="hotelneedPayMoney">', 
                        $line = 640, $out += $escape(arrange.payedMoney + arrange.realGuidePayMoney), $out += "</span>", 
                        $line = 640) : ($out += ' <span class="hotelneedPayMoney"></span>', $line = 640), 
                        $out += ' <input name="needPayMoney" type="hidden" value="', $line = 641, $out += $escape(arrange.needPayMoney), 
                        $out += '"></td> <td>', $line = 642, $out += $escape(arrange.payedMoney), $out += "</td> <td>", 
                        $line = 643, 1 == arrange.badStatus ? ($out += "<span>", $line = 643, $out += $escape(arrange.realGuidePayMoney), 
                        $out += "</span>", $line = 643) : ($out += '<input style="width:90px;" type="text" name="realGuidePayMoney" ', 
                        $line = 643, null != arrange.billUpdateTime ? ($out += ' value="', $line = 643, 
                        $out += $escape(arrange.realGuidePayMoney), $out += '"', $line = 643) : ($out += 'value="', 
                        $line = 643, $out += $escape(arrange.guidePayMoney), $out += '" ', $line = 643), 
                        $out += ' oid="', $line = 643, $out += $escape(arrange.realGuidePayMoney), $out += '" maxlength="11" ', 
                        $line = 643, 1 == arrange.isConfirmAccount && ($out += 'readOnly="readOnly"', $line = 643), 
                        $out += "/>", $line = 643), $out += ' <input type="hidden" name="payedMoney" value="', 
                        $line = 644, $out += $escape(arrange.payedMoney), $out += '" /> <input type="hidden" name="guidePayMoney" value="', 
                        $line = 645, $out += $escape(arrange.guidePayMoney), $out += '" /></td> <td>', $line = 646, 
                        null != arrange.billImage && "" != arrange.billImage ? ($out += ' <a href="javascript:void(0);" url="', 
                        $line = 647, $out += $escape(arrange.billImage), $out += '" class="btn-view">查看</a> ', 
                        $line = 648) : ($out += ' <span style="color:#bbb;">查看</span> ', $line = 650), $out += ' </td> <td><span class="difference"></span></td> <td><input value="', 
                        $line = 653, $out += $escape(arrange.billRemark), $out += '" type="text" name="billRemark" maxlength="1000" /></td> ', 
                        $line = 654, 2 == tripPlan.billStatus && ($out += "<td>", $line = 654, 0 == arrange.isConfirmAccount ? ($out += "未对账", 
                        $line = 654) : ($out += "已对账", $line = 654), $out += "</td>", $line = 654), $out += " </tr> ", 
                        $line = 656), $out += " ", $line = 657;
                    }), $out += " ", $line = 658;
                }), $out += " ", $line = 659), $out += " ", $line = 660;
            }), $out += ' </tbody> </table> </div>  <div id="financial-count-reimbursement-scenicpay" class="tab-pane fade T-scenic"> <div class="ui-sortable-handle widget-container-col"> <h5 class="title-size"> <i class="ace-icon fa fa-medkit"></i>景区 <a href="javascript:void(0)" class="T-scenic-add"> <button class="btn btn-sm btn-success T-add" style="margin-left: 20px"> <i class="ace-icon fa fa-plus"></i> 新增 </button> </a> </h5> </div> <table class="table table-striped table-bordered table-hover"> <thead> <tr> <th class="th-border"><span class="necessary">*</span>时间</th> <th class="th-border"><span class="necessary">*</span>景区</th> <th class="th-border"><span class="necessary">*</span>收费项目</th> <th class="th-border"><span class="necessary">*</span>单价</th> <th class="th-border"><span class="necessary">*</span>数量</th> <th class="th-border">优惠</th> <th class="th-border">应付</th> <th class="th-border">已付</th> <th class="th-border">导付</th> <th class="th-border">单据</th> <th class="th-border">差额</th> <th class="th-border">导游报账备注</th> ', 
            $line = 693, 2 == tripPlan.billStatus && ($out += '<th class="th-border" rowspan="2">是否对账</th>', 
            $line = 693), $out += ' </tr> </thead> <tbody class="T-count-scenic"> ', $line = 697, 
            $each(dayList, function(day) {
                $out += " ", $line = 698, null != day.scenicArrange && ($out += " ", $line = 699, 
                $each(day.scenicArrange, function(arrangeList) {
                    $out += " ", $line = 700, $each(arrangeList.scenicArrangeList, function(arrange, index) {
                        $out += " ", $line = 701, null != arrange && ($out += ' <tr badStatus = "', $line = 702, 
                        $out += $escape(arrange.badStatus), $out += '" scenicArrangeId="', $line = 702, 
                        $out += $escape(arrange.id), $out += '" scenicId="', $line = 702, $out += $escape(arrange.scenicId), 
                        $out += '" scenicItemId="', $line = 702, $out += $escape(arrange.hotelRoomId), $out += '"> ', 
                        $line = 703, 0 == index && ($out += '<td rowspan="', $line = 703, $out += $escape(arrangeList.scenicArrangeList.length), 
                        $out += '">第', $line = 703, $out += $escape(arrange.whichDay), $out += "天</td>", 
                        $line = 703), $out += " ", $line = 704, 0 == index && ($out += '<td rowspan="', 
                        $line = 704, $out += $escape(arrangeList.scenicArrangeList.length), $out += '">', 
                        $line = 704, null != arrange.scenic && ($line = 704, $out += $escape(arrange.scenic.name), 
                        $line = 704), $out += "</td>", $line = 704), $out += " <td>", $line = 705, null != arrange.scenicItem && ($line = 705, 
                        $out += $escape(arrange.scenicItem.name), $line = 705), $out += "</td> <td>", $line = 706, 
                        1 == arrange.badStatus ? ($out += "<span>", $line = 706, $out += $escape(arrange.price), 
                        $out += "</span>", $line = 706) : ($out += "<span>", $line = 706, $out += $escape(arrange.price), 
                        $out += "</span>", $line = 706), $out += ' <input type="hidden" name="price" value="', 
                        $line = 707, $out += $escape(arrange.price), $out += '" /></td> <td>', $line = 708, 
                        1 == arrange.badStatus ? ($out += "<span>", $line = 708, $out += $escape(arrange.memberCount), 
                        $out += "</span>", $line = 708) : ($out += '<input style="width:90px;" type="text" name="realCount" ', 
                        $line = 708, null != arrange.billUpdateTime ? ($out += 'value="', $line = 708, $out += $escape(arrange.realCount), 
                        $out += '" ', $line = 708) : ($out += 'value="', $line = 708, $out += $escape(arrange.memberCount), 
                        $out += '"', $line = 708), $out += ' old="', $line = 708, $out += $escape(arrange.realCount), 
                        $out += '" maxlength="5" ', $line = 709, 1 == arrange.isConfirmAccount && ($out += 'readOnly="readOnly"', 
                        $line = 709), $out += "/>", $line = 709), $out += " </td> <td>", $line = 711, 1 == arrange.badStatus ? ($out += "<span>", 
                        $line = 711, $out += $escape(arrange.realReduceMoney), $out += "</span>", $line = 711) : ($out += '<input type="text" name="realReduceMoney" value="', 
                        $line = 711, $out += $escape(arrange.realReduceMoney), $out += '" old="', $line = 711, 
                        $out += $escape(arrange.realReduceMoney), $out += '"/>', $line = 711), $out += " </td> <td>", 
                        $line = 713, 1 == arrange.badStatus ? ($out += '<span class="scenicneedPayMoney">', 
                        $line = 713, $out += $escape(arrange.payedMoney + arrange.realGuidePayMoney), $out += "</span>", 
                        $line = 713) : ($out += '<span class="scenicneedPayMoney"></span>', $line = 713), 
                        $out += ' <input type="hidden" name="needPayMoney" value="', $line = 714, $out += $escape(arrange.needPayMoney), 
                        $out += '"></td> <td>', $line = 715, $out += $escape(arrange.payedMoney), $out += "</td> <td>", 
                        $line = 716, 1 == arrange.badStatus ? ($out += "<span>", $line = 716, $out += $escape(arrange.realGuidePayMoney), 
                        $out += "</span>", $line = 716) : ($out += '<input style="width:90px;" type="text" name="realGuidePayMoney" ', 
                        $line = 716, null != arrange.billUpdateTime ? ($out += ' value="', $line = 716, 
                        $out += $escape(arrange.realGuidePayMoney), $out += '"', $line = 716) : ($out += 'value="', 
                        $line = 716, $out += $escape(arrange.guidePayMoney), $out += '"', $line = 716), 
                        $out += ' old="', $line = 716, $out += $escape(arrange.realGuidePayMoney), $out += '" maxlength="11" ', 
                        $line = 716, 1 == arrange.isConfirmAccount && ($out += 'readOnly="readOnly"', $line = 716), 
                        $out += "/>", $line = 716), $out += ' <input type="hidden" name="payedMoney" value="', 
                        $line = 717, $out += $escape(arrange.payedMoney), $out += '" /> <input type="hidden" name="guidePayMoney" value="', 
                        $line = 718, $out += $escape(arrange.guidePayMoney), $out += '" /></td> <td>', $line = 719, 
                        null != arrange.billImage && "" != arrange.billImage ? ($out += ' <a href="javascript:void(0);" url="', 
                        $line = 720, $out += $escape(arrange.billImage), $out += '" class="btn-view">查看</a> ', 
                        $line = 721) : ($out += ' <span style="color:#bbb;">查看</span> ', $line = 723), $out += ' </td> <td><span class="difference"></span></td> <td><input value="', 
                        $line = 726, $out += $escape(arrange.billRemark), $out += '" type="text" name="billRemark" maxlength="1000" /></td> ', 
                        $line = 727, 2 == tripPlan.billStatus && ($out += "<td>", $line = 727, 0 == arrange.isConfirmAccount ? ($out += "未对账", 
                        $line = 727) : ($out += "已对账", $line = 727), $out += "</td>", $line = 727), $out += " </tr> ", 
                        $line = 729), $out += " ", $line = 730;
                    }), $out += " ", $line = 731;
                }), $out += " ", $line = 732), $out += " ", $line = 733;
            }), $out += ' </tbody> </table> </div>  <div id="financial-count-reimbursement-ticketpay" class="tab-pane fade T-ticket"> <div class="ui-sortable-handle widget-container-col"> <h5 class="title-size"> <i class="ace-icon fa fa-medkit"></i>票务 <a href="javascript:void(0)" class="T-ticket-add"> <button class="btn btn-sm btn-success T-add" style="margin-left: 20px"> <i class="ace-icon fa fa-plus"></i> 新增 </button> </a> </h5> </div> <table class="table table-striped table-bordered table-hover"> <thead> <tr> <th class="th-border"><span class="necessary">*</span>票务商家</th> <th class="th-border"><span class="necessary">*</span>类型</th> <th class="th-border"><span class="necessary">*</span>日期</th> <th class="th-border">出发地</th> <th class="th-border">目的地</th> <th class="th-border">班次</th> <th class="th-border"><span class="necessary">*</span>座位级别</th> <th class="th-border"><span class="necessary">*</span>单价</th> <th class="th-border"><span class="necessary">*</span>数量</th> <th class="th-border">优惠</th> <th class="th-border">应付</th> <th class="th-border">已付</th> <th class="th-border">导付</th> <th class="th-border">单据</th> <th class="th-border">差额</th> <th class="th-border">导游报账备注</th> ', 
            $line = 770, 2 == tripPlan.billStatus && ($out += '<th class="th-border" rowspan="2">是否对账</th>', 
            $line = 770), $out += ' </tr> </thead> <tbody class="T-count-ticket"> ', $line = 774, 
            $each(ticketArrangeList, function(ticketArrange) {
                $out += " ", $line = 775, $each(ticketArrange.ticketArrangeList, function(arrange, index) {
                    $out += ' <tr badStatus = "', $line = 776, $out += $escape(arrange.badStatus), $out += '" ticketArrangeId="', 
                    $line = 776, $out += $escape(arrange.id), $out += '" ticketId="', $line = 776, $out += $escape(arrange.ticket.id), 
                    $out += '" itemId="', $line = 776, $out += $escape(arrange.id), $out += '"> ', $line = 777, 
                    0 == index && ($out += '<td rowspan="', $line = 777, $out += $escape(ticketArrange.ticketArrangeList.length), 
                    $out += '">', $line = 777, null != arrange.ticket && ($line = 777, $out += $escape(arrange.ticket.name), 
                    $line = 777), $out += "</td>", $line = 777), $out += " ", $line = 778, 0 == index && ($out += '<td rowspan="', 
                    $line = 778, $out += $escape(ticketArrange.ticketArrangeList.length), $out += '">', 
                    $line = 778, 1 == arrange.type ? ($out += "机票", $line = 778) : 2 == arrange.type ? ($out += "汽车票", 
                    $line = 778) : 3 == arrange.type ? ($out += "火车票", $line = 778) : 4 == arrange.type && ($out += "轮船票", 
                    $line = 778), $out += "</td>", $line = 778), $out += " ", $line = 779, 0 == index && ($out += '<td rowspan="', 
                    $line = 779, $out += $escape(ticketArrange.ticketArrangeList.length), $out += '">', 
                    $line = 779, $out += $escape(arrange.startTime), $out += "</td>", $line = 779), 
                    $out += " ", $line = 780, 0 == index && ($out += '<td rowspan="', $line = 780, $out += $escape(ticketArrange.ticketArrangeList.length), 
                    $out += '">', $line = 780, $out += $escape(arrange.startingCity), $out += "</td>", 
                    $line = 780), $out += " ", $line = 781, 0 == index && ($out += '<td rowspan="', 
                    $line = 781, $out += $escape(ticketArrange.ticketArrangeList.length), $out += '">', 
                    $line = 781, $out += $escape(arrange.arriveCity), $out += "</td>", $line = 781), 
                    $out += " <td>", $line = 782, $out += $escape(arrange.shift), $out += "</td> <td>", 
                    $line = 783, $out += $escape(arrange.seatLevel), $out += "</td> <td>", $line = 784, 
                    1 == arrange.badStatus ? ($out += "<span>", $line = 784, $out += $escape(arrange.price), 
                    $out += "</span>", $line = 784) : ($out += "<span>", $line = 784, $out += $escape(arrange.price), 
                    $out += "</span>", $line = 784), $out += ' <input type="hidden" name="price" value="', 
                    $line = 785, $out += $escape(arrange.price), $out += '" /></td> <td>', $line = 786, 
                    1 == arrange.badStatus ? ($out += "<span>", $line = 786, $out += $escape(arrange.memberCount), 
                    $out += "</span>", $line = 786) : ($out += '<input style="width:90px;" name="realCount" type="text" ', 
                    $line = 786, null != arrange.billUpdateTime ? ($out += 'value="', $line = 786, $out += $escape(arrange.realCount), 
                    $out += '" ', $line = 786) : ($out += 'value="', $line = 786, $out += $escape(arrange.memberCount), 
                    $out += '"', $line = 786), $out += ' old="', $line = 786, $out += $escape(arrange.realCount), 
                    $out += '" maxlength="5" ', $line = 787, 1 == arrange.isConfirmAccount && ($out += 'readOnly="readOnly"', 
                    $line = 787), $out += "/>", $line = 787), $out += ' <input type="hidden" name="price" value="', 
                    $line = 788, $out += $escape(arrange.price), $out += '" /></td> </td> <td>', $line = 790, 
                    1 == arrange.badStatus ? ($out += "<span>", $line = 790, $out += $escape(arrange.realReduceMoney), 
                    $out += "</span>", $line = 790) : ($out += '<input type="text" name="realReduceMoney" value="', 
                    $line = 790, $out += $escape(arrange.realReduceMoney), $out += '" old="', $line = 790, 
                    $out += $escape(arrange.realReduceMoney), $out += '"/>', $line = 790), $out += " </td> <td>", 
                    $line = 792, 1 == arrange.badStatus ? ($out += '<span class="ticketneedPayMoney">', 
                    $line = 792, $out += $escape(arrange.payedMoney + arrange.realGuidePayMoney), $out += "</span>", 
                    $line = 792) : ($out += '<span class="ticketneedPayMoney"></span>', $line = 792), 
                    $out += ' <input type="hidden" value="', $line = 793, $out += $escape(arrange.needPayMoney), 
                    $out += '" name="needPayMoney"></td> <td>', $line = 794, $out += $escape(arrange.payedMoney), 
                    $out += "</td> <td>", $line = 795, 1 == arrange.badStatus ? ($out += "<span>", $line = 795, 
                    $out += $escape(arrange.realGuidePayMoney), $out += "</span>", $line = 795) : ($out += '<input style="width:90px;" type="text" name="realGuidePayMoney" ', 
                    $line = 795, null != arrange.billUpdateTime ? ($out += 'value="', $line = 795, $out += $escape(arrange.realGuidePayMoney), 
                    $out += '" ', $line = 795) : ($out += 'value="', $line = 795, $out += $escape(arrange.guidePayMoney), 
                    $out += '"', $line = 795), $out += ' old="', $line = 795, $out += $escape(arrange.realGuidePayMoney), 
                    $out += '" maxlength="11" ', $line = 795, 1 == arrange.isConfirmAccount && ($out += 'readOnly="readOnly"', 
                    $line = 795), $out += "/>", $line = 795), $out += ' <input type="hidden" name="payedMoney" value="', 
                    $line = 796, $out += $escape(arrange.payedMoney), $out += '" /> <input type="hidden" name="guidePayMoney" value="', 
                    $line = 797, $out += $escape(arrange.guidePayMoney), $out += '" /></td> <td>', $line = 798, 
                    null != arrange.billImage && "" != arrange.billImage ? ($out += ' <a href="javascript:void(0);" url="', 
                    $line = 799, $out += $escape(arrange.billImage), $out += '" class="btn-view">查看</a> ', 
                    $line = 800) : ($out += ' <span style="color:#bbb;">查看</span> ', $line = 802), $out += ' </td> <td><span class="difference"></span></td> <td><input value="', 
                    $line = 805, $out += $escape(arrange.billRemark), $out += '" type="text" name="billRemark" maxlength="1000" /></td> ', 
                    $line = 806, 2 == tripPlan.billStatus && ($out += "<td>", $line = 806, 0 == arrange.isConfirmAccount ? ($out += "未对账", 
                    $line = 806) : ($out += "已对账", $line = 806), $out += "</td>", $line = 806), $out += " </tr> ", 
                    $line = 808;
                }), $out += " ", $line = 809;
            }), $out += ' </tbody> </table> </div>  <div id="financial-count-reimbursement-otherpay" class="tab-pane fade T-otherOut"> <div class="ui-sortable-handle widget-container-col"> <h5 class="title-size"> <i class="ace-icon fa fa-medkit"></i>其他支出 <a href="javascript:void(0)" class="T-otherOut-add"> <button class="btn btn-sm btn-success T-add" style="margin-left: 20px"> <i class="ace-icon fa fa-plus"></i> 新增 </button> </a> </h5> </div> <table class="table table-striped table-bordered table-hover"> <thead> <tr> <th class="th-border"><span class="necessary">*</span>时间</th> <th class="th-border"><span class="necessary">*</span>项目</th> <th class="th-border"><span class="necessary">*</span>单价</th> <th class="th-border"><span class="necessary">*</span>数量</th> <th class="th-border">优惠</th> <th class="th-border">应付</th> <th class="th-border">已付</th> <th class="th-border">导付</th> <th class="th-border">单据</th> <th class="th-border">差额</th> <th class="th-border">导游报账备注</th> ', 
            $line = 841, 2 == tripPlan.billStatus && ($out += '<th class="th-border" rowspan="2">是否对账</th>', 
            $line = 841), $out += ' </tr> </thead> <tbody class="T-count-otherOut"> ', $line = 845, 
            $each(dayList, function(day) {
                $out += " ", $line = 846, null != day.otherArrange && ($out += " ", $line = 847, 
                $each(day.otherArrange, function(arrange) {
                    $out += " ", $line = 848, null != arrange && ($out += ' <tr badStatus = "', $line = 849, 
                    $out += $escape(arrange.badStatus), $out += '" otherArrangeId="', $line = 849, $out += $escape(arrange.id), 
                    $out += '"> <td>第', $line = 850, $out += $escape(arrange.whichDay), $out += "天</td> <td>", 
                    $line = 851, $out += $escape(arrange.name), $out += "</td> <td>", $line = 852, 1 == arrange.badStatus ? ($out += "<span>", 
                    $line = 852, $out += $escape(arrange.price), $out += "</span>", $line = 852) : ($out += '<span class="price">', 
                    $line = 852, $out += $escape(arrange.price), $out += "</span>", $line = 852), $out += ' <input type="hidden" name="price" value="', 
                    $line = 853, $out += $escape(arrange.price), $out += '" ', $line = 853, 1 == arrange.isConfirmAccount && ($out += 'readOnly="readOnly"', 
                    $line = 853), $out += "/></td> <td>", $line = 854, 1 == arrange.badStatus ? ($out += "<span>", 
                    $line = 854, $out += $escape(arrange.memberCount), $out += "</span>", $line = 854) : ($out += '<input style="width:90px;" type="text" name="realCount" ', 
                    $line = 854, arrange.billUpdateTime ? ($out += 'value="', $line = 854, $out += $escape(arrange.realCount), 
                    $out += '"', $line = 854) : ($out += 'value="', $line = 854, $out += $escape(arrange.memberCount), 
                    $out += '" ', $line = 854), $out += ' old="', $line = 854, $out += $escape(arrange.realCount), 
                    $out += '" old="', $line = 854, $out += $escape(arrange.realCount), $out += '" maxlength="5" ', 
                    $line = 855, 1 == arrange.isConfirmAccount && ($out += 'readOnly="readOnly"', $line = 855), 
                    $out += "/>", $line = 855), $out += " </td> <td>", $line = 857, 1 == arrange.badStatus ? ($out += "<span>", 
                    $line = 857, $out += $escape(arrange.realReduceMoney), $out += "</span>", $line = 857) : ($out += '<input type="text" name="realReduceMoney" value="', 
                    $line = 857, $out += $escape(arrange.realReduceMoney), $out += '"/>', $line = 857), 
                    $out += " </td> <td>", $line = 859, 1 == arrange.badStatus ? ($out += '<span class="otherOutNeedPayMoney">', 
                    $line = 859, $out += $escape(arrange.payedMoney + arrange.realGuidePayMoney), $out += "</span>", 
                    $line = 859) : ($out += '<span class="otherOutNeedPayMoney"></span>', $line = 859), 
                    $out += ' <input type="hidden" name="needPayMoney" value="', $line = 860, $out += $escape(arrange.needPayMoney), 
                    $out += '"></td> <td>', $line = 861, $out += $escape(arrange.payedMoney), $out += "</td> <td>", 
                    $line = 862, 1 == arrange.badStatus ? ($out += "<span>", $line = 862, $out += $escape(arrange.realGuidePayMoney), 
                    $out += "</span>", $line = 862) : ($out += '<input style="width:90px;" type="text" name="realGuidePayMoney" ', 
                    $line = 862, null != arrange.billUpdateTime ? ($out += 'value="', $line = 862, $out += $escape(arrange.realGuidePayMoney), 
                    $out += '" ', $line = 862) : ($out += 'value="', $line = 862, $out += $escape(arrange.guidePayMoney), 
                    $out += '"', $line = 862), $out += ' old="', $line = 862, $out += $escape(arrange.realGuidePayMoney), 
                    $out += '" maxlength="11" ', $line = 862, 1 == arrange.isConfirmAccount && ($out += 'readOnly="readOnly"', 
                    $line = 862), $out += "/>", $line = 862), $out += ' <input type="hidden" name="payedMoney" value="', 
                    $line = 863, $out += $escape(arrange.payedMoney), $out += '" /> <input type="hidden" name="guidePayMoney" value="', 
                    $line = 864, $out += $escape(arrange.guidePayMoney), $out += '" /></td> <td>', $line = 865, 
                    null != arrange.billImage && "" != arrange.billImage ? ($out += ' <a href="javascript:void(0);" url="', 
                    $line = 866, $out += $escape(arrange.billImage), $out += '" class="btn-view">查看</a> ', 
                    $line = 867) : ($out += ' <span style="color:#bbb;">查看</span> ', $line = 869), $out += ' </td> <td><span class="difference"></span></td> <td><input value="', 
                    $line = 872, $out += $escape(arrange.billRemark), $out += '" type="text" name="billRemark" maxlength="1000" /></td> ', 
                    $line = 873, 2 == tripPlan.billStatus && ($out += "<td>", $line = 873, 0 == arrange.isConfirmAccount ? ($out += "未对账", 
                    $line = 873) : ($out += "已对账", $line = 873), $out += "</td>", $line = 873), $out += " </tr> ", 
                    $line = 875), $out += " ", $line = 876;
                }), $out += " ", $line = 877), $out += " ", $line = 878;
            }), $out += " </tbody> </table> </div> ", $line = 883, null != touristGroup && ($out += '  <div id="financial-count-reimbursement-outarrangepay" class="tab-pane fade T-transit"> <table class="table table-striped table-bordered table-hover"> <thead> <tr> <th class="th-border">序号</th> <th class="th-border">来源</th> <th class="th-border">小组联系人</th> <th class="th-border">联系电话</th> <th class="th-border">人数</th> <th class="th-border">接团</th> <th class="th-border">小车</th> <th class="th-border">送团</th> <th class="th-border">明细</th> </tr> </thead> <tbody> ', 
            $line = 901, $each(touristGroup.touristGroupList, function(touristGroup, index) {
                $out += " <tr> <td>", $line = 903, $out += $escape(index + 1), $out += "</td> <td>", 
                $line = 904, $out += $escape(touristGroup.partnerAgencyName), $out += "</td> <td>", 
                $line = 905, $out += $escape(touristGroup.name), $out += "</td> <td>", $line = 906, 
                $out += $escape(touristGroup.mobileNumber), $out += "</td> <td>", $line = 907, $out += $escape(touristGroup.adultCount), 
                $out += "大", $line = 907, $out += $escape(touristGroup.childCount), $out += "小</td> <td>", 
                $line = 908, $out += $escape(touristGroup.arriveService), $out += "</td> <td>", 
                $line = 909, $out += $escape(touristGroup.busService), $out += "</td> <td>", $line = 910, 
                $out += $escape(touristGroup.leaveService), $out += '</td> <td><a href="javascript:void(0);" data-entity-id="', 
                $line = 911, $out += $escape(touristGroup.id), $out += '" class="T-viewTripTransit">查看</a></td> </tr> ', 
                $line = 913;
            }), $out += " </tbody> </table> ", $line = 917, tripPlan.billStatus > -1 && ($out += ' <div style="width:60%;"> <div> <label style="margin:5px 0px 0px 0px;">财务审核批注：</label> <input readonly="readonly" type="text" style="width:30%;" value="', 
            $line = 921, null != remarkArrangeList[10] && ($line = 921, $out += $escape(remarkArrangeList[10].opCheckRemark), 
            $line = 921), $out += '" /> <label style="margin:5px 0px 0px 10px;">计调审核批注：</label> <input readonly="readonly" type="text" style="width:30%;" value="', 
            $line = 923, null != remarkArrangeList[10] && ($line = 923, $out += $escape(remarkArrangeList[10].financeCheckRemark), 
            $line = 923), $out += '" /> </div> </div>', $line = 925), $out += " </div> ", $line = 927), 
            $out += ' </div> </div> <div style="height:30px;"></div> </div>', new String($out);
        } catch (e) {
            throw {
                filename: $filename,
                name: "Render Error",
                message: e.message,
                line: $line,
                source: '<div class="col-sm-12 countReimbursement">\r\n    <table class="table table-striped table-bordered table-hover all main-table T-main-table" style="margin-top: 30px;">\r\n        <tbody>\r\n            <tr style="">\r\n                <td><label  style="font-weight: bold;">线路：{{tripPlan.lineProduct.name}}</label></td>\r\n                <td><label  style="font-weight: bold;">类别：{{tripPlan.lineProduct.type}}</label></td>\r\n                <td><label  style="font-weight: bold;">应用范围：{{if tripPlan.lineProduct.customerType == 1}}团体{{else if tripPlan.lineProduct.customerType == 0}}散客{{/if}}</label></td>\r\n                <td><label  style="font-weight: bold;">天数：<span class="T-ProductDays" style="font-weight: bold;">{{tripPlan.lineProduct.days}}</span></label></td>\r\n            </tr>\r\n            <tr>\r\n                <td><label style="font-weight: bold;">团号：{{tripPlan.tripNumber}}</label></td>\r\n                <td><label  style="font-weight: bold;">出团日期:<span style="font-weight: bold;" class = "startTime_Choose" name="startTime_Choose">{{tripPlan.startTime | dateFormat:\'yyyy-MM-dd\'}}</span></label></td>\r\n                <td><label style="font-weight: bold;">完团日期：{{tripPlan.endTime | dateFormat:\'yyyy-MM-dd\'}}</label></td>\r\n                <td><label  style="font-weight: bold;">团队人数：{{tripPlan.touristAdultCount}}大{{tripPlan.touristChildCount}}小</label></td>\r\n            </tr>\r\n            <tr>\r\n                <td> <label  style="font-weight: bold;">导游：{{if tripPlan.guide != null}}{{tripPlan.guide.realname}}{{/if}}</label></td>\r\n                <td><label  style="font-weight: bold;">全陪：{{tripPlan.accompanyGuideName}}</label></td>\r\n                <td></td>\r\n                <td></td>\r\n            </tr>\r\n        </tbody>\r\n    </table>\r\n    <input type="hidden" name="totalPersonCount" value="{{tripPlan.touristAdultCount+tripPlan.touristChildCount}}"/>\r\n    <input type="hidden" name=\'busNumber\' class="busNumber" value="{{busCompanyArrange.length}}">\r\n    <table class="table table-striped table-bordered table-hover all main-table T-main-table" style="margin-top: 30px;">\r\n        <tbody>\r\n        <tr >\r\n            <td colspan="8">\r\n            <div style="float: left;margin-left:10px;">\r\n                <input type="hidden" class="financial-tripPlanId" value="{{tripPlan.id}}" />\r\n                <input type="hidden" class="tripPlanAdultCount" value="{{tripPlan.touristAdultCount}}" />\r\n                <input type="hidden" class="tripPlanChildCount" value="{{tripPlan.touristChildCount}}" />\r\n                <input type="hidden" class="tripPlanStartTime" value="{{tripPlan.startTime | dateFormat:\'yyyy-MM-dd\'}}" />\r\n                <label style="margin-left:50px;font-weight: bold;">毛利：<span class="grossProfitMoney">0</span></label>\r\n                <label style="margin-left:50px;font-weight: bold;">人均毛利：<span class="perGrossProfitMoney">0</span></label>\r\n                <label style="margin-left:50px;font-weight: bold;">导游预支金额：<span class="guideAllPreMoney">{{tripPlan.guideAllPreMoney}}</span></label>\r\n            </div></td> \r\n        </tr>\r\n        <tr >\r\n            <td colspan="2"><label style="font-weight: bold;">收入：<span class="tripIncome">0</span></label></td>\r\n            <td colspan="4"><label style="font-weight: bold;">团成本：<span class="tripCost">0</span></label></td>\r\n            <td colspan="2"><label style="font-weight: bold;">中转成本：<span class="tripTransitCost">0</span></label></td>\r\n\r\n        </tr>\r\n\r\n        <tr>\r\n            <td><label>应收团款：<span class="tripIncome-getAllMoney">{{touristGroup.needPayAllMoney}}</span></label></td>\r\n            <td><label>自费返佣：<span class="tripIncome-selfPayTravelAgencyRebateMoney">0</span></label></td>\r\n            <td><label>导服费：<span class="tripCost-guideArrangePrice">{{guideArrange.price}}</span></label></td>\r\n            <td><label>保险：<span class="tripCost-insuranceArrangeNeedPayMoney">{{insurancePrice}}</span></label></td>\r\n            <td><label>车费：<span class="tripCost-busCompanyNeedPayMoney">0</span></label></td>\r\n            <td><label>导游购物返佣：<span class="tripCost-guideshopFee">{{guideArrange.manageFee}}</span></label></td>\r\n            <td><label>车费：<span class="tripTransitCost-busCompanyNeedPayMoney">{{touristGroup.outBusMoney}}</span></label></td>\r\n            <td><label>餐食费用：<span class="tripTransitCost-outRestaurantMoney">{{touristGroup.outRestaurantMoney}}</span></label></td>\r\n        </tr>\r\n        <tr> \r\n            <td><label>购物返佣：<span class="tripIncome-shopTravelAgencyRateMoney">0</span></label></td>\r\n            <td><label>其他收入：<span class="tripIncome-otherInCome">0</span></label></td>\r\n            <td><label>餐费：<span class="tripCost-restaurantArrangeNeedPayMoney">0</span></label></td>\r\n            <td><label>房费：<span class="tripCost-hotelArrangeNeedPayMoney">0</span></label></td>\r\n            <td><label>景区费用：<span class="tripCost-scenicArrangeNeedPayMoney">0</span></label></td>\r\n            <td><label>导游自费返佣：<span class="tripCost-guideSelfMoney">{{touristGroup.outBusMoney}}</span></label></td>\r\n            <td><label>房费：<span class="tripTransitCost-hotelArrangeNeedPayMoney">{{touristGroup.outHotelMoney}}</span></label></td>\r\n            <td><label>其他费用：<span class="tripTransitCost-outOtherMoney">{{touristGroup.outOtherMoney}}</span></label></td>\r\n        </tr>\r\n        <tr>\r\n            <td><label>导游管理费：<span class="tripIncome-guideManageMoney">{{guideArrange.manageFee}}</span></label></td>\r\n            <td></td>\r\n            <td><label>票务费用：<span class="tripCost-ticketArrangeNeedPayMoney">0</span></label></td>\r\n            <td><label>其他费用：<span class="tripCost-otherArrangeNeedPayMoney">0</span></label></td>\r\n            <td><label>自费费用：<span class="tripCost-selfArrangeNeedPayMoney">0</span></label></td>\r\n            <td><label style="display: none;">地接费用：<span class="tripCost-groundArrangeNeedPayMoney"></span></label></td>\r\n            <td><label>票务费用{{isOp}}：<span class="tripTransitCost-ticketArrangeNeedPayMoney">{{touristGroup.outTicketMoney}}</span></label></td>\r\n            <td></td>\r\n        </tr>\r\n        </tbody>\r\n    </table>\r\n    <input type="hidden" value="{{WEB_IMG_URL_BIG}}" name="WEB_IMG_URL_BIG" /> \r\n    <input type="hidden" value="{{WEB_IMG_URL_SMALL}}" name="WEB_IMG_URL_SMALL" />\r\n\r\n    <div class="row" style="margin-bottom:15px;">\r\n                <div style="float:left;">  \r\n                <button data-entity-id="{{tripPlan.id}}"  data-entity-financial-id="{{financialTripPlanId}}" class="btn btn-xs btn-primary btn-transfter T-saveCount" style="margin-left: 20px;">\r\n                    <i class="ace-icon fa fa-save"></i>保存信息\r\n                </button>\r\n                <button data-entity-id="{{tripPlan.id}}" data-entity-financial-id="{{financialTripPlanId}}" class="btn btn-xs btn-success btn-transfter T-fanishAccount" style="margin-left: 20px;">\r\n                    <i class="ace-icon fa fa-check-circle"></i>报账完成\r\n                </button>\r\n            </div>\r\n        <!-- <div style="margin-top:5px;float:left;width:90px;text-align:center;">\r\n            <a href="javascript:void(0);" class="btn-financialLog">操作记录</a>\r\n        </div>-->\r\n        <div style="margin-top:5px;float:left;width:90px;text-align:center;">\r\n            <a href="javascript:void(0);" class="T-tripPlanArrange" style="margin-left: 20px;">安排预算表</a>\r\n        </div> \r\n    </div>\r\n\r\n    <div class="tabbable">\r\n        <ul class="nav nav-tabs">\r\n            <li class="active col-sm-1 no-padding align-center">\r\n                <a data-toggle="tab" href="#financial-count-reimbursement-money" aria-expanded="true">团款</a>\r\n            </li>\r\n            <li class="col-sm-1 no-padding align-center">\r\n                <a data-toggle="tab" href="#financial-count-reimbursement-shop" aria-expanded="true">购物</a>\r\n            </li>\r\n            <li class="col-sm-1 no-padding align-center">\r\n                <a data-toggle="tab" href="#financial-count-reimbursement-selfpay" aria-expanded="true">自费</a>\r\n            </li>\r\n            <li class="col-sm-1 no-padding align-center">\r\n                <a data-toggle="tab" href="#financial-count-reimbursement-other-incoming" aria-expanded="true">其他收入</a>\r\n            </li>\r\n            <li class="col-sm-1 no-padding align-center">\r\n                <a data-toggle="tab" href="#financial-count-reimbursement-other-insurance" aria-expanded="true">保险</a>\r\n            </li>\r\n            <li class="col-sm-1 no-padding align-center">\r\n                <a data-toggle="tab" href="#financial-count-reimbursement-buspay" aria-expanded="true">车费</a>\r\n            </li>\r\n            <li class="col-sm-1 no-padding align-center">\r\n                <a data-toggle="tab" href="#financial-count-reimbursement-restaurantpay" aria-expanded="true">餐费</a>\r\n            </li>\r\n            <li class="col-sm-1 no-padding align-center">\r\n                <a data-toggle="tab" href="#financial-count-reimbursement-hotelpay" aria-expanded="true">房费</a>\r\n            </li>\r\n            <li class="col-sm-1 no-padding align-center">\r\n                <a data-toggle="tab" href="#financial-count-reimbursement-scenicpay" aria-expanded="true">景区</a>\r\n            </li>\r\n            <li class="col-sm-1 no-padding align-center">\r\n                <a data-toggle="tab" href="#financial-count-reimbursement-ticketpay" aria-expanded="true">票务</a>\r\n            </li>\r\n            <li class="col-sm-1 no-padding align-center">\r\n                <a data-toggle="tab" href="#financial-count-reimbursement-otherpay" aria-expanded="true">其他支出</a>\r\n            </li>\r\n            {{if touristGroup != null}}\r\n            <li class="col-sm-1 no-padding align-center">\r\n                <a data-toggle="tab" href="#financial-count-reimbursement-outarrangepay" aria-expanded="true">中转</a>\r\n            </li>\r\n            {{/if}}\r\n        </ul>\r\n        <div class="tab-content financial-count-reimbursement-reimbursement-tab T-list" style="position: relative;top:-2px"> \r\n            <!-- 团款 -->\r\n            <div id="financial-count-reimbursement-money" class="tab-pane fade active in T-tripDetail">\r\n                <table class="table table-striped table-bordered table-hover">\r\n                    <tbody>\r\n                        <tr>\r\n                            <td class="th-border">应收</td>\r\n                            <td class="th-border">已收</td>\r\n                            <td class="th-border">现收</td>\r\n                            <td class="th-border">明细</td>\r\n                            <tr class="th-border">\r\n                                <td><span class="">{{touristGroup.needPayAllMoney}}</span></td>\r\n                                <td><span class="">{{touristGroup.payedMoney}}</span></td>\r\n                                <td><span class="">{{touristGroup.currentNeedPayMoney}}</span></td>\r\n                                <td><a href="javascript:void(0);" data-entity-id="{{tripPlan.id}}" class="T-viewGroupDetail">查看</a></td>\r\n                            </tr>\r\n                    </tbody>\r\n                </table>\r\n                {{if tripPlan.billStatus > -1}}\r\n                <div style="width:60%;">\r\n                    <div>\r\n                        <label style="margin:5px 0px 0px 0px;">财务审核批注：</label>\r\n                        <input readonly="readonly" type="text" style="width:30%;" value="{{if remarkArrangeList[0] != null}}{{remarkArrangeList[0].opCheckRemark}}{{/if}}" />\r\n                        <label style="margin:5px 0px 0px 10px;">计调审核批注：</label>\r\n                        <input readonly="readonly" type="text" style="width:30%;" value="{{if remarkArrangeList[0] != null}}{{remarkArrangeList[0].financeCheckRemark}}{{/if}}" />\r\n                    </div>\r\n                </div>{{/if}}\r\n            </div>\r\n            <!-- 购物 -->\r\n            <div id="financial-count-reimbursement-shop" class="tab-pane fade T-shop-add">\r\n                <div class="ui-sortable-handle widget-container-col">\r\n                    <h5 class="title-size">\r\n                        <i class="ace-icon fa fa-medkit"></i> 购物安排\r\n                        <a href="javascript:void(0)" class="T-addShopping">\r\n                            <button class="btn btn-sm btn-success T-add" style="margin-left: 20px">\r\n                                <i class="ace-icon fa fa-plus"></i>\r\n                                新增\r\n                            </button>\r\n                        </a>\r\n                    </h5>\r\n                </div>\r\n                <table class="table table-striped table-bordered table-hover">\r\n                    <thead>\r\n                    <tr>\r\n                        <th class="th-border" colspan="6">打单</th>\r\n                        <th class="th-border" colspan="2">社佣</th>\r\n                        <th class="th-border" colspan="2">导佣</th>\r\n                        <th class="th-border" colspan="2">人数返佣</th>\r\n                        <th class="th-border" colspan="2">停车返佣</th>\r\n                        <th class="th-border" rowspan="2">购物返佣总收入</th>\r\n                        <!--  <th class="th-border" rowspan="2">现收</th> -->\r\n                        <th class="th-border" rowspan="2">导游报账备注</th>\r\n                        {{if tripPlan.billStatus == 2 }}<th class="th-border" rowspan="2">是否对账</th>{{/if}}\r\n                    </tr>\r\n                    <tr>\r\n                      <th class="th-border"><span class="necessary">*</span>时间</th>\r\n                      <th class="th-border"><span class="necessary">*</span>购物店</th>\r\n                      <th class="th-border"><span class="necessary">*</span>商品</th>\r\n                      <th class="th-border"><span class="necessary">*</span>金额</th>\r\n                      <th class="th-border">单据</th>\r\n                      <th class="th-border">总金额</th>\r\n                      <th class="th-border"><span class="necessary">*</span>比例%</th>\r\n                      <th class="th-border">返佣</th>\r\n                      <th class="th-border"><span class="necessary">*</span>比例%</th>\r\n                      <th class="th-border">返佣</th>\r\n                      <th class="th-border">元/人</th>\r\n                      <th class="th-border">返佣</th>\r\n                      <th class="th-border">元/车</th>\r\n                      <th class="th-border">返佣</th>\r\n                    </tr></thead>\r\n                    <tbody class="T-count-shopping"> \r\n                    {{each dayList as day}}\r\n                    {{if day.shopArrange != null}}\r\n                    {{each day.shopArrange as shopArrangeList}}\r\n                    {{each shopArrangeList.shopArrangePolicy as arrange index}}\r\n                    {{if arrange != null}}\r\n                    <tr shopArrangeId="{{arrange.id}}" shopId="{{arrange.whichDay}}_{{arrange.shopId}}">\r\n                        {{if index==0}}<td rowspan="{{shopArrangeList.shopArrangePolicy.length}}">第{{arrange.whichDay}}天</td>{{/if}}\r\n                        {{if index==0}}<td rowspan="{{shopArrangeList.shopArrangePolicy.length}}">{{arrange.shop.name}}</td>{{/if}}\r\n                        <td>{{arrange.shopPolicy.name}}</td>\r\n                        <td><input policyId="{{if arrange.shopPolicy != null}}{{arrange.shopPolicy.id}}{{/if}}" name="consumeMoney" style="width:90px;" type="text" value="{{arrange.consumeMoney}}" old="{{arrange.consumeMoney}}" maxlength="11" \r\n                        {{if arrange.isConfirmAccount == 1}} readOnly="readOnly" {{/if}}/></td>\r\n                        <td>{{if arrange.billImage != null && arrange.billImage != ""}}\r\n                                <a href="javascript:void(0);" url="{{arrange.billImage}}" class="btn-view">查看</a>\r\n                            {{else}}\r\n                                <span style="color:#bbb;">查看</span>\r\n                            {{/if}}\r\n                        </td>\r\n                        {{if index == 0 }}<td rowspan="{{shopArrangeList.shopArrangePolicy.length}}"><span class="sumMoney{{arrange.whichDay}}_{{arrange.shopId}}"></span></td>{{/if}}\r\n                        <td><input name="travelAgencyRate" style="width:90px;" type="text" value="{{arrange.travelAgencyRate*100}}" old="{{arrange.travelAgencyRate}}" maxlength="5" {{if arrange.isConfirmAccount == 1}} readOnly="readOnly" {{/if}}/></td>\r\n                        <td><span class="travelAgencyRateMoney">{{arrange.travelAgencyRateMoney}}</span><input type="hidden" class="travelAgencyRateMoney{{arrange.whichDay}}_{{arrange.shopId}}" name="travelAgencyRateMoney" value="{{arrange.travelAgencyRateMoney}}" {{if arrange.isConfirmAccount == 1}}readOnly="readOnly"{{/if}}/></td>\r\n                        <td><input name="guideRate" style="width:90px;" type="text" value="{{arrange.guideRate*100}}" old="{{arrange.guideRate}}" maxlength="5" {{if arrange.isConfirmAccount == 1}}readOnly="readOnly"{{/if}}/></td>\r\n                        <td><span class="guideRateMoney">{{arrange.guideRkateMoney}}</span><input type="hidden" class="guideRateMoney{{arrange.whichDay}}_{{arrange.shopId}}" name="guideRateMoney" value="{{arrange.guideRateMoney}}" \r\n                        {{if arrange.isConfirmAccount == 1}}readOnly="readOnly"{{/if}}/></td>\r\n                        {{if index == 0 }}<td rowspan="{{shopArrangeList.shopArrangePolicy.length}}"><input type="text" name="customerRebateMoney{{arrange.whichDay}}_{{arrange.shopId}}" value="{{if arrange.customerRebateMoney < 1}}{{arrange.shop.customerRebateMoney}}{{else}}{{arrange.customerRebateMoney}}{{/if}}" style="width:90px;" old="{{if arrange.customerRebateMoney < 1}}{{arrange.shop.customerRebateMoney}}{{else}}{{arrange.customerRebateMoney}}{{/if}}" maxlength="11" {{if arrange.isConfirmAccount == 1}}readOnly="readOnly"{{/if}}/><input type="hidden" name="touristAdultCount{{arrange.whichDay}}_{{arrange.shopId}}" value="{{tripPlan.touristAdultCount}}" {{if arrange.isConfirmAccount == 1}}readOnly="readOnly"{{/if}}/></td>{{/if}}\r\n                        {{if index == 0 }}<td rowspan="{{shopArrangeList.shopArrangePolicy.length}}"><span class="sumCustomerRebateMoney{{arrange.whichDay}}_{{arrange.shopId}} sumCustomerRebateMoney">{{shopArrangeList.customerRebateMoney}}</span></td>{{/if}}\r\n                        {{if index == 0 }}<td rowspan="{{shopArrangeList.shopArrangePolicy.length}}"><input {{if arrange.isConfirmAccount == 1}}readonly="readOnly"{{/if}} type="text" name="parkingRebateMoney{{arrange.whichDay}}_{{arrange.shopId}}" value="{{if arrange.parkingRebateMoney < 1}}{{arrange.shop.parkingRebateMoney}}{{else}}{{arrange.parkingRebateMoney}}{{/if}}" style="width:90px;" old="{{if arrange.parkingRebateMoney < 1}}{{arrange.shop.parkingRebateMoney}}{{else}}{{arrange.parkingRebateMoney}}{{/if}}" maxlength="11" \r\n                        /><input type="hidden" name="busNumber{{arrange.whichDay}}_{{arrange.shopId}}" class="busNumber" value="{{busCompanyArrange.length}}" {{if arrange.isConfirmAccount == 1}}readOnly="readOnly"{{/if}} /></td>{{/if}}\r\n                        {{if index == 0 }}<td rowspan="{{shopArrangeList.shopArrangePolicy.length}}"><span class="sumParkingRebateMoney{{arrange.whichDay}}_{{arrange.shopId}} sumParkingRebateMoney">{{shopArrangeList.parkingRebateMoney}}</span></td>{{/if}}\r\n                        {{if index == 0 }}<td rowspan="{{shopArrangeList.shopArrangePolicy.length}}"><span class="T-shopIncome T-shopIncome{{arrange.whichDay}}_{{arrange.shopId}}"></span></td>{{/if}}\r\n                        <!-- {{if index == 0 }}<td rowspan="{{shopArrangeList.shopArrangePolicy.length}}"><input type="text" style="width:90px;"/></td>{{/if}} -->\r\n                        <td><input name="billRemark" value="{{arrange.billRemark}}" maxlength="1000" /></td>\r\n                        {{if tripPlan.billStatus == 2}}<td>{{if arrange.isConfirmAccount == 0}}未对账{{else}}已对账{{/if}}</td>{{/if}}\r\n                    </tr>\r\n                    {{/if}}\r\n                    {{/each}}  \r\n                    {{/each}}\r\n                    {{/if}}\r\n                    {{/each}}\r\n                    </tbody>\r\n                </table>\r\n            </div>\r\n\r\n            <!-- 自费 -->\r\n            <div id="financial-count-reimbursement-selfpay" class="tab-pane fade T-self-add">\r\n                <div class="ui-sortable-handle widget-container-col">\r\n                    <h5 class="title-size">\r\n                        <i class="ace-icon fa fa-medkit"></i> 自费安排\r\n                        <a href="javascript:void(0)" class="T-addSelf">\r\n                            <button class="btn btn-sm btn-success T-add" style="margin-left: 20px">\r\n                                <i class="ace-icon fa fa-plus"></i>\r\n                                新增\r\n                            </button>\r\n                        </a>\r\n                    </h5>\r\n                </div>\r\n                <table class="table table-striped table-bordered table-hover">\r\n                    <thead>\r\n                    <tr>\r\n                        <th class="th-border" colspan="14">消费</th>\r\n                        <th class="th-border" colspan="2">社佣</th>\r\n                        <th class="th-border" colspan="2">导佣</th>\r\n                        <!-- <th class="th-border" colspan="2">人数返佣</th> -->\r\n                        <th class="th-border" rowspan="2">导游报账备注</th>\r\n                        {{if tripPlan.billStatus == 2 }}<th class="th-border" rowspan="2">是否对账</th>{{/if}}\r\n                    </tr>\r\n                    <tr>\r\n                      <th class="th-border"><span class="necessary">*</span>时间</th>\r\n                      <th class="th-border"><span class="necessary">*</span>自费商家</th>\r\n                      <th class="th-border"><span class="necessary">*</span>项目</th>\r\n                      <th class="th-border"><span class="necessary">*</span>单价</th>\r\n                      <th class="th-border"><span class="necessary">*</span>底价</th>\r\n                      <th class="th-border">人数返佣</th>\r\n                      <th class="th-border"><span class="necessary">*</span>数量</th>\r\n                      <th class="th-border">优惠</th>\r\n                      <th class="th-border">应收</th>\r\n                      <th class="th-border">应付</th>\r\n                      <th class="th-border">已付</th>\r\n                      <th class="th-border">导付</th>\r\n                      <th class="th-border">现收</th>\r\n                      <th class="th-border">单据</th>\r\n                      <th class="th-border"><span class="necessary">*</span>比例%</th>\r\n                      <th class="th-border">返佣</th>\r\n                      <th class="th-border"><span class="necessary">*</span>比例%</th>\r\n                      <th class="th-border">返佣</th>\r\n                    </tr></thead>\r\n                    <tbody class="T-count-selfPay">\r\n                    {{each dayList as day}}\r\n                    {{if day.selfPayArrange != null}}\r\n                    {{each day.selfPayArrange as arrangeList}}\r\n                    {{each arrangeList.selfPayArrangeList as arrange index}}\r\n                    {{if arrange != null}}\r\n                    <tr badStatus = "{{arrange.badStatus}}" selfPayArrangeId="{{arrange.id}}" selfPayId="{{arrange.selfPayId}}">\r\n                            {{if index == 0 }}<td rowspan="{{arrangeList.selfPayArrangeList.length}}">第{{arrange.whichDay}}天</td>{{/if}}\r\n                            {{if index == 0 }}<td rowspan="{{arrangeList.selfPayArrangeList.length}}">{{arrange.selfPay.name}}</td>{{/if}}\r\n                            <td>{{if arrange.selfPayItem != null }}{{arrange.selfPayItem.name}}{{/if}}</td>\r\n                            <td>{{if arrange.badStatus == 1}}<span>{{arrange.marketPrice}}</span>{{else}}<span>{{arrange.marketPrice}}</span>{{/if}}\r\n                            <input type="hidden" name="marketPrice" value="{{arrange.marketPrice}}"/></td>\r\n                            <td>{{if arrange.badStatus == 1}}<span>{{arrange.price}}</span>{{else}}<span> {{arrange.price}}</span>{{/if}}\r\n                           <input type="hidden" name="price" value="{{arrange.price}}" /></td>\r\n                             <td>{{if arrange.badStatus == 1}}<span>{{arrange.customerRebateMoney}}</span>{{else}}<span>{{arrange.customerRebateMoney}}</span>{{/if}}</td>\r\n                            <td>{{if arrange.badStatus == 1}}<span>{{arrange.memberCount}}</span>{{else}}<input style="width:60px;" type="text" name="realCount" {{if arrange.billUpdateTime != null}}value="{{arrange.realCount}}"{{else}}value="{{arrange.memberCount}}"{{/if}} maxlength="5"/><input type="hidden" name="memberCount" value="{{arrange.memberCount}}" {{if arrange.isConfirmAccount == 1}}readOnly="readOnly"{{/if}} />{{/if}}\r\n                            </td>\r\n                            <td>{{if arrange.badStatus == 1}}<span>{{arrange.realReduceMoney}}</span>{{else}}<input type="text" name="realReduceMoney" value="{{arrange.realReduceMoney}}" style="width:60px;"/>{{/if}}\r\n                            <input type="hidden" name="realReduceMoney" value="{{arrange.realReduceMoney}}" style="width:60px;"/>\r\n                            </td>\r\n                            <td>{{if arrange.badStatus == 1}}<span class="needIncome"></span>{{else}}<span class="needIncome"></span>{{/if}}\r\n                            </td>\r\n                            <td>{{if arrange.badStatus == 1}}<span class="needPayMoney">{{arrange.payedMoney+arrange.realGuidePayMoney}}</span>{{else}}<span class="needPayMoney" >{{arrange.needPayMoney}}{{/if}}\r\n                            </span><input type="hidden" class="selfMoney"></td>\r\n                            <td>{{arrange.payedMoney}}</td>\r\n                            <td>{{if arrange.badStatus == 1}}<span>{{arrange.realGuidePayMoney}}</span>{{else}} <input style="width:60px;" type="text" name="realGuidePayMoney" {{if arrange.billUpdateTime!=null}}value="{{arrange.realGuidePayMoney}}"{{else}}value="{{arrange.guidePayMoney}}" {{/if}} old="{{arrange.realGuidePayMoney}}" maxlength="11" {{if arrange.isConfirmAccount == 1}}readOnly="readOnly"{{/if}} />{{/if}}\r\n                                \r\n                                <input type="hidden" name="payedMoney" value="{{arrange.payedMoney}}" {{if arrange.isConfirmAccount == 1}}readOnly="readOnly"{{/if}} />\r\n                                <input type="hidden" name="guidePayMoney" value="{{arrange.guidePayMoney}}" {{if arrange.isConfirmAccount == 1}}readOnly="readOnly"{{/if}} />\r\n                                </td>\r\n                            <td>{{if arrange.badStatus == 1}}<span>{{arrange.realGetMoney}}</span>{{else}} <input type="text" name="realGetMoney" value="{{arrange.realGetMoney}}" style="width:60px;"/>{{/if}}\r\n                            </td>\r\n                            <td>{{if arrange.billImage != null && arrange.billImage != ""}}\r\n                                    <a href="javascript:void(0);" url="{{arrange.billImage}}" class="btn-view">查看</a>\r\n                                {{else}}\r\n                                    <span style="color:#bbb;">查看</span>\r\n                                {{/if}}\r\n                            </td>\r\n                            <td>{{if arrange.badStatus == 1}}<span>{{arrange.travelAgencyRate*100 | parseInt}}</span>{{else}} <input style="width:90px;" type="text" name="travelAgencyRate" value="{{arrange.travelAgencyRate*100 | parseInt}}" old="{{arrange.travelAgencyRate}}" maxlength="5" {{if arrange.isConfirmAccount == 1}}readOnly="readOnly"{{/if}} />{{/if}}\r\n                                </td>\r\n                            <td>{{if arrange.badStatus == 1}}<span class="travelAgencyRebateMoney">{{arrange.travelAgencyRebateMoney}}</span>{{else}} <span class="travelAgencyRebateMoney">{{arrange.travelAgencyRebateMoney}}</span>{{/if}}\r\n                                \r\n                                <input type="hidden" name="travelAgencyRebateMoney" value="{{arrange.travelAgencyRebateMoney}}" {{if arrange.isConfirmAccount == 1}}readOnly="readOnly"{{/if}} /></td>\r\n                            <td>{{if arrange.badStatus == 1}}<span>{{arrange.guideRate*100 | parseInt}}</span>{{else}}  <input style="width:90px;" type="text" name="guideRate" value="{{arrange.guideRate*100 | parseInt}}" old="{{arrange.guideRate}}" maxlength="5"/>{{/if}}\r\n                               \r\n                            </td>\r\n                            <td>{{if arrange.badStatus == 1}}<span class="guideRebateMoney">{{arrange.guideRebateMoney}}</span>{{else}}<span class="guideRebateMoney">{{arrange.guideRebateMoney}}</span>{{/if}}\r\n                                <input type="hidden" name="guideRebateMoney" value="{{arrange.guideRebateMoney}}" {{if arrange.isConfirmAccount == 1}}readOnly="readOnly"{{/if}} /></td>\r\n                            <!-- <td>\r\n                                <span class="guideRate">{{arrange.customerRebateMoney}}</span>\r\n                                <input type="hidden" name="guideRate" value="{{arrange.customerRebateMoney}}" {{if arrange.isConfirmAccount == 1}}readOnly="readOnly"{{/if}} /></td>\r\n                            {{if index == 0 }}<td rowspan="{{arrangeList.selfPayArrangeList.length}}">{{arrange.customerRebateMoney * tripPlan.touristAdultCount}}</td>{{/if}} -->\r\n                            <td><input value="{{arrange.billRemark}}" name="billRemark" type="text" maxlength="1000"></td>\r\n                            {{if tripPlan.billStatus == 2}}<td>{{if arrange.isConfirmAccount == 0}}未对账{{else}}已对账{{/if}}</td>{{/if}}                              \r\n                    </tr>\r\n                    {{/if}}\r\n                    {{/each}}\r\n                    {{/each}}\r\n                    {{/if}}\r\n                    {{/each}}\r\n                    </tbody>\r\n                </table>\r\n            </div>\r\n\r\n            <!-- 其他收入 -->\r\n            <div id="financial-count-reimbursement-other-incoming" class="tab-pane fade T-income">\r\n                <div class="ui-sortable-handle widget-container-col">\r\n                    <h5 class="title-size">\r\n                        <i class="ace-icon fa fa-medkit"></i> 其他收入\r\n                        <a href="javascript:void(0)" class="T-OtherIn-add">\r\n                            <button class="btn btn-sm btn-success T-add" style="margin-left: 20px">\r\n                                <i class="ace-icon fa fa-plus"></i>\r\n                                新增\r\n                            </button>\r\n                        </a>\r\n                    </h5>\r\n                </div>\r\n                <table class="table table-striped table-bordered table-hover">\r\n                    <thead>\r\n                    <tr>\r\n                        <th class="th-border"><span class="necessary">*</span>时间</th>\r\n                        <th class="th-border"><span class="necessary">*</span>项目</th>\r\n                        <th class="th-border"><span class="necessary">*</span>单价</th>\r\n                        <th class="th-border"><span class="necessary">*</span>数量</th>\r\n                        <th class="th-border">金额</th>\r\n                        <th class="th-border">单据</th>\r\n                        <th class="th-border">导游报账备注</th>\r\n                        {{if tripPlan.billStatus == 2 }}<th class="th-border" rowspan="2">是否对账</th>{{/if}}\r\n                    </tr>\r\n                    </thead>\r\n                    <tbody class="T-count-otherIn">\r\n                    {{each arrangeIncomePaymentList as otherInCome}}\r\n                    {{if otherInCome != null}}\r\n                    <tr otherInId="{{otherInCome.id}}" otherIn="{{otherInCome.id}}">\r\n                        <td whichDay="{{otherInCome.whichDay}}">第{{otherInCome.whichDay}}天</td>\r\n                        <td><input style="width:90px;" type="text" name="title" reset="true" value="{{otherInCome.title}}" old="{{otherInCome.title}}" maxlength="100" {{if otherInCome.isConfirmAccount == 1}}readOnly="readOnly"{{/if}}/></td>\r\n                        <td><input style="width:90px;" type="text" name="price" value="{{otherInCome.price}}" old="{{otherInCome.price}}" maxlength="11"\r\n                        {{if otherInCome.isConfirmAccount == 1}}readOnly="readOnly"{{/if}}\r\n                        /></td>\r\n                        <td><input style="width:90px;" type="text" name="count" value="{{otherInCome.count}}" old="{{otherInCome.count}}" maxlength="11"\r\n                        {{if otherInCome.isConfirmAccount == 1}}readOnly="readOnly"{{/if}}/></td>\r\n                        <td><span class="needPayMoney"><input type="hidden" name="needPayMoney" value="{{otherInCome.needPayMoney}}" \r\n                        {{if otherInCome.isConfirmAccount == 1}}readOnly="readOnly"{{/if}}/></span></td>\r\n                        <td>{{if otherInCome.billImage != null && otherInCome.billImage != ""}}\r\n                                <a href="javascript:void(0);" url="{{otherInCome.billImage}}" class="btn-view">查看</a>\r\n                            {{else}}\r\n                                <span style="color:#bbb;">查看</span>\r\n                            {{/if}}\r\n                        </td>\r\n                        <td><input value="{{otherInCome.billRemark}}"  type="text" name="billRemark" maxlength="1000" /></td>\r\n                        {{if tripPlan.billStatus == 2}}<td>{{if otherInCome.isConfirmAccount == 0}}未对账{{else}}已对账{{/if}}</td>{{/if}}\r\n                    </tr>\r\n                    {{/if}}\r\n                    {{/each}}\r\n                    </tbody>\r\n                </table>\r\n            </div>\r\n\r\n            <div id="financial-count-reimbursement-other-insurance" class="tab-pane fade T-insurance">\r\n                \r\n                <table class="table table-striped table-bordered table-hover">\r\n                    <thead>\r\n                    <tr>\r\n                        <th class="th-border">保险公司</th>\r\n                        <th class="th-border">险种</th>\r\n                        <th class="th-border">单价</th>\r\n                        <th class="th-border">数量</th>\r\n                        <th class="th-border">应付</th>\r\n                        <th class="th-border">已付</th>\r\n                        <th class="th-border">导游报账备注</th>\r\n                        {{if tripPlan.billStatus == 2 }}<th class="th-border" rowspan="2">是否对账</th>{{/if}}\r\n                    </tr>\r\n                    </thead>\r\n                    <tbody class="T-count-insurance">\r\n                    {{each insuranceArrangeList as insuranceArrange}}\r\n                    <tr>\r\n                    <td>{{insuranceArrange.insurance.name}}</td>\r\n                    <td>{{insuranceArrange.type}}</td>\r\n                    <td>{{insuranceArrange.price}}</td>\r\n                    <td>{{insuranceArrange.memberCount}}</td>\r\n                    <td>{{insuranceArrange.needPayMoney}}</td>\r\n                    <td>{{insuranceArrange.payedMoney}}</td>\r\n                    <td></td>\r\n                    </tr>\r\n                    {{/each}}\r\n                    </tbody>\r\n                </table>\r\n            </div>\r\n            <!-- 车费 -->\r\n            <div id="financial-count-reimbursement-buspay" class="tab-pane fade T-bus">\r\n                <!-- <div class="ui-sortable-handle widget-container-col">\r\n                    <h5 class="title-size">\r\n                        <i class="ace-icon fa fa-medkit"></i> 车费\r\n                        <a href="javascript:void(0)" class="T-buspay-add">\r\n                            <button class="btn btn-sm btn-success T-add" style="margin-left: 20px">\r\n                                <i class="ace-icon fa fa-plus"></i>\r\n                                新增\r\n                            </button>\r\n                        </a>\r\n                    </h5>\r\n                </div> -->\r\n                <table class="table table-striped table-bordered table-hover">\r\n                    <thead>\r\n                    <tr>\r\n                        <th class="th-border"><span class="necessary">*</span>所属车队</th>\r\n                        <th class="th-border"><span class="necessary">*</span>车牌号</th>\r\n                        <th class="th-border"><span class="necessary">*</span>座位数</th>\r\n                        <th class="th-border"><span class="necessary">*</span>车费</th>\r\n                        <th class="th-border">优惠</th>\r\n                        <th class="th-border">应付</th>\r\n                        <th class="th-border">已付</th>\r\n                        <th class="th-border">导付</th>\r\n                        <th class="th-border">单据</th>\r\n                        <th class="th-border">差额</th>\r\n                        <th class="th-border">导游报账备注</th>\r\n                        {{if tripPlan.billStatus == 2 }}<th class="th-border" rowspan="2">是否对账</th>{{/if}}\r\n\r\n                    </tr>\r\n                    </thead>\r\n                    <tbody class="T-count-bus">\r\n                    {{each busCompanyArrange as busCompany}}\r\n                    {{if busCompany != null}}\r\n                    <tr busCompanyArrangeId="{{busCompany.id}}" badStatus = "{{busCompany.badStatus}}">\r\n                        <td>{{if busCompany.busCompany != null}}{{busCompany.busCompany.companyName}}{{/if}}</td>\r\n                        <td>{{if busCompany.bus != null}}{{busCompany.bus.licenseNumber}}{{/if}}</td>\r\n                        <td>{{if busCompany.bus != null}}{{busCompany.bus.seatCount}}{{/if}}</td>\r\n                        <td>{{if busCompany.badStatus == 1}}<span>{{busCompany.price}}</span>{{else}}<input type="text" name="price" value="{{busCompany.price}}"/>{{/if}}\r\n                        <input type="hidden" name="price" value="{{busCompany.price}}" /><input type="hidden" name="realPrice" value="{{busCompany.price}}" /><input type="hidden" name="realCount" value="1" /></td>\r\n                        <td>{{if busCompany.badStatus == 1}}<span>{{busCompany.realReduceMoney}}</span>{{else}}<input type="text" name="realReduceMoney" value="{{busCompany.realReduceMoney}}" old="{{busCompany.realReduceMoney}}"/>{{/if}}\r\n                        </td>\r\n                        <td>{{if busCompany.badStatus == 1}}<span class="BusneedPayMoney">{{busCompany.payedMoney+busCompany.realGuidePayMoney}}</span>{{else}}<span class="BusneedPayMoney"></span>{{/if}}\r\n                        <input type="hidden" name="needPayMoney" value="{{busCompany.needPayMoney}}"/></td>\r\n                        <td>{{busCompany.payedMoney}}</td>\r\n                        <td>{{if busCompany.badStatus == 1}}<span>{{busCompany.realGuidePayMoney}}</span>{{else}}<input style="width:90px;" type="text" name="realGuidePayMoney" {{if busCompany.billUpdateTime != null}}value="{{busCompany.realGuidePayMoney}}"{{else}}value=0 {{/if}} old="{{busCompany.realGuidePayMoney}}" maxlength="11" {{if busCompany.isConfirmAccount == 1}} readOnly="readOnly" {{/if}}/>{{/if}}\r\n                            <input type="hidden" name="payedMoney" value="{{busCompany.payedMoney}}" {{if busCompany.isConfirmAccount == 1}}readOnly="readOnly"{{/if}}/>\r\n                            <input type="hidden" name="guidePayMoney" value="{{busCompany.guidePayMoney}}" /></td>\r\n                         <td>{{if busCompany.billImage != null && busCompany.billImage != ""}}\r\n                                <a href="javascript:void(0);" url="{{busCompany.billImage}}" class="btn-view">查看</a>\r\n                            {{else}}\r\n                                <span style="color:#bbb;">查看</span>\r\n                            {{/if}}\r\n                        </td>\r\n                        <td><span class="difference"></span></td>\r\n                        <td><input value="{{busCompany.billRemark}}"  type="text" name="billRemark" maxlength="1000" /></td>\r\n                        {{if tripPlan.billStatus == 2}}<td>{{if busCompany.isConfirmAccount == 0}}未对账{{else}}已对账{{/if}}</td>{{/if}}\r\n                    </tr>\r\n                    {{/if}}\r\n                    {{/each}}\r\n                    </tbody>\r\n                </table>\r\n            </div>\r\n\r\n            <!-- 餐费 -->\r\n            <div id="financial-count-reimbursement-restaurantpay" class="tab-pane fade T-restaurant">\r\n                <div class="ui-sortable-handle widget-container-col">\r\n                    <h5 class="title-size">\r\n                        <i class="ace-icon fa fa-medkit"></i> 餐费\r\n                        <a href="javascript:void(0)" class="T-restaurantpay-add">\r\n                            <button class="btn btn-sm btn-success T-add" style="margin-left: 20px">\r\n                                <i class="ace-icon fa fa-plus"></i>\r\n                                新增\r\n                            </button>\r\n                        </a>\r\n                    </h5>\r\n                </div>\r\n                <table class="table table-striped table-bordered table-hover">\r\n                    <thead>\r\n                        <tr>\r\n                            <th class="th-border"><span class="necessary">*</span>时间</th>\r\n                            <th class="th-border"><span class="necessary">*</span>餐厅</th>\r\n                            <th class="th-border"><span class="necessary">*</span>类型</th>\r\n                            <th class="th-border"><span class="necessary">*</span>餐标<span style="font-size:12px;">(元/人)</span></th>\r\n                            <th class="th-border"><span class="necessary">*</span>人数</th>\r\n                            <th class="th-border">优惠</th>\r\n                            <th class="th-border">应付</th>\r\n                            <th class="th-border">已付</th>\r\n                            <th class="th-border">导付</th>\r\n                            <th class="th-border">单据</th>\r\n                            <th class="th-border">差额</th>\r\n                            <th class="th-border">导游报账备注</th>\r\n                            {{if tripPlan.billStatus == 2 }}<th class="th-border" rowspan="2">是否对账</th>{{/if}}\r\n                        </tr>\r\n                    </thead>\r\n                    <tbody class="T-count-restaurant"> \r\n                    {{each dayList as day}}\r\n                    {{if day.restaurantArrange != null}}\r\n                    {{each day.restaurantArrange as arrangeList}}\r\n                    {{each arrangeList.restaurantArrangeList as arrange index}}\r\n                    {{if arrange != null}}\r\n                    <tr badStatus = "{{arrange.badStatus}}" restaurantArrangeId="{{arrange.id}}" restaurantId="{{if arrange.restaurant != null}}{{arrange.restaurant.id}}{{/if}}" restaurantStandardId="{{if arrange.restaurantStandard != null}}{{arrange.restaurantStandard.id}}{{/if}}">\r\n                        {{if index == 0}}<td rowspan="{{arrangeList.restaurantArrangeList.length}}">第{{arrange.whichDay}}天</td>{{/if}}\r\n                        {{if index == 0}}{{if arrange.isChoose != 1}}<td rowspan="{{arrangeList.restaurantArrangeList.length}}">{{if arrange.restaurant != null}}{{arrange.restaurant.name}}{{/if}}</td>{{else}}<td>\r\n                            <select name="restaurant">\r\n                                <option value = -1>请选择</option>\r\n                                {{each arrange.restaurantChooseArrangeList as restaurant index}}\r\n                                    <option style="width:150px;" value = "{{restaurant.restaurantId}}" \r\n                                   {{if arrange.restaurant != null}}{{if arrange.restaurant.id == restaurant.restaurantId}}selected="selected"{{/if}}{{/if}}>{{restaurant.name}}</option>\r\n                                {{/each}}\r\n                            </select>  \r\n                        </td>{{/if}}{{/if}}\r\n                        <!-- {{if index == 0}}<td rowspan="{{arrangeList.restaurantArrangeList.length}}">\r\n                        {{if arrange.billUpdateTime != null}}{{if arrange.restaurant != null}}{{arrange.restaurant.name}}{{/if}}{{else}}{{if arrange.isChoose == 1}}自选{{else}}{{if arrange.restaurant != null}}{{arrange.restaurant.name}}{{/if}}{{/if}}{{/if}}</td>{{/if}} -->\r\n                        <td>{{arrange.type}}</td> \r\n                        <td>{{if arrange.badStatus == 1}}<span>{{arrange.price}}</span>{{else}} <span class="price">{{arrange.price}}</span>{{/if}}\r\n                       <input type="hidden" name="price" value="{{arrange.price}}" /></td>\r\n                        <td>{{if arrange.badStatus == 1}}<span>{{arrange.memberCount}}</span>{{else}}<input style="width:90px;" type="text" name="realCount" {{if arrange.billUpdateTime != null}}value="{{arrange.realCount}}" \r\n                        {{else}}value="{{arrange.memberCount}}"{{/if}} old="{{arrange.realCount}}" maxlength="5"\r\n                        {{if arrange.isConfirmAccount == 1}}readOnly="readOnly"{{/if}}/>{{/if}}\r\n                        </td>\r\n                        <td>{{if arrange.badStatus == 1}}<span>{{arrange.realReduceMoney}}</span>{{else}} <input type="text" name="realReduceMoney" value="{{arrange.realReduceMoney}}" old="{{arrange.realReduceMoney}}"/>{{/if}}\r\n                       </td>\r\n                        <td>{{if arrange.badStatus == 1}}<span class="">{{arrange.payedMoney+arrange.realGuidePayMoney}}</span>{{else}}<span class="restneedPayMoney"></span>{{/if}}\r\n                        <input type="hidden" value="{{arrange.needPayMoney}}" name="needPayMoney"></td>\r\n                        <td>{{arrange.payedMoney}}</td>\r\n                        <td>{{if arrange.badStatus == 1}}<span>{{arrange.realGuidePayMoney}}</span>{{else}} <input style="width:90px;" type="text" name="realGuidePayMoney" {{if arrange.billUpdateTime != null}}value="{{arrange.realGuidePayMoney}}"{{else}}value="{{arrange.guidePayMoney}}"{{/if}} old="{{arrange.realGuidePayMoney}}" maxlength="11" {{if arrange.isConfirmAccount == 1}}readOnly="readOnly"{{/if}}/>{{/if}}\r\n                            <input type="hidden" name="payedMoney" value="{{arrange.payedMoney}}" />\r\n                            <input type="hidden" name="guidePayMoney" value="{{arrange.guidePayMoney}}" /></td>\r\n                        <td>{{if arrange.billImage != null && arrange.billImage != ""}}\r\n                                <a href="javascript:void(0);" url="{{arrange.billImage}}" class="btn-view">查看</a>\r\n                            {{else}}\r\n                                <span style="color:#bbb;">查看</span>\r\n                            {{/if}}\r\n                        </td>\r\n                        <td><span class="difference"></span></td>\r\n                        <td><input value="{{arrange.billRemark}}" name="billRemark" type="text"></td>\r\n                        {{if tripPlan.billStatus == 2}}<td>{{if arrange.isConfirmAccount == 0}}未对账{{else}}已对账{{/if}}</td>{{/if}}\r\n                    </tr>\r\n                    {{/if}}\r\n                    {{/each}}\r\n                    {{/each}}\r\n                    {{/if}}\r\n                    {{/each}}\r\n                    </tbody>\r\n                </table>\r\n            </div>\r\n\r\n            <!-- 房费 -->\r\n            <div id="financial-count-reimbursement-hotelpay" class="tab-pane fade T-hotel">\r\n                <div class="ui-sortable-handle widget-container-col">\r\n                    <h5 class="title-size">\r\n                        <i class="ace-icon fa fa-medkit"></i>房费\r\n                        <a href="javascript:void(0)" class="T-hotel-add">\r\n                            <button class="btn btn-sm btn-success T-add" style="margin-left: 20px">\r\n                                <i class="ace-icon fa fa-plus"></i>\r\n                                新增\r\n                            </button>\r\n                        </a>\r\n                    </h5>\r\n                </div>\r\n                <table class="table table-striped table-bordered table-hover">\r\n                    <thead>\r\n                    <tr>\r\n                        <th class="th-border"><span class="necessary">*</span>时间</th>\r\n                        <th class="th-border"><span class="necessary">*</span>酒店</th>\r\n                        <th class="th-border"><span class="necessary">*</span>房型</th>\r\n                        <th class="th-border"><span class="necessary">*</span>单价</th>\r\n                        <th class="th-border"><span class="necessary">*</span>间数</th>\r\n                        <th class="th-border">优惠</th>\r\n                        <th class="th-border">应付</th>\r\n                        <th class="th-border">已付</th>\r\n                        <th class="th-border">导付</th>\r\n                        <th class="th-border">单据</th>\r\n                        <th class="th-border">差额</th>\r\n                        <th class="th-border">导游报账备注</th>\r\n                        {{if tripPlan.billStatus == 2 }}<th class="th-border" rowspan="2">是否对账</th>{{/if}}\r\n                    </tr> \r\n                    </thead>\r\n                    <tbody class="T-count-hotel">\r\n                    {{each dayList as day}}\r\n                    {{if day.hotelArrange != null}}\r\n                    {{each day.hotelArrange as arrangeList}}\r\n                    {{each arrangeList.hotelArrangeList as arrange index}}\r\n                    {{if arrange != null}}\r\n                    <tr badStatus = "{{arrange.badStatus}}" hotelArrangeId="{{arrange.id}}" hotelId="{{if arrange.hotel != null}}{{arrange.hotel.id}}{{/if}}" restaurantStandardId="{{if arrange.hotelRoom != null}}{{arrange.hotelRoom.id}}{{/if}}">\r\n                        {{if index == 0}}<td rowspan="{{arrangeList.hotelArrangeList.length}}">第{{arrange.whichDay}}天</td>{{/if}}\r\n                        {{if index == 0}}<td rowspan="{{arrangeList.hotelArrangeList.length}}">{{if arrange.hotel != null}}{{arrange.hotel.name}}{{/if}}</td>{{/if}}\r\n                        <td>{{if arrange.hotelRoom != null}}{{arrange.hotelRoom.type}}{{/if}}</td>\r\n                        <td>{{if arrange.badStatus == 1}}<span>{{arrange.price}}</span>{{else}} <span>{{arrange.price}}</span>{{/if}}\r\n                        <input type="hidden" name="price" value="{{arrange.price}}" /></td>\r\n                        <td>{{if arrange.badStatus == 1}}<span>{{arrange.memberCount}}</span>{{else}}<input style="width:90px;" type="text" name="realCount" {{if arrange.billUpdateTime !=null}}value="{{arrange.realCount}}" {{else}}value="{{arrange.memberCount}}"{{/if}}oid="{{arrange.realCount}}" maxlength="5" \r\n                        {{if arrange.isConfirmAccount == 1}}readOnly="readOnly"{{/if}}/>{{/if}}\r\n                        </td>\r\n                        <td>{{if arrange.badStatus == 1}}<span>{{arrange.realReduceMoney}}</span>{{else}} <input type="text" name="realReduceMoney" value="{{arrange.realReduceMoney}}" old="{{arrange.realReduceMoney}}"/>{{/if}}\r\n                       </td>\r\n                        <td>{{if arrange.badStatus == 1}}<span class="hotelneedPayMoney">{{arrange.payedMoney+arrange.realGuidePayMoney}}</span>{{else}} <span class="hotelneedPayMoney"></span>{{/if}}\r\n                       <input name="needPayMoney" type="hidden" value="{{arrange.needPayMoney}}"></td>\r\n                        <td>{{arrange.payedMoney}}</td>\r\n                        <td>{{if arrange.badStatus == 1}}<span>{{arrange.realGuidePayMoney}}</span>{{else}}<input style="width:90px;" type="text" name="realGuidePayMoney" {{if arrange.billUpdateTime != null }} value="{{arrange.realGuidePayMoney}}"{{else}}value="{{arrange.guidePayMoney}}" {{/if}} oid="{{arrange.realGuidePayMoney}}" maxlength="11" {{if arrange.isConfirmAccount == 1}}readOnly="readOnly"{{/if}}/>{{/if}}\r\n                            <input type="hidden" name="payedMoney" value="{{arrange.payedMoney}}" />\r\n                            <input type="hidden" name="guidePayMoney" value="{{arrange.guidePayMoney}}" /></td>\r\n                        <td>{{if arrange.billImage != null && arrange.billImage != ""}}\r\n                                <a href="javascript:void(0);" url="{{arrange.billImage}}" class="btn-view">查看</a>\r\n                            {{else}}\r\n                                <span style="color:#bbb;">查看</span>\r\n                            {{/if}}\r\n                        </td>\r\n                        <td><span class="difference"></span></td>\r\n                        <td><input value="{{arrange.billRemark}}"  type="text" name="billRemark" maxlength="1000" /></td>\r\n                        {{if tripPlan.billStatus == 2}}<td>{{if arrange.isConfirmAccount == 0}}未对账{{else}}已对账{{/if}}</td>{{/if}}\r\n                    </tr>\r\n                    {{/if}}\r\n                    {{/each}}\r\n                    {{/each}}\r\n                    {{/if}}\r\n                    {{/each}}\r\n                    </tbody>\r\n                </table>\r\n            </div>\r\n\r\n            <!-- 景区 -->\r\n            <div id="financial-count-reimbursement-scenicpay" class="tab-pane fade T-scenic">\r\n                <div class="ui-sortable-handle widget-container-col">\r\n                    <h5 class="title-size">\r\n                        <i class="ace-icon fa fa-medkit"></i>景区\r\n                        <a href="javascript:void(0)" class="T-scenic-add">\r\n                            <button class="btn btn-sm btn-success T-add" style="margin-left: 20px">\r\n                                <i class="ace-icon fa fa-plus"></i>\r\n                                新增\r\n                            </button>\r\n                        </a>\r\n                    </h5>\r\n                </div>\r\n                <table class="table table-striped table-bordered table-hover">\r\n                    <thead>\r\n                    <tr>\r\n                        <th class="th-border"><span class="necessary">*</span>时间</th>\r\n                        <th class="th-border"><span class="necessary">*</span>景区</th>\r\n                        <th class="th-border"><span class="necessary">*</span>收费项目</th>\r\n                        <th class="th-border"><span class="necessary">*</span>单价</th>\r\n                        <th class="th-border"><span class="necessary">*</span>数量</th>\r\n                        <th class="th-border">优惠</th>\r\n                        <th class="th-border">应付</th>\r\n                        <th class="th-border">已付</th> \r\n                        <th class="th-border">导付</th>\r\n                        <th class="th-border">单据</th>\r\n                        <th class="th-border">差额</th>\r\n                        <th class="th-border">导游报账备注</th>\r\n                        {{if tripPlan.billStatus == 2 }}<th class="th-border" rowspan="2">是否对账</th>{{/if}}\r\n                    </tr>\r\n                    </thead> \r\n                    <tbody class="T-count-scenic">\r\n                    {{each dayList as day}}\r\n                    {{if day.scenicArrange != null}}\r\n                    {{each day.scenicArrange as arrangeList}}\r\n                    {{each arrangeList.scenicArrangeList as arrange index}}\r\n                    {{if arrange != null}}\r\n                    <tr badStatus = "{{arrange.badStatus}}" scenicArrangeId="{{arrange.id}}" scenicId="{{arrange.scenicId}}" scenicItemId="{{arrange.hotelRoomId}}">\r\n                        {{if index == 0}}<td rowspan="{{arrangeList.scenicArrangeList.length}}">第{{arrange.whichDay}}天</td>{{/if}}\r\n                        {{if index == 0}}<td rowspan="{{arrangeList.scenicArrangeList.length}}">{{if arrange.scenic != null}}{{arrange.scenic.name}}{{/if}}</td>{{/if}}\r\n                        <td>{{if arrange.scenicItem != null}}{{arrange.scenicItem.name}}{{/if}}</td>\r\n                        <td>{{if arrange.badStatus == 1}}<span>{{arrange.price}}</span>{{else}}<span>{{arrange.price}}</span>{{/if}}\r\n                        <input type="hidden" name="price" value="{{arrange.price}}" /></td>\r\n                        <td>{{if arrange.badStatus == 1}}<span>{{arrange.memberCount}}</span>{{else}}<input style="width:90px;" type="text" name="realCount" {{if arrange.billUpdateTime !=null}}value="{{arrange.realCount}}" {{else}}value="{{arrange.memberCount}}"{{/if}} old="{{arrange.realCount}}" maxlength="5"\r\n                        {{if arrange.isConfirmAccount == 1}}readOnly="readOnly"{{/if}}/>{{/if}}\r\n                        </td>\r\n                        <td>{{if arrange.badStatus == 1}}<span>{{arrange.realReduceMoney}}</span>{{else}}<input type="text" name="realReduceMoney" value="{{arrange.realReduceMoney}}" old="{{arrange.realReduceMoney}}"/>{{/if}}\r\n                        </td>\r\n                        <td>{{if arrange.badStatus == 1}}<span class="scenicneedPayMoney">{{arrange.payedMoney+arrange.realGuidePayMoney}}</span>{{else}}<span class="scenicneedPayMoney"></span>{{/if}}\r\n                        <input type="hidden" name="needPayMoney" value="{{arrange.needPayMoney}}"></td>\r\n                        <td>{{arrange.payedMoney}}</td>\r\n                        <td>{{if arrange.badStatus == 1}}<span>{{arrange.realGuidePayMoney}}</span>{{else}}<input style="width:90px;" type="text" name="realGuidePayMoney" {{if arrange.billUpdateTime != null}} value="{{arrange.realGuidePayMoney}}"{{else}}value="{{arrange.guidePayMoney}}"{{/if}} old="{{arrange.realGuidePayMoney}}" maxlength="11" {{if arrange.isConfirmAccount == 1}}readOnly="readOnly"{{/if}}/>{{/if}}\r\n                            <input type="hidden" name="payedMoney" value="{{arrange.payedMoney}}" />\r\n                            <input type="hidden" name="guidePayMoney" value="{{arrange.guidePayMoney}}" /></td>\r\n                        <td>{{if arrange.billImage != null && arrange.billImage != ""}}\r\n                                <a href="javascript:void(0);" url="{{arrange.billImage}}" class="btn-view">查看</a>\r\n                            {{else}}\r\n                                <span style="color:#bbb;">查看</span>\r\n                            {{/if}}\r\n                        </td>\r\n                        <td><span class="difference"></span></td>\r\n                        <td><input value="{{arrange.billRemark}}"  type="text" name="billRemark" maxlength="1000" /></td>\r\n                        {{if tripPlan.billStatus == 2}}<td>{{if arrange.isConfirmAccount == 0}}未对账{{else}}已对账{{/if}}</td>{{/if}}\r\n                    </tr>\r\n                    {{/if}}\r\n                    {{/each}}\r\n                    {{/each}}\r\n                    {{/if}}\r\n                    {{/each}}\r\n                    </tbody>\r\n                </table>\r\n            </div>\r\n\r\n            <!-- 票务 -->\r\n            <div id="financial-count-reimbursement-ticketpay" class="tab-pane fade T-ticket">\r\n                <div class="ui-sortable-handle widget-container-col">\r\n                    <h5 class="title-size">\r\n                        <i class="ace-icon fa fa-medkit"></i>票务\r\n                        <a href="javascript:void(0)" class="T-ticket-add">\r\n                            <button class="btn btn-sm btn-success T-add" style="margin-left: 20px">\r\n                                <i class="ace-icon fa fa-plus"></i>\r\n                                新增\r\n                            </button>\r\n                        </a>\r\n                    </h5>\r\n                </div>\r\n                <table class="table table-striped table-bordered table-hover">\r\n                    <thead>\r\n                    <tr>\r\n                        <th class="th-border"><span class="necessary">*</span>票务商家</th>\r\n                        <th class="th-border"><span class="necessary">*</span>类型</th>\r\n                        <th class="th-border"><span class="necessary">*</span>日期</th>\r\n                        <th class="th-border">出发地</th>\r\n                        <th class="th-border">目的地</th>\r\n                        <th class="th-border">班次</th>\r\n                        <th class="th-border"><span class="necessary">*</span>座位级别</th>\r\n                        <th class="th-border"><span class="necessary">*</span>单价</th>\r\n                        <th class="th-border"><span class="necessary">*</span>数量</th>\r\n                        <th class="th-border">优惠</th>\r\n                        <th class="th-border">应付</th>\r\n                        <th class="th-border">已付</th>\r\n                        <th class="th-border">导付</th>\r\n                        <th class="th-border">单据</th>\r\n                        <th class="th-border">差额</th>\r\n                        <th class="th-border">导游报账备注</th>\r\n                        {{if tripPlan.billStatus == 2 }}<th class="th-border" rowspan="2">是否对账</th>{{/if}}\r\n                    </tr>\r\n                    </thead>\r\n                    <tbody class="T-count-ticket">\r\n                    {{each ticketArrangeList as ticketArrange}}\r\n                    {{each ticketArrange.ticketArrangeList as arrange index}}\r\n                    <tr badStatus = "{{arrange.badStatus}}" ticketArrangeId="{{arrange.id}}" ticketId="{{arrange.ticket.id}}" itemId="{{arrange.id}}">\r\n                    {{if index == 0}}<td rowspan="{{ticketArrange.ticketArrangeList.length}}">{{if arrange.ticket != null}}{{arrange.ticket.name}}{{/if}}</td>{{/if}}\r\n                    {{if index == 0}}<td rowspan="{{ticketArrange.ticketArrangeList.length}}">{{if arrange.type == 1}}机票{{else if arrange.type== 2}}汽车票{{else if arrange.type == 3}}火车票{{else if arrange.type == 4}}轮船票{{/if}}</td>{{/if}}\r\n                    {{if index == 0}}<td rowspan="{{ticketArrange.ticketArrangeList.length}}">{{arrange.startTime}}</td>{{/if}}\r\n                    {{if index == 0}}<td rowspan="{{ticketArrange.ticketArrangeList.length}}">{{arrange.startingCity}}</td>{{/if}}\r\n                    {{if index == 0}}<td rowspan="{{ticketArrange.ticketArrangeList.length}}">{{arrange.arriveCity}}</td>{{/if}}\r\n                    <td>{{arrange.shift}}</td>\r\n                    <td>{{arrange.seatLevel}}</td>\r\n                        <td>{{if arrange.badStatus == 1}}<span>{{arrange.price}}</span>{{else}}<span>{{arrange.price}}</span>{{/if}}\r\n                        <input type="hidden" name="price" value="{{arrange.price}}" /></td>\r\n                        <td>{{if arrange.badStatus == 1}}<span>{{arrange.memberCount}}</span>{{else}}<input style="width:90px;" name="realCount" type="text" {{if arrange.billUpdateTime !=null}}value="{{arrange.realCount}}" {{else}}value="{{arrange.memberCount}}"{{/if}} old="{{arrange.realCount}}" maxlength="5" \r\n                        {{if arrange.isConfirmAccount == 1}}readOnly="readOnly"{{/if}}/>{{/if}}\r\n                        <input type="hidden" name="price" value="{{arrange.price}}" /></td>\r\n                        </td>\r\n                        <td>{{if arrange.badStatus == 1}}<span>{{arrange.realReduceMoney}}</span>{{else}}<input type="text" name="realReduceMoney" value="{{arrange.realReduceMoney}}" old="{{arrange.realReduceMoney}}"/>{{/if}}\r\n                        </td>\r\n                        <td>{{if arrange.badStatus == 1}}<span class="ticketneedPayMoney">{{arrange.payedMoney+arrange.realGuidePayMoney}}</span>{{else}}<span class="ticketneedPayMoney"></span>{{/if}}\r\n                        <input type="hidden" value="{{arrange.needPayMoney}}" name="needPayMoney"></td>\r\n                        <td>{{arrange.payedMoney}}</td>\r\n                        <td>{{if arrange.badStatus == 1}}<span>{{arrange.realGuidePayMoney}}</span>{{else}}<input style="width:90px;" type="text" name="realGuidePayMoney" {{if arrange.billUpdateTime != null}}value="{{arrange.realGuidePayMoney}}" {{else}}value="{{arrange.guidePayMoney}}"{{/if}} old="{{arrange.realGuidePayMoney}}" maxlength="11" {{if arrange.isConfirmAccount == 1}}readOnly="readOnly"{{/if}}/>{{/if}}\r\n                            <input type="hidden" name="payedMoney" value="{{arrange.payedMoney}}" />\r\n                            <input type="hidden" name="guidePayMoney" value="{{arrange.guidePayMoney}}" /></td>\r\n                        <td>{{if arrange.billImage != null && arrange.billImage != ""}}\r\n                                <a href="javascript:void(0);" url="{{arrange.billImage}}" class="btn-view">查看</a>\r\n                            {{else}}\r\n                                <span style="color:#bbb;">查看</span>\r\n                            {{/if}}\r\n                        </td>\r\n                        <td><span class="difference"></span></td>\r\n                        <td><input value="{{arrange.billRemark}}"  type="text" name="billRemark" maxlength="1000" /></td>\r\n                        {{if tripPlan.billStatus == 2}}<td>{{if arrange.isConfirmAccount == 0}}未对账{{else}}已对账{{/if}}</td>{{/if}}\r\n                    </tr>\r\n                    {{/each}}\r\n                    {{/each}}\r\n                    </tbody>\r\n                </table>\r\n            </div>\r\n\r\n            <!-- 其他支出 -->\r\n            <div id="financial-count-reimbursement-otherpay" class="tab-pane fade T-otherOut">\r\n                <div class="ui-sortable-handle widget-container-col">\r\n                    <h5 class="title-size">\r\n                        <i class="ace-icon fa fa-medkit"></i>其他支出\r\n                        <a href="javascript:void(0)" class="T-otherOut-add">\r\n                            <button class="btn btn-sm btn-success T-add" style="margin-left: 20px">\r\n                                <i class="ace-icon fa fa-plus"></i>\r\n                                新增\r\n                            </button>\r\n                        </a>\r\n                    </h5>\r\n                </div>\r\n                <table class="table table-striped table-bordered table-hover">\r\n                    <thead>\r\n                    <tr>\r\n                        <th class="th-border"><span class="necessary">*</span>时间</th>\r\n                        <th class="th-border"><span class="necessary">*</span>项目</th>\r\n                        <th class="th-border"><span class="necessary">*</span>单价</th>\r\n                        <th class="th-border"><span class="necessary">*</span>数量</th>\r\n                        <th class="th-border">优惠</th>\r\n                        <th class="th-border">应付</th>\r\n                        <th class="th-border">已付</th>\r\n                        <th class="th-border">导付</th>\r\n                        <th class="th-border">单据</th>\r\n                        <th class="th-border">差额</th>\r\n                        <th class="th-border">导游报账备注</th> \r\n                        {{if tripPlan.billStatus == 2 }}<th class="th-border" rowspan="2">是否对账</th>{{/if}}\r\n                    </tr>\r\n                    </thead>\r\n                    <tbody class="T-count-otherOut"> \r\n                    {{each dayList as day}}\r\n                    {{if day.otherArrange != null}}\r\n                    {{each day.otherArrange as arrange index}}\r\n                    {{if arrange != null}}\r\n                    <tr badStatus = "{{arrange.badStatus}}" otherArrangeId="{{arrange.id}}">\r\n                        <td>第{{arrange.whichDay}}天</td>\r\n                        <td>{{arrange.name}}</td>\r\n                        <td>{{if arrange.badStatus == 1}}<span>{{arrange.price}}</span>{{else}}<span class="price">{{arrange.price}}</span>{{/if}}\r\n                        <input type="hidden" name="price" value="{{arrange.price}}" {{if arrange.isConfirmAccount == 1}}readOnly="readOnly"{{/if}}/></td>\r\n                        <td>{{if arrange.badStatus == 1}}<span>{{arrange.memberCount}}</span>{{else}}<input style="width:90px;" type="text" name="realCount" {{if arrange.billUpdateTime}}value="{{arrange.realCount}}"{{else}}value="{{arrange.memberCount}}" {{/if}} old="{{arrange.realCount}}" old="{{arrange.realCount}}" maxlength="5" \r\n                        {{if arrange.isConfirmAccount == 1}}readOnly="readOnly"{{/if}}/>{{/if}}\r\n                        </td>\r\n                        <td>{{if arrange.badStatus == 1}}<span>{{arrange.realReduceMoney}}</span>{{else}}<input type="text" name="realReduceMoney" value="{{arrange.realReduceMoney}}"/>{{/if}}\r\n                        </td>\r\n                        <td>{{if arrange.badStatus == 1}}<span class="otherOutNeedPayMoney">{{arrange.payedMoney+arrange.realGuidePayMoney}}</span>{{else}}<span class="otherOutNeedPayMoney"></span>{{/if}}\r\n                        <input type="hidden" name="needPayMoney" value="{{arrange.needPayMoney}}"></td>\r\n                        <td>{{arrange.payedMoney}}</td>\r\n                        <td>{{if arrange.badStatus == 1}}<span>{{arrange.realGuidePayMoney}}</span>{{else}}<input style="width:90px;" type="text" name="realGuidePayMoney" {{if arrange.billUpdateTime != null}}value="{{arrange.realGuidePayMoney}}" {{else}}value="{{arrange.guidePayMoney}}"{{/if}} old="{{arrange.realGuidePayMoney}}" maxlength="11" {{if arrange.isConfirmAccount == 1}}readOnly="readOnly"{{/if}}/>{{/if}}\r\n                            <input type="hidden" name="payedMoney" value="{{arrange.payedMoney}}" />\r\n                            <input type="hidden" name="guidePayMoney" value="{{arrange.guidePayMoney}}" /></td>\r\n                        <td>{{if arrange.billImage != null && arrange.billImage != ""}}\r\n                                <a href="javascript:void(0);" url="{{arrange.billImage}}" class="btn-view">查看</a>\r\n                            {{else}}\r\n                                <span style="color:#bbb;">查看</span>\r\n                            {{/if}}\r\n                        </td>\r\n                        <td><span class="difference"></span></td>\r\n                        <td><input value="{{arrange.billRemark}}"  type="text" name="billRemark" maxlength="1000" /></td>\r\n                        {{if tripPlan.billStatus == 2}}<td>{{if arrange.isConfirmAccount == 0}}未对账{{else}}已对账{{/if}}</td>{{/if}}\r\n                    </tr>\r\n                    {{/if}}\r\n                    {{/each}}\r\n                    {{/if}}\r\n                    {{/each}}\r\n                    </tbody>\r\n                </table>\r\n            </div>\r\n\r\n            {{if touristGroup != null}}\r\n            <!-- 中转 -->\r\n            <div id="financial-count-reimbursement-outarrangepay" class="tab-pane fade T-transit">\r\n                <table class="table table-striped table-bordered table-hover">\r\n                    <thead>\r\n                        <tr>\r\n                        <th class="th-border">序号</th>\r\n                        <th class="th-border">来源</th>\r\n                        <th class="th-border">小组联系人</th>\r\n                        <th class="th-border">联系电话</th>\r\n                        <th class="th-border">人数</th>\r\n                        <th class="th-border">接团</th>\r\n                        <th class="th-border">小车</th>\r\n                        <th class="th-border">送团</th>\r\n                        <th class="th-border">明细</th>\r\n                        </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                    {{each touristGroup.touristGroupList as touristGroup index}}\r\n                     <tr>\r\n                        <td>{{index+1}}</td>\r\n                        <td>{{touristGroup.partnerAgencyName}}</td>\r\n                        <td>{{touristGroup.name}}</td>\r\n                        <td>{{touristGroup.mobileNumber}}</td>\r\n                        <td>{{touristGroup.adultCount}}大{{touristGroup.childCount}}小</td>\r\n                        <td>{{touristGroup.arriveService}}</td>\r\n                        <td>{{touristGroup.busService}}</td>\r\n                        <td>{{touristGroup.leaveService}}</td>\r\n                        <td><a href="javascript:void(0);" data-entity-id="{{touristGroup.id}}" class="T-viewTripTransit">查看</a></td>\r\n                     </tr>\r\n                    {{/each}}\r\n                    </tbody>\r\n                </table>\r\n\r\n                {{if tripPlan.billStatus > -1}}\r\n                <div style="width:60%;">\r\n                    <div>\r\n                        <label style="margin:5px 0px 0px 0px;">财务审核批注：</label>\r\n                        <input readonly="readonly" type="text" style="width:30%;" value="{{if remarkArrangeList[10] != null}}{{remarkArrangeList[10].opCheckRemark}}{{/if}}" />\r\n                        <label style="margin:5px 0px 0px 10px;">计调审核批注：</label>\r\n                        <input readonly="readonly" type="text" style="width:30%;" value="{{if remarkArrangeList[10] != null}}{{remarkArrangeList[10].financeCheckRemark}}{{/if}}" />\r\n                    </div>\r\n                </div>{{/if}}\r\n            </div>\r\n            {{/if}}\r\n        </div>\r\n    </div>\r\n    <div style="height:30px;"></div>\r\n</div>'.split(/\n/)[$line - 1].replace(/^\s+/, "")
            };
        }
    });
});